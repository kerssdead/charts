{"version":3,"file":"ocharts.js","mappings":"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","sources":["webpack://charts/./src/Animations.ts","webpack://charts/./src/Helper.ts","webpack://charts/./src/types/TooltipValue.ts","webpack://charts/./src/helpers/Errors.ts","webpack://charts/./src/Chart.ts","webpack://charts/./src/types/Color.ts","webpack://charts/./src/static/constants/Animations.ts","webpack://charts/./src/types/PlotPoint.ts","webpack://charts/./src/types/Sector.ts","webpack://charts/./src/static/TextResources.ts","webpack://charts/./src/static/constants/Plot.ts","webpack://charts/./src/helpers/Canvas.ts","webpack://charts/./src/Tooltip.ts","webpack://charts/./src/static/ThemeOptions.ts","webpack://charts/./src/types/DrawPoint.ts","webpack://charts/./src/types/data/PlotData.ts","webpack://charts/./src/Prototypes.ts","webpack://charts/./src/static/constants/Styles.ts","webpack://charts/./src/types/Box.ts","webpack://charts/./src/types/Point.ts","webpack://charts/./src/Dropdown.ts","webpack://charts/./src/Theme.ts","webpack://charts/./src/render/CircularRenderer.ts","webpack://charts/./src/types/base/Renderer.ts","webpack://charts/./src/types/data/TreeData.ts","webpack://charts/./src/types/data/CircularData.ts","webpack://charts/./src/types/base/Value.ts","webpack://charts/./src/render/PlotRenderer.ts","webpack://charts/./src/static/constants/Dates.ts","webpack://charts/./src/helpers/TextStyles.ts","webpack://charts/./src/types/base/Renderable.ts","webpack://charts/./src/render/TreeRenderer.ts","webpack://charts/./src/Decomposition.ts","webpack://charts/./src/static/constants/Index.ts","webpack://charts/./src/render/GaugeRenderer.ts","webpack://charts/./src/Export.ts","webpack://charts/./src/helpers/Formatter.ts","webpack://charts/./src/Button.ts","webpack://charts/./src/OCharts.ts","webpack://charts/./src/static/Enums.ts","webpack://charts/./src/Modal.ts","webpack://charts/./src/types/PlotSeries.ts","webpack://charts/./src/types/DropdownItem.ts","webpack://charts/./src/Legend.ts","webpack://charts/./src/static/constants/Values.ts","webpack://charts/webpack/bootstrap","webpack://charts/webpack/startup"],"sourcesContent":["import AnimationItem from 'types/AnimationItem'\nimport { AnimationType } from 'static/Enums'\nimport * as Constants from 'static/constants/Index'\n\nclass Animations {\n    #queue: Map<string, AnimationItem>\n\n    static transitionCurve: Map<number, number> = new Map()\n\n    constructor() {\n        this.#queue = new Map()\n    }\n\n    handle(id: string, type: AnimationType, value: AnimationItem) {\n        const key = this.#getKey(id, type)\n        if (!this.#queue.has(key))\n            this.#queue.set(key, value)\n\n        this.#process(key)\n    }\n\n    contains(id: string, type: AnimationType): boolean {\n        return this.#queue.has(this.#getKey(id, type))\n    }\n\n    reload(id: string, type: AnimationType) {\n        if (this.contains(id, type)) {\n            let item = <AnimationItem>this.#queue.get(this.#getKey(id, type))\n\n            item.timer = new Date()\n        }\n    }\n\n    clear() {\n        this.#queue.forEach((_value, key) => !this.#is(key, AnimationType.Init) && this.#queue.delete(key))\n    }\n\n    reverse(id: string, type: AnimationType) {\n        if (this.contains(id, type)) {\n            let item = <AnimationItem>this.#queue.get(this.#getKey(id, type)),\n                stamp = new Date(),\n                passed = stamp.getTime() - (item.timer ?? stamp).getTime()\n\n            let reversedPassed = passed > item.duration ? 1 : item.duration - passed\n\n            item.timer = new Date(new Date().getTime() - reversedPassed)\n            item.backward = !item.backward\n        }\n    }\n\n    isBackward(id: string, type: AnimationType) {\n        return (this.#queue.get(this.#getKey(id, type)) as AnimationItem)?.backward ?? false\n    }\n\n    isEnd(id: string, type: AnimationType) {\n        let item = <AnimationItem>this.#queue.get(this.#getKey(id, type)),\n            stamp = new Date(),\n            passed = stamp.getTime() - (item.timer ?? stamp).getTime()\n\n        return passed >= item.duration\n    }\n\n    end(id: string, type: AnimationType) {\n        let item = <AnimationItem>this.#queue.get(this.#getKey(id, type))\n\n        if (item)\n            item.timer = Constants.Dates.minDate\n    }\n\n    #process(key: string) {\n        const item = <AnimationItem>this.#queue.get(key),\n            stamp = new Date(),\n            passed = stamp.getTime() - (item.timer ?? stamp).getTime(),\n            transition = Animations.getTransition(passed > item.duration ? 1 : passed / item.duration),\n            before = item.before ? item.before() : true\n\n        if (!item.timer && before)\n            item.timer = stamp\n\n        if (before)\n            item.body(item.backward ? 1 - transition : transition)\n\n        if (transition == 1 && (!before || item.continuous))\n            this.#queue.delete(key)\n    }\n\n    #getKey(id: string, type: number) {\n        return id + '_' + type\n    }\n\n    #is(key: string, type: number) {\n        return key.endsWith('_' + type)\n    }\n\n    static initializeTransitions() {\n        const valuesCount = 22820,\n            offset = .23,\n            p0 = { x: 0, y: 0 },\n            p1 = { x: 1 - offset, y: offset },\n            p2 = { x: offset, y: 1 - offset },\n            p3 = { x: 1, y: 1 }\n\n        for (let i = 0; i < valuesCount; i++) {\n            const t = (i + 1) / valuesCount\n\n            let x = Math.pow(1 - t, 3) * p0.x\n                    + 3 * Math.pow(1 - t, 2) * p1.x * t\n                    + 3 * (1 - t) * Math.pow(t, 2) * p2.x\n                    + Math.pow(t, 3) * p3.x,\n                y = Math.pow(1 - t, 3) * p0.y\n                    + 3 * Math.pow(1 - t, 2) * p1.y * t\n                    + 3 * (1 - t) * Math.pow(t, 2) * p2.y\n                    + Math.pow(t, 3) * p3.y\n\n            Animations.transitionCurve.set(+x.toFixed(4), y)\n        }\n\n        Animations.transitionCurve.set(0, 0)\n    }\n\n    static getTransition(value: number): number {\n        return Animations.transitionCurve.get(+value.toFixed(4)) ?? 0\n    }\n}\n\nexport default Animations","import Color from 'types/Color'\nimport Theme from 'Theme'\nimport Errors from 'helpers/Errors'\nimport { ErrorType } from 'static/Enums'\nimport { Plot } from 'static/constants/Index'\n\nexport function adjustColor(color: string, amount: number) {\n    return '#' + color.replace(/^#/, '').replace(/../g, color => ('0' + Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).slice(-2))\n}\n\nexport function grayScale(color: string) {\n    return '#' + Array(4).join(Math.round([.3, .59, .11].reduce((a, v, i) => a + v * parseInt(color[2 * i + 1] + color[2 * i + 2], 16), 0) / 3).toString(16).padStart(2, '0'))\n}\n\nexport function randomColor() {\n    let letters = '0123456789ABCDEF',\n        color = '#'\n    for (let i = 0; i < 6; i++)\n        color += letters[Math.floor(Math.random() * 16)]\n\n    return color\n}\n\nexport function stringWidth(str: any | undefined, font?: number) {\n    if (!str)\n        return 0\n\n    const widths = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.559375, 0.2765625, 0.3546875, 0.5546875, 0.5546875, 0.8890625, 0.665625, 0.190625, 0.3328125, 0.3328125, 0.3890625, 0.5828125, 0.2765625, 0.3328125, 0.2765625, 0.3015625, 0.5546875, 0.5546875, 0.5546875, 0.5546875, 0.5546875, 0.5546875, 0.5546875, 0.5546875, 0.5546875, 0.5546875, 0.2765625, 0.2765625, 0.584375, 0.5828125, 0.584375, 0.5546875, 1.0140625, 0.665625, 0.665625, 0.721875, 0.721875, 0.665625, 0.609375, 0.7765625, 0.721875, 0.2765625, 0.5, 0.665625, 0.5546875, 0.8328125, 0.721875, 0.7765625, 0.665625, 0.7765625, 0.721875, 0.665625, 0.609375, 0.721875, 0.665625, 0.94375, 0.665625, 0.665625, 0.609375, 0.2765625, 0.3546875, 0.2765625, 0.4765625, 0.5546875, 0.3328125, 0.5546875, 0.5546875, 0.5, 0.5546875, 0.5546875, 0.2765625, 0.5546875, 0.5546875, 0.221875, 0.240625, 0.5, 0.221875, 0.8328125, 0.5546875, 0.5546875, 0.5546875, 0.5546875, 0.3328125, 0.5, 0.2765625, 0.5546875, 0.5, 0.721875, 0.5, 0.5, 0.5, 0.3546875, 0.259375, 0.353125, 0.5890625],\n        avg = 0.5279276315789471\n\n    return Array.from(String(str)).reduce((acc, cur) => acc + (widths[cur.charCodeAt(0)] ?? avg), 0) * (font || 14)\n}\n\nexport function guid() {\n    const S4 = () => (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n    return (S4() + S4() + '-' + S4() + '-4' + S4().slice(0, 3) + '-' + S4() + '-' + S4() + S4() + S4()).toLowerCase()\n}\n\nexport function isColorVisible(background: string, foreground: string) {\n    const backgroundAsRgb = hexToRgb(background),\n        foregroundAsRgb = hexToRgb(foreground),\n        value = .77\n\n    return (backgroundAsRgb.r + backgroundAsRgb.g + backgroundAsRgb.b) / (foregroundAsRgb.r + foregroundAsRgb.g + foregroundAsRgb.b) < value\n}\n\nexport function getColor(red: string, green: string, blue: string) {\n    return {\n        r: parseInt(red, 16),\n        g: parseInt(green, 16),\n        b: parseInt(blue, 16)\n    } as Color\n}\n\nexport function hexToRgb(hex: string): Color {\n    if (hex.length > 4) {\n        const value = getHexValues(hex)\n        if (value)\n            return getColor(value[1], value[2], value[3])\n    } else {\n        const value = getShortHexValues(hex)\n        if (value)\n            return getColor(\n                value[1] + value[1],\n                value[2] + value[2],\n                value[3] + value[3]\n            )\n    }\n\n    return new Color()\n}\n\nexport function isISOString(str: string) {\n    return /\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+/.test(str)\n}\n\nexport function getHexValues(str: string) {\n    return /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(str)\n}\n\nexport function getShortHexValues(str: string) {\n    return /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i.exec(str)\n}\n\nexport function applyAlpha(color: string, opacity: number) {\n    function hexToRgb(hex: string) {\n        const result = getHexValues(hex)\n        return result ? getColor(result[1], result[2], result[3]) : new Color()\n    }\n\n    function rgbToHex(r: number, g: number, b: number) {\n        function toHex(c: number) {\n            let hex = c.toString(16)\n            return hex.length == 1 ? '0' + hex : hex\n        }\n\n        return '#' + toHex(r) + toHex(g) + toHex(b)\n    }\n\n    const rgb = hexToRgb(color),\n        bg = hexToRgb(Theme.canvasBackground)\n\n    opacity /= 255\n\n    const alpha = 1 - opacity\n\n    return rgbToHex(\n        Math.round((opacity * (rgb.r / 255) + (alpha * (bg.r / 255))) * 255),\n        Math.round((opacity * (rgb.g / 255) + (alpha * (bg.g / 255))) * 255),\n        Math.round((opacity * (rgb.b / 255) + (alpha * (bg.b / 255))) * 255)\n    )\n}\n\nexport function getRoundedValues(all: number[]) {\n    let min = Math.min(...all),\n        max = Math.max(...all)\n\n    if (min > 0)\n        min = 0\n\n    const maxStr = max.toLocaleString(undefined, { maximumFractionDigits: 0 })\n                      .replace(',', '')\n                      .replace('.', ''),\n        dividersMultiplier = Math.pow(10, Math.floor(maxStr.length / 2 - .5))\n\n    const negativeElements = all.filter(v => v < 0).length,\n        hasNegative = negativeElements > 0\n\n    let countOfElements = all.length\n    if (!all.includes(0))\n        countOfElements++\n    if (countOfElements % 2 == 0)\n        countOfElements++\n    if (hasNegative)\n        countOfElements++\n    if (countOfElements > Plot.maxLabelsCount)\n        countOfElements = Plot.maxLabelsCount\n\n    const isSatisfyDividing = (value: number) => {\n        const divides = [10, 7.5, 5, 2.5, 2]\n\n        let satisfied = 0\n\n        value = Math.abs(value)\n\n        for (const d of divides)\n            satisfied += value % (d * dividersMultiplier) == 0 ? 1 : 0\n\n        return satisfied >= 4\n    }\n\n    const isSatisfyElementsCount = (values: number[]) => {\n        return values.length > 2 && values.length <= countOfElements\n    }\n\n    const amplitude = Math.abs(min) + Math.abs(max)\n\n    let startValue = amplitude / countOfElements\n\n    let attempt = 0,\n        value = 0\n\n    let step = 1\n\n    const isFractional = Math.abs(min) < 10 && Math.abs(max) < 10\n\n    if (isFractional)\n        step = .1\n    else\n        value = Math.round(startValue)\n\n    const round = (value: number) => {\n        return Math.round((value + Number.EPSILON) * 100) / 100\n    }\n\n    let startIndex = 0,\n        endIndex = countOfElements + startIndex\n\n    if (hasNegative) {\n        const negativeWeight = Math.abs(min) / amplitude\n        startIndex = -Math.floor(countOfElements * negativeWeight)\n        endIndex = countOfElements + startIndex\n\n        if (max > 0 && endIndex <= 1) {\n            startIndex++\n            endIndex++\n        }\n    }\n\n    while (true) {\n        if (!isFinite(value))\n            return []\n\n        if (isSatisfyDividing(value) || isFractional) {\n            let result = []\n\n            for (let i = startIndex; i < endIndex; i++)\n                result.push(round(value * i))\n\n            if (result[0] > min || result[result.length - 1] <= max)\n                result = []\n\n            if (isSatisfyElementsCount(result))\n                return result\n        }\n\n        value = round(value + step)\n        attempt = round(attempt + step)\n\n        if (attempt > amplitude)\n            throw Errors.throw(ErrorType.MaxCallsReach)\n    }\n}","class TooltipValue {\n    text: string | undefined\n\n    color: string | undefined\n\n    constructor(text?: string, color?: string) {\n        this.text = text\n        this.color = color\n    }\n}\n\nexport default TooltipValue","import { ErrorType } from 'static/Enums'\n\nabstract class Errors {\n    static throw(error: ErrorType): never {\n        throw new Error(error)\n    }\n\n    static throwIsUndefined(object: any, error: ErrorType) {\n        if (object == undefined)\n            Errors.throw(error)\n    }\n}\n\nexport default Errors","import ChartSettings from 'types/ChartSettings'\nimport Renderer from 'types/base/Renderer'\nimport Data from 'types/interfaces/Data'\nimport Legend from 'Legend'\nimport Value from 'types/base/Value'\nimport PlotRenderer from 'render/PlotRenderer'\nimport GaugeRenderer from 'render/GaugeRenderer'\nimport TreeRenderer from 'render/TreeRenderer'\nimport Animations from 'Animations'\nimport Theme from 'Theme'\nimport Styles from 'static/constants/Styles'\nimport { ChartType, Events } from 'static/Enums'\nimport CircularRenderer from 'render/CircularRenderer'\n\nclass Chart {\n    node: HTMLElement\n\n    settings: ChartSettings\n\n    #renderer: Renderer<Data>\n\n    #legend: Legend | undefined\n\n    #observer: ResizeObserver\n\n    #currentType: ChartType\n\n    constructor(context: HTMLElement, settings: ChartSettings) {\n        this.node = context\n\n        this.applySettings(settings)\n\n        this.#applyStyles()\n\n        document.addEventListener(Events.VisibilityChanged, () => this.#renderer.resetMouse())\n        window.addEventListener(Events.Blur, () => this.#renderer.resetMouse())\n\n        window.addEventListener(Events.Click, event => {\n            if (event.target != this.#renderer.canvas)\n                this.#renderer.closeDropdowns()\n        })\n    }\n\n    render() {\n        this.#renderer.render()\n        this.#legend?.render()\n\n        this.#initializeObserver()\n\n        this.#refresh()\n    }\n\n    destroy() {\n        this.#renderer.destroy()\n        this.#legend?.destroy()\n\n        this.#observer.disconnect()\n    }\n\n    highlight(value?: Value) {\n        this.#renderer.highlight(value)\n    }\n\n    reset() {\n        Theme.reset()\n\n        this.#initialize(this.settings)\n    }\n\n    applySettings(settings: ChartSettings) {\n        this.settings = settings\n\n        this.reset()\n\n        const isNeedRestartRender = this.settings.type != this.#currentType\n\n        this.#prepareSettings()\n\n        if (this.settings.enableLegend && this.#legend != undefined)\n            this.#legend.applySettings(settings)\n\n        if (this.settings.enableLegend && this.#legend == undefined) {\n            this.#legend = new Legend(this)\n\n            this.#legend.render()\n        }\n\n        if (!this.settings.enableLegend && this.#legend != undefined) {\n            this.#legend.destroy()\n\n            this.#legend = undefined\n        }\n\n        if (isNeedRestartRender)\n            this.#renderer.render()\n\n        this.#initializeObserver()\n    }\n\n    #prepareSettings() {\n        this.settings.enableTooltip = !this.settings.disableInteractions && this.settings.enableTooltip\n\n        if (this.#renderer == undefined || this.settings.type != this.#currentType) {\n            this.#renderer?.destroy()\n\n            switch (this.settings.type) {\n                case ChartType.Plot:\n                    this.#renderer = new PlotRenderer(this)\n                    this.#currentType = ChartType.Plot\n                    break\n\n                case ChartType.Circular:\n                    this.#renderer = new CircularRenderer(this)\n                    this.#currentType = ChartType.Circular\n                    break\n\n                case ChartType.Gauge:\n                    this.#renderer = new GaugeRenderer(this)\n                    this.#currentType = ChartType.Gauge\n                    break\n\n                case ChartType.TreeMap:\n                    this.#renderer = new TreeRenderer(this)\n                    this.#currentType = ChartType.TreeMap\n                    break\n            }\n        } else {\n            this.#renderer.applySettings(this.settings)\n        }\n\n        this.#renderer.prepareSettings()\n\n        if (!this.settings.disableInteractions) {\n            this.#renderer.initDropdown()\n            this.#renderer.initAnimations()\n        }\n\n        this.#renderer.resize()\n    }\n\n    #refresh() {\n        this.#renderer.refresh()\n        this.#legend?.refresh()\n    }\n\n    #resize() {\n        this.#renderer.resize()\n        this.#legend?.resize()\n    }\n\n    #initialize(settings: ChartSettings) {\n        Theme.initialize(\n            () => this.#resize(),\n            settings.isDarkThemeFunction\n        )\n        Animations.initializeTransitions()\n    }\n\n    #applyStyles() {\n        this.node.style.display = Styles.Display.Flex\n        this.node.style.flexDirection = Styles.FlexDirection.Column\n        this.node.style.alignItems = Styles.AlignItems.Center\n        this.node.style.justifyContent = Styles.JustifyContent.Center\n        this.node.style.height = '100%'\n    }\n\n    #initializeObserver() {\n        if (this.#observer != undefined)\n            return\n\n        this.#observer = new ResizeObserver(() => {\n            if (this.#renderer.canvas)\n                this.#resize()\n            else\n                this.destroy()\n        })\n        this.#observer.observe(this.node)\n    }\n}\n\nexport default Chart","class Color {\n    r: number\n\n    g: number\n\n    b: number\n}\n\nexport default Color","export class Animations {\n    static circular = 335\n\n    static legend = 500\n\n    static tree = 250\n\n    static tooltip = 120\n\n    static button = 200\n}","import Value from 'types/base/Value'\n\nclass PlotPoint extends Value {\n    x: number | Date | string\n\n    y: number | Date | string\n\n    constructor(obj: object) {\n        super()\n\n        Object.assign(this, obj)\n    }\n\n    // TODO: better name ?\n    inverse() {\n        const x = this.x\n        this.x = this.y as any\n        this.y = x as any\n    }\n}\n\nexport default PlotPoint","import Value from 'types/base/Value'\nimport Point from 'types/Point'\nimport DrawPoint from 'types/DrawPoint'\nimport { AnimationType } from 'static/Enums'\nimport LineStyles from 'types/LineStyles'\n\nclass Sector extends Value {\n    canRenderLabel: boolean | undefined\n\n    isMouseInside: boolean\n\n    current: number\n\n    transition: number\n\n    innerRadius: number\n\n    /**\n     * Angle in radians\n     */\n    direction: number\n\n    lineStyles: LineStyles | undefined\n\n    translate: Point\n\n    state: AnimationType\n\n    points: DrawPoint[]\n\n    labelPoints: DrawPoint[]\n\n    constructor(obj: object) {\n        super()\n\n        Object.assign(this, obj)\n\n        this.baseColor = this.color\n        this.canRenderLabel = false\n        this.isMouseInside = false\n    }\n\n    toggle(transition: number) {\n        super.toggle(transition)\n\n        if (this.disabled)\n            this.current = this.value * (1 - transition)\n        else\n            this.current = this.value * transition\n    }\n\n    checkCondition(): boolean {\n        super.checkCondition()\n\n        return (this.current == 0 && !this.disabled) || this.value != 0\n    }\n\n    reset() {\n        super.reset()\n\n        this.current = this.value\n    }\n}\n\nexport default Sector","class TextResources {\n    static exportPNG = 'Save as image...'\n\n    static decomposeToTable = 'Show as table...'\n\n    static reset = 'Reset'\n\n    static exportCSV = 'Save as table...'\n\n    static menu = 'Menu'\n\n    static allDataIsHidden = 'All data is hidden'\n\n    static other = 'Other'\n\n    static thousandShort = 'K'\n\n    static millionShort = 'M'\n\n    static billionShort = 'B'\n\n    static show = 'Show...'\n\n    static noLabel = 'No Label'\n\n    static treeMapIsEmpty = 'Tree Map is empty'\n\n    static dataAsTable = 'Data as table'\n}\n\nexport default TextResources","export class Plot {\n    static readonly maxLabelsCount = 5\n}","import Errors from 'helpers/Errors'\nimport { ErrorType } from 'static/Enums'\nimport Theme from 'Theme'\nimport * as Helper from 'Helper'\n\nabstract class Canvas {\n    static getContext(canvas: HTMLCanvasElement): CanvasRenderingContext2D {\n        return canvas.getContext('2d', { willReadFrequently: true })\n               ?? Errors.throw(ErrorType.NullContext)\n    }\n\n    static isPixelBusy(pixel: number) {\n        return pixel != undefined && pixel - Theme.canvasBackgroundInt != 0\n    }\n\n    static isCanRender(\n        ctx: CanvasRenderingContext2D,\n        x: number,\n        y: number,\n        w: number | string,\n        h: number,\n        isLeft?: boolean\n    ) {\n        const width = typeof w == 'number' ? w : Helper.stringWidth(w)\n\n        if (width <= 0)\n            return false\n\n        const pos = !isLeft\n                    ? { x: x - width / 2, y: y - h / 2 }\n                    : { x: x, y: y + h / 2 }\n\n        const imageData = isLeft\n                          ? new Uint32Array(ctx.getImageData(pos.x - width, pos.y - h, width, h).data.buffer)\n                          : new Uint32Array(ctx.getImageData(pos.x, pos.y, width, h).data.buffer)\n\n        for (let i = 0; i < imageData.length; i++)\n            if (Canvas.isPixelBusy(imageData[i]))\n                return false\n\n        return true\n    }\n}\n\nexport default Canvas","import Value from 'types/base/Value'\nimport Theme from 'Theme'\nimport TextStyles from 'helpers/TextStyles'\nimport * as Helper from 'Helper'\nimport ChartSettings from 'types/ChartSettings'\nimport TooltipValue from 'types/TooltipValue'\nimport Data from 'types/interfaces/Data'\nimport Canvas from 'helpers/Canvas'\nimport * as Constants from 'static/constants/Index'\nimport Styles from 'static/constants/Styles'\nimport HTMLTooltipElement from 'types/extends/HTMLTooltipElement'\nimport { Attribute, Tag } from 'static/Enums'\n\nclass Tooltip {\n    canvas: HTMLCanvasElement\n\n    data: Data\n\n    readonly #enabled: boolean\n\n    readonly #isCustom: boolean\n\n    #canvasPosition: DOMRect\n\n    #template: HTMLTemplateElement\n\n    #inProgress: boolean\n\n    #toHide: boolean\n\n    #timer: Date | undefined\n\n    #lines: TooltipValue[]\n\n    constructor(canvas: HTMLCanvasElement, settings: ChartSettings) {\n        this.canvas = canvas\n        this.data = settings.data\n        this.#enabled = settings.enableTooltip\n        this.#isCustom = !!settings.templateId\n\n        if (this.#isCustom)\n            this.#template = <HTMLTemplateElement>document.getElementById(settings.templateId)\n\n        this.refresh()\n    }\n\n    render(condition: boolean, event: MouseEvent, lines: TooltipValue[], value?: Value) {\n        this.#hideAll()\n\n        if (!this.#enabled || !event)\n            return\n\n        if (condition || this.#inProgress || this.#toHide) {\n            if (condition)\n                this.#lines = lines\n\n            if (!this.#timer)\n                this.#timer = new Date()\n\n            if (!this.#toHide)\n                this.#inProgress = true\n            else if (this.#inProgress)\n                this.#timer = new Date()\n\n            if (this.#isCustom)\n                this.#renderCustom(event, value)\n            else\n                this.#renderRegular(event)\n\n            const opacityValue = this.#getOpacityValue()\n\n            if (this.#toHide && opacityValue >= 1) {\n                this.#inProgress = false\n                this.#toHide = false\n            }\n\n            if (this.#toHide && opacityValue <= 0) {\n                this.#inProgress = false\n                this.#toHide = false\n                this.#timer = undefined\n            }\n\n            if (!condition && this.#timer != undefined)\n                this.#toHide = true\n        } else {\n            this.#timer = undefined\n        }\n    }\n\n    #renderRegular(event: MouseEvent) {\n        const ctx = Canvas.getContext(this.canvas)\n\n        const textWidth = Math.max(...this.#lines.map(line => Helper.stringWidth(line.text ?? '') + (line.color ? 8 : 0)))\n\n        const padding = 6,\n            borderRadius = 6\n\n        let x = event.offsetX + 10,\n            y = event.offsetY + 10\n\n        if (x + textWidth + 25 > this.#canvasPosition.width)\n            x = this.#canvasPosition.width - (textWidth + 25)\n\n        if (y + 15 + this.#lines.length * 18 > this.#canvasPosition.height)\n            y = this.#canvasPosition.height - 15 - this.#lines.length * 18\n\n        ctx.beginPath()\n        ctx.roundRect(x, y, textWidth + 24, 16 + 16 * this.#lines.length, borderRadius)\n        let opacity = Math.round(this.#getOpacityValue() * 255).toString(16),\n            baseOpacity = Math.round(this.#getOpacityValue() * 207).toString(16)\n        if (opacity.length == 1)\n            opacity = '0' + opacity\n        if (baseOpacity.length == 1)\n            baseOpacity = '0' + baseOpacity\n\n        ctx.strokeStyle = Theme.dropdownBorder + baseOpacity\n        ctx.lineWidth = 1\n        ctx.fillStyle = Theme.background + baseOpacity\n        ctx.stroke()\n        ctx.fill()\n\n        for (let line of this.#lines) {\n            let offset = 0\n\n            if (line.color) {\n                offset = 12\n\n                ctx.beginPath()\n                ctx.fillStyle = line.color + opacity\n                ctx.arc(x + 16, y + 17, 5, 0, Math.PI * 2)\n                ctx.fill()\n            }\n\n            TextStyles.tooltip(ctx)\n            ctx.fillStyle = Theme.text + opacity\n            ctx.fillText(line.text ?? '', x + offset + padding * 2, y + 21)\n\n            y += 16\n        }\n    }\n\n    #renderCustom(event: MouseEvent, value?: Value) {\n        if (value == undefined)\n            return\n\n        const id = this.#template.id + value.id\n\n        let tooltip = <HTMLTooltipElement>document.getElementById(id)\n\n        const updateVisibility = () => {\n            this.#hideAll()\n\n            tooltip.style.visibility = Styles.Visibility.Visible\n        }\n\n        if (!tooltip) {\n            const regex = /\\${[^}]*}/gm\n\n            let content = <HTMLElement>this.#template.cloneNode(true)\n\n            tooltip = document.createElement(Tag.Div) as HTMLTooltipElement\n\n            tooltip.innerHTML = content.innerHTML\n\n            tooltip.id = id\n            tooltip.style.position = Styles.Position.Absolute\n            tooltip.style.pointerEvents = Styles.PointerEvents.None\n            tooltip.style.visibility = Styles.Visibility.Visible\n\n            tooltip.setAttribute(Attribute.Name, this.#template.id)\n\n            const matches = [...tooltip.innerHTML.matchAll(regex)]\n\n            let html = tooltip.innerHTML\n\n            for (const match of matches) {\n                const property = match[0].replace('${', '')\n                                         .replace('}', '')\n                                         .replaceAll(' ', '')\n\n                html = html.replaceAll(match[0], value.data[property])\n            }\n\n            tooltip.innerHTML = html\n\n            document.body.appendChild(tooltip)\n\n            tooltip.position = tooltip.getBoundingClientRect()\n\n            updateVisibility()\n        }\n\n        if (tooltip.style.visibility == Styles.Visibility.Hidden)\n            updateVisibility()\n\n        if (tooltip.position.height == 0)\n            tooltip.position = tooltip.getBoundingClientRect()\n\n        const offset = 10\n\n        let opacity = '1'\n\n        let x = event.pageX,\n            y = event.pageY\n\n        if (event.offsetX + tooltip.position.width > this.#canvasPosition.width - offset) {\n            x = this.#canvasPosition.width + event.pageX - event.offsetX - tooltip.position.width - offset\n            opacity = '.67'\n        }\n\n        if (event.offsetY + tooltip.position.height > this.#canvasPosition.height - offset) {\n            y = this.#canvasPosition.height + event.pageY - event.offsetY - tooltip.position.height - offset\n            opacity = '.67'\n        }\n\n        if (x == 0 && y == 0)\n            opacity = '0'\n\n        tooltip.style.left = x + offset + 'px'\n        tooltip.style.top = y + offset + 'px'\n        tooltip.style.opacity = opacity\n    }\n\n    refresh() {\n        this.#canvasPosition = this.canvas.getBoundingClientRect()\n    }\n\n    #hideAll() {\n        if (!this.#isCustom)\n            return\n\n        const tooltips = <NodeListOf<HTMLElement>>document.querySelectorAll(`[name=\"${ this.#template.id }\"]`)\n\n        for (let node of tooltips)\n            node.style.visibility = Styles.Visibility.Hidden\n    }\n\n    #getOpacityValue(): number {\n        if (!this.#timer)\n            return 0\n\n        let opacityValue = this.#toHide\n                           ? 1 - (new Date().getTime() - this.#timer.getTime()) / Constants.Animations.tooltip\n                           : (new Date().getTime() - this.#timer.getTime()) / Constants.Animations.tooltip\n        if (opacityValue > 1)\n            opacityValue = 1\n        if (opacityValue < 0)\n            opacityValue = 0\n\n        return opacityValue\n    }\n}\n\nexport default Tooltip","class ThemeOptions {\n    static readonly colors = ['#000000', '#ffffff']\n\n    static readonly backgrounds = ['#f7f7f7', '#222222']\n\n    static readonly lines = ['#000000', '#eeeeee']\n\n    static readonly lineAxes = ['#e0e0e0', '#434343']\n\n    static readonly lineActives = ['#898989', '#898989']\n\n    static readonly dropdownBorders = ['#bcbcbc', '#7e7e7e']\n\n    static readonly canvasBackgrounds = ['#ffffff', '#222222']\n}\n\nexport default ThemeOptions","import { DrawPointType } from 'static/Enums'\n\nclass DrawPoint {\n    /**\n     * Method invocation arguments, where even indexed is x-axis points and odd is y-axis points\n     */\n    args: any[]\n\n    type: DrawPointType\n\n    readonly base: any[]\n\n    constructor(type: DrawPointType, ...args: any[]) {\n        this.args = args\n        this.type = type\n        this.base = JSON.parse(JSON.stringify(args))\n    }\n}\n\nexport default DrawPoint","import TableValue from 'types/TableValue'\nimport PlotSeries from 'types/PlotSeries'\nimport TableHeaderValue from 'types/TableHeaderValue'\nimport TableData from 'types/TableData'\nimport Data from 'types/interfaces/Data'\nimport Formatter from 'helpers/Formatter'\nimport { PlotAxisType } from 'static/Enums'\n\nclass PlotData implements Data {\n    shortLabels: boolean\n\n    simple: boolean\n\n    yMax: number\n\n    xTitle: string\n\n    yTitle: string\n\n    xType: PlotAxisType\n\n    values: PlotSeries[]\n\n    static getRows(data: PlotData): TableData {\n        let headers: TableHeaderValue[] = []\n\n        let values: TableValue[] = []\n\n        for (const series of data.values) {\n            let seriesValues = new Map<string, any>()\n\n            for (const value of series.values) {\n                seriesValues.set(value.x.toString(), value.y)\n                headers.push({\n                    value: value.x.toString(),\n                    display: data.xType == PlotAxisType.Date\n                             ? Formatter.date(new Date(value.x))\n                             : value.x.toString()\n                })\n            }\n\n            values.push({\n                name: series.label,\n                values: seriesValues\n            })\n        }\n\n        const unique = new Set(),\n            uniqueHeaders = headers.filter(v => !unique.has(v.display) && unique.add(v.display))\n\n        if (data.xType == PlotAxisType.Date)\n            uniqueHeaders.sort((a, b) => new Date(a.value).getTime() - new Date(b.value).getTime())\n\n        return {\n            headers: uniqueHeaders,\n            values: values\n        }\n    }\n}\n\nexport default PlotData","Number.prototype.isAnyEquals = function (...values) {\n    return values.includes(<number>this)\n}\n\nDate.prototype.addDays = function (days: number) {\n    let result = new Date(this)\n    result.setDate(result.getDate() + days)\n    return result\n}\n\nDate.prototype.addMilliseconds = function (milliseconds: number) {\n    let result = new Date(this)\n    result.setMilliseconds(result.getMilliseconds() + milliseconds)\n    return result\n}\n\nMap.prototype.trySet = function (key: any, value: any) {\n    if (!this.has(key))\n        this.set(key, value)\n}\n\nArray.prototype.sumByField = function (predicate: (value: any) => number) {\n    return this.reduce((acc, v) => acc + predicate(v), 0)\n}\n\nCanvasRenderingContext2D.prototype.resetLine = function () {\n    this.lineWidth = 1\n    this.lineJoin = 'miter'\n    this.lineCap = 'butt'\n}","namespace Styles {\n    export class Cursor {\n        static Default = 'default'\n\n        static Pointer = 'pointer'\n    }\n\n    export class Display {\n        static Flex = 'flex'\n    }\n\n    export class FlexDirection {\n        static Column = 'column'\n\n        static ColumnReverse = 'column-reverse'\n\n        static Row = 'row'\n\n        static RowReverse = 'row-reverse'\n    }\n\n    export class AlignItems {\n        static Center = 'center'\n    }\n\n    export class Visibility {\n        static Visible = 'visible'\n\n        static Hidden = 'hidden'\n    }\n\n    export class Position {\n        static Absolute = 'absolute'\n    }\n\n    export class PointerEvents {\n        static None = 'none'\n    }\n\n    export class JustifyContent {\n        static Center = 'center'\n    }\n}\nexport default Styles","export default class Box {\n    width: number\n\n    height: number\n\n    set(width: number, height: number) {\n        this.width = width\n        this.height = height\n    }\n}","class Point {\n    x: number\n\n    y: number\n}\n\nexport default Point","import Theme from 'Theme'\nimport DropdownOptions from 'types/DropdownOptions'\nimport Animations from 'Animations'\nimport * as Helper from 'Helper'\nimport TextStyles from 'helpers/TextStyles'\nimport Canvas from 'helpers/Canvas'\nimport { AnimationType } from 'static/Enums'\nimport * as Constants from 'static/constants/Index'\nimport Styles from 'static/constants/Styles'\n\nclass Dropdown {\n    isActive: boolean = false\n\n    #isInit: boolean\n\n    #options: DropdownOptions\n\n    #canvasPosition: DOMRect\n\n    animations: Animations\n\n    #position: DOMRect\n\n    readonly #isOnlyMenu: boolean\n\n    readonly #canvas: HTMLCanvasElement\n\n    constructor(canvas: HTMLCanvasElement, options: DropdownOptions) {\n        this.#canvas = canvas\n        this.#options = options\n\n        if (this.#options.icon)\n            this.#options.text = this.#options.icon\n\n        this.#isOnlyMenu = this.#options.text == undefined\n\n        this.animations = new Animations()\n    }\n\n    render(moveEvent: MouseEvent, clickEvent: MouseEvent | undefined) {\n        if (!this.#isInit)\n            this.#initAnimations()\n\n        if (this.#isOnlyMenu)\n            this.isActive = true\n\n        const ctx = Canvas.getContext(this.#canvas)\n\n        let x = this.#position.x,\n            y = this.#position.y,\n            width = this.#position.width,\n            height = this.#position.height\n\n        ctx.beginPath()\n\n        if (!this.#isOnlyMenu) {\n            const translate = (transition: number, event: AnimationType) => {\n                this.animations.reload('animation-dropdown', event)\n\n                ctx.fillStyle = Helper.adjustColor(Theme.canvasBackground, -Math.round(25 * transition))\n            }\n\n            if (this.#isOnButton(moveEvent, x, y, width, height)) {\n                if (clickEvent && moveEvent.x == clickEvent.x && moveEvent.y == clickEvent.y) {\n                    this.isActive = !this.isActive\n                    clickEvent = undefined\n                }\n\n                if (!this.isActive)\n                    this.animations.handle('animation-dropdown',\n                        AnimationType.MouseOver,\n                        {\n                            duration: 300,\n                            body: transition => {\n                                translate(transition, AnimationType.MouseLeave)\n                            }\n                        })\n                else\n                    ctx.fillStyle = Helper.adjustColor(Theme.canvasBackground, -25)\n            } else {\n                if (!this.isActive)\n                    this.animations.handle('animation-dropdown',\n                        AnimationType.MouseLeave,\n                        {\n                            timer: Constants.Dates.minDate,\n                            duration: 300,\n                            backward: true,\n                            body: transition => {\n                                translate(transition, AnimationType.MouseOver)\n                            }\n                        })\n                else\n                    ctx.fillStyle = Helper.adjustColor(Theme.canvasBackground, -25)\n            }\n\n            ctx.roundRect(x, y, width, height, 4)\n            ctx.fill()\n\n            TextStyles.regular(ctx)\n\n            if (this.#options.icon)\n                ctx.font = '20px sans-serif'\n\n            const iconOffset = this.#options.icon\n                               ? navigator.platform != 'Win32'\n                                 ? 1\n                                 : -1\n                               : 0\n\n            ctx.fillText(\n                this.#options.text ?? '',\n                x + width / 2,\n                y + height / 2 - iconOffset\n            )\n        }\n\n        if (this.isActive) {\n            const padding = 6,\n                borderRadius = 6\n\n            y += height\n\n            const items = this.#options.items.filter(value => value.text),\n                dividers = this.#options.items.filter(value => !value.text)\n\n            let maxWidth = Math.max(...items.map(value => Helper.stringWidth(value.text)))\n                           + padding * 4\n\n            if (x + maxWidth > this.#canvas.width - 4)\n                x -= x + maxWidth - this.#canvas.width + 4\n\n            const dropdownOpacity = 'bb',\n                itemOpacityDec = 127,\n                itemBackground = Theme.dropdownItemHoverColor,\n                borderColor = Theme.dropdownBorder\n\n            ctx.beginPath()\n\n            const rect = {\n                x: x,\n                y: y,\n                width: maxWidth,\n                height: items.length * 26\n                        + dividers.length * 4\n                        + (items.length == 1 ? padding : 0)\n                        + (items.length == 2 && dividers.length == 1 ? padding : 0)\n            }\n\n            ctx.roundRect(rect.x, rect.y, rect.width, rect.height, borderRadius)\n            ctx.fillStyle = Theme.background + dropdownOpacity\n            ctx.setLineDash([])\n            ctx.lineWidth = 1\n            ctx.strokeStyle = borderColor + dropdownOpacity\n            ctx.fill()\n            ctx.stroke()\n\n            ctx.beginPath()\n\n            y += 6\n\n            for (const item of this.#options.items) {\n                ctx.beginPath()\n\n                if (item.isDivider == true) {\n                    y += 2\n\n                    ctx.moveTo(x + padding, y)\n                    ctx.lineTo(x + maxWidth - padding, y)\n\n                    ctx.lineWidth = .5\n                    ctx.stroke()\n\n                    y += 4\n\n                    continue\n                }\n\n                ctx.fillStyle = 'transparent'\n\n                const animationKey = 'animation-dropdown' + item.text\n\n                const translate = (transition: number, event: AnimationType, isReturn?: boolean) => {\n                    this.animations.reload(animationKey, event)\n\n                    if (isReturn && transition == 1)\n                        return\n\n                    let opacity = Math.round(itemOpacityDec * transition).toString(16)\n                    if (opacity.length == 1)\n                        opacity = '0' + opacity\n\n                    ctx.fillStyle = itemBackground + opacity\n                }\n\n                if (this.#isOnButton(moveEvent, x, y, maxWidth, 20)) {\n                    this.animations.handle(animationKey,\n                        AnimationType.MouseOver,\n                        {\n                            duration: 300,\n                            body: transition => {\n                                translate(transition, AnimationType.MouseLeave)\n                            }\n                        })\n\n                    if (clickEvent) {\n                        item.action()\n\n                        clickEvent = undefined\n                        this.isActive = false\n                    }\n                } else {\n                    this.animations.handle(animationKey,\n                        AnimationType.MouseLeave,\n                        {\n                            timer: Constants.Dates.minDate,\n                            duration: 300,\n                            backward: true,\n                            body: transition => {\n                                translate(transition, AnimationType.MouseOver, true)\n                            }\n                        })\n                }\n\n                ctx.roundRect(x + padding, y, maxWidth - padding * 2, 20, borderRadius)\n                ctx.fill()\n\n                TextStyles.regular(ctx)\n                ctx.fillStyle = Theme.text\n                ctx.textAlign = 'left'\n                ctx.textBaseline = 'hanging'\n                ctx.fillText(item.text, x + padding * 2, y + 5)\n\n                y += 22\n            }\n        }\n\n        ctx.lineWidth = 1\n\n        if (!this.#isOnlyMenu && clickEvent != undefined && this.isActive) {\n            this.isActive = false\n            clickEvent = undefined\n        }\n\n        this.#isInit = true\n\n        if (this.#isOnlyMenu && clickEvent && moveEvent.x == clickEvent.x && moveEvent.y == clickEvent.y) {\n            this.isActive = !this.isActive\n            clickEvent = undefined\n        }\n\n        return clickEvent\n    }\n\n    #initAnimations() {\n        this.#canvasPosition = this.#canvas.getBoundingClientRect()\n    }\n\n    #isOnButton(event: MouseEvent, x: number, y: number, w: number, h: number): boolean {\n        if (!event)\n            return false\n\n        return event.offsetX >= x && event.offsetX <= x + w\n               && event.offsetY >= y && event.offsetY <= y + h\n    }\n\n    refresh() {\n        this.#isInit = false\n    }\n\n    resize() {\n        this.#initAnimations()\n        this.#calculatePosition()\n    }\n\n    close() {\n        this.isActive = false\n    }\n\n    #calculatePosition() {\n        const width = this.#isOnlyMenu ? 0 : Helper.stringWidth(this.#options.text ?? '') + 12,\n            height = this.#isOnlyMenu ? 0 : 20\n\n        this.#position = {\n            x: this.#options.x + width > this.#canvas.width\n               ? this.#canvas.width - width\n               : this.#options.x < 0\n                 ? this.#canvas.width + this.#options.x - width\n                 : this.#options.x,\n            y: this.#options.y + height > this.#canvas.height\n               ? this.#canvas.height - height\n               : this.#options.y < 0\n                 ? this.#canvas.height + this.#options.y - height\n                 : this.#options.y,\n            width: width,\n            height: height\n        } as DOMRect\n    }\n}\n\nexport default Dropdown","import * as Helper from 'Helper'\nimport ThemeOptions from 'static/ThemeOptions'\nimport { Events } from 'static/Enums'\n\nclass Theme {\n    static currentTheme = 0\n\n    static text: string\n\n    static background: string\n\n    static line: string\n\n    static lineAxis: string\n\n    static lineActive: string\n\n    static dropdownItemHoverColor: string\n\n    static dropdownBorder: string\n\n    static canvasBackground: string\n\n    static canvasBackgroundInt: number\n\n    static function: Function | undefined\n\n    static initialize(callback: Function, isDark?: Function) {\n        if (!Theme.function && isDark)\n            Theme.function = isDark\n\n        if (window.matchMedia\n            && window.matchMedia('(prefers-color-scheme: dark)').matches\n            && (!Theme.function || Theme.function()))\n            Theme.setTheme(1)\n        else\n            Theme.setTheme(0)\n\n        window.matchMedia('(prefers-color-scheme: dark)')\n              .addEventListener(Events.Change, event => {\n                  Theme.setTheme(event.matches && (!Theme.function || Theme.function()) ? 1 : 0)\n                  callback()\n              })\n    }\n\n    static setTheme(index: number) {\n        Theme.currentTheme = index\n\n        Theme.text = ThemeOptions.colors[index]\n        Theme.background = ThemeOptions.backgrounds[index]\n        Theme.line = ThemeOptions.lines[index]\n        Theme.lineAxis = ThemeOptions.lineAxes[index]\n        Theme.lineActive = ThemeOptions.lineActives[index]\n        Theme.dropdownItemHoverColor = Helper.adjustColor(Theme.background, index == 0 ? -50 : 50)\n        Theme.dropdownBorder = ThemeOptions.dropdownBorders[index]\n        Theme.canvasBackground = ThemeOptions.canvasBackgrounds[index]\n        Theme.canvasBackgroundInt = Number(`0xff${ Theme.canvasBackground.slice(1) }`)\n    }\n\n    static reset() {\n        this.function = undefined\n    }\n}\n\nexport default Theme","import Renderer from 'types/base/Renderer'\nimport CircularData from 'types/data/CircularData'\nimport Sector from 'types/Sector'\nimport CircularAngle from 'types/CircularAngle'\nimport Point from 'types/Point'\nimport DropdownItem from 'types/DropdownItem'\nimport * as Helper from 'Helper'\nimport Dropdown from 'Dropdown'\nimport Theme from 'Theme'\nimport TextStyles from 'helpers/TextStyles'\nimport Chart from 'Chart'\nimport TooltipValue from 'types/TooltipValue'\nimport Decomposition from 'Decomposition'\nimport Export from 'Export'\nimport TextResources from 'static/TextResources'\nimport Modal from 'Modal'\nimport Canvas from 'helpers/Canvas'\nimport Formatter from 'helpers/Formatter'\nimport { AnimationType, DrawPointType, Events, Icon, PlotAxisType } from 'static/Enums'\nimport * as Constants from 'static/constants/Index'\nimport Styles from 'static/constants/Styles'\nimport DrawPoint from 'types/DrawPoint'\n\nclass CircularRenderer extends Renderer<CircularData> {\n    private readonly startAngle: number\n\n    private isMousePositionChanged: boolean\n\n    private isInsideCircle: boolean\n\n    private canRenderInnerTitle: boolean\n\n    private isDonut: boolean\n\n    private radius: number\n\n    private pinned: string[]\n\n    private hover: string[]\n\n    private prevMousePos: Point\n\n    private center: Point\n\n    private angles: CircularAngle[]\n\n    private other: Sector[]\n\n    private innerTitleStyle: Function\n\n    private ctx: CanvasRenderingContext2D\n\n    constructor(chart: Chart) {\n        super(chart)\n\n        this.startAngle = Math.PI / 4\n        this.isMousePositionChanged = false\n        this.prevMousePos = new Point()\n\n        this.moveEvent = new MouseEvent(Events.MouseMove)\n    }\n\n    private calculateAngles() {\n        const valuesSum = this.data.values.sumByField(v => v.current)\n\n        let anglesSum = this.startAngle\n        this.angles = this.data.values.flatMap(sector => {\n                              const angle = sector.current / valuesSum * 2 * Math.PI\n\n                              return {\n                                  id: sector.id,\n                                  value: angle,\n                                  sum: (anglesSum += angle) - angle\n                              }\n                          })\n                          .reverse()\n    }\n\n    private getAngle(sector: Sector) {\n        return this.angles.find(o => o.id == sector.id)?.value ?? 0\n    }\n\n    private getAccumulator(sector: Sector) {\n        return this.angles.find(o => o.id == sector.id)?.sum ?? this.startAngle\n    }\n\n    private calculatePoint(sector: Sector): Sector {\n        let accumulator = this.getAccumulator(sector)\n\n        const center = this.center,\n            radius = this.radius\n\n        const getPoint = (radius: number, angle: number, center: Point): Point => {\n            return {\n                x: center.x + radius * Math.cos(accumulator + angle),\n                y: center.y + radius * Math.sin(accumulator + angle)\n            }\n        }\n\n        const startPoint = getPoint(radius, 0, center)\n        const angle = this.getAngle(sector)\n\n        let nextPoint = getPoint(radius, angle, center)\n        let points: DrawPoint[] = []\n\n        sector.direction = accumulator + angle / 2\n\n        if (angle > 0) {\n            if (sector.current > 0) {\n                let labelStartPoint = getPoint(radius + 10, angle / 2, center),\n                    labelMidPoint = getPoint(radius + 20, angle / 2, center)\n\n                const dir = labelStartPoint.x > center.x ? 1 : -1\n\n                let endPoint = {\n                    x: labelMidPoint.x + 10 * dir,\n                    y: labelMidPoint.y\n                }\n\n                sector.labelPoints = [\n                    new DrawPoint(DrawPointType.Move, labelStartPoint.x, labelStartPoint.y),\n                    new DrawPoint(DrawPointType.QuadraticCurve, labelMidPoint.x, labelMidPoint.y, endPoint.x, endPoint.y)\n                ]\n            }\n\n            if (!this.isDonut)\n                points.push(new DrawPoint(DrawPointType.Move, center.x, center.y))\n\n            points.push(new DrawPoint(DrawPointType.Move, startPoint.x, startPoint.y))\n\n            let localAccumulator = 0,\n                localAngle = angle\n\n            while (localAngle > 0) {\n                let currentAngle = localAngle - Math.PI / 2 > 0\n                                   ? Math.PI / 2\n                                   : localAngle\n\n                nextPoint = getPoint(radius, localAccumulator + currentAngle, center)\n\n                const p1Angle = Math.PI - currentAngle,\n                    p1Length = radius / Math.sin(p1Angle / 2),\n                    p1 = getPoint(p1Length, localAccumulator + currentAngle / 2, center)\n\n                points.push(new DrawPoint(DrawPointType.ArcTo, p1.x, p1.y, nextPoint.x, nextPoint.y, radius))\n\n                localAccumulator += currentAngle\n\n                if (this.data.values.length == 1)\n                    accumulator += localAccumulator\n\n                localAngle -= Math.PI / 2\n            }\n\n            if (this.isDonut || sector.innerRadius != 0) {\n                const innerRadius = radius * (sector.innerRadius / 100)\n\n                const innerPoint2 = {\n                    x: nextPoint.x - (((radius - innerRadius) * (nextPoint.x - center.x)) / radius),\n                    y: nextPoint.y - (((radius - innerRadius) * (nextPoint.y - center.y)) / radius)\n                }\n\n                points.push(new DrawPoint(DrawPointType.Line, innerPoint2.x, innerPoint2.y))\n\n                localAngle = 0\n                localAccumulator = angle\n\n                while (localAngle < angle) {\n                    let currentAngle = localAngle + Math.PI / 2 < angle\n                                       ? Math.PI / 2\n                                       : angle - localAngle\n\n                    nextPoint = getPoint(innerRadius, localAccumulator - currentAngle, center)\n\n                    const p1Angle = Math.PI - currentAngle,\n                        p1Length = innerRadius / Math.sin(p1Angle / 2),\n                        p1 = getPoint(p1Length, localAccumulator - currentAngle / 2, center)\n\n                    points.push(new DrawPoint(DrawPointType.ArcTo, p1.x, p1.y, nextPoint.x, nextPoint.y, innerRadius))\n\n                    localAccumulator -= currentAngle\n\n                    localAngle += Math.PI / 2\n                }\n            } else {\n                points.push(new DrawPoint(DrawPointType.Line, center.x, center.y))\n            }\n\n            accumulator += angle\n        }\n\n        if (this.data.values.length == 1)\n            points = [\n                new DrawPoint(DrawPointType.SemiCircle, center.x, center.y, radius, 0, Math.PI * 2)\n            ]\n\n        sector.points = points\n\n        return sector\n    }\n\n    private scale(sector: Sector, value: number, transition: number) {\n        const centerOfSector = {\n            x: this.center.x + this.radius / 2 * Math.cos(sector.direction),\n            y: this.center.y + this.radius / 2 * Math.sin(sector.direction)\n        }\n\n        const setArgs = (points: DrawPoint[]) => {\n            for (let p of points ?? []) {\n                if (p.type == DrawPointType.SemiCircle) {\n                    p.args[2] = p.base[2] * value + p.base[2] * (1 - value) * transition\n\n                    continue\n                }\n\n                for (let i = 0; i < p.args.length; i += 2) {\n                    const x = p.base[i],\n                        y = p.base[i + 1],\n                        length = Math.sqrt(Math.pow(x - centerOfSector.x, 2) + Math.pow(y - centerOfSector.y, 2)),\n                        computed = length * value + length * (1 - value) * transition,\n                        ratio = computed / length\n\n                    const xx = ratio * x + (1 - ratio) * centerOfSector.x,\n                        yy = ratio * y + (1 - ratio) * centerOfSector.y\n\n                    if (!isNaN(xx) && !isNaN(yy)) {\n                        p.args[i] = xx\n                        p.args[i + 1] = yy\n                    } else {\n                        p.args[i] = p.base[i] * value + p.base[i] * (1 - value) * transition\n                        p.args[i + 1] = p.base[i + 1] * value + p.base[i + 1] * (1 - value) * transition\n                    }\n                }\n            }\n        }\n\n        setArgs(sector.points)\n        setArgs(sector.labelPoints)\n    }\n\n    private focus(sector: Sector, value: number, transition: number) {\n        sector.color = Helper.applyAlpha(sector.baseColor, 255 - 255 * value * transition)\n        sector.textColor = Helper.applyAlpha(Theme.text, 255 - 255 * value * transition)\n    }\n\n    private translate(sector: Sector, value: number, transition: number) {\n        const offset = {\n            x: (this.center.x + this.radius * Math.cos(sector.direction) - this.center.x) * value,\n            y: (this.center.y + this.radius * Math.sin(sector.direction) - this.center.y) * value\n        }\n\n        sector.translate = {\n            x: offset.x * transition,\n            y: offset.y * transition\n        }\n\n        const setArgs = (points: DrawPoint[]) => {\n            for (let p of points ?? []) {\n                switch (p.type) {\n                    case DrawPointType.SemiCircle:\n                        p.args[0] = p.base[0] + sector.translate.x\n                        p.args[1] = p.base[1] + sector.translate.y\n\n                        break\n\n                    case DrawPointType.ArcTo:\n                        p.args[0] = p.base[0] + sector.translate.x\n                        p.args[1] = p.base[1] + sector.translate.y\n                        p.args[2] = p.base[2] + sector.translate.x\n                        p.args[3] = p.base[3] + sector.translate.y\n\n                        break\n\n                    default:\n                        for (let i = 0; i < p.args.length; i += 2) {\n                            p.args[i] = p.base[i] + sector.translate.x\n                            p.args[i + 1] = p.base[i + 1] + sector.translate.y\n                        }\n\n                        break\n                }\n            }\n        }\n\n        setArgs(sector.points)\n        setArgs(sector.labelPoints)\n    }\n\n    private outline(sector: Sector, value: number, transition: number) {\n        sector.lineStyles = transition == 0\n                            ? {\n                lineWidth: 1,\n                lineJoin: 'miter',\n                lineCap: 'butt'\n            }\n                            : {\n                lineWidth: this.getAngle(sector) > Math.PI / 6\n                           ? value * transition\n                           : 1,\n                lineJoin: 'round',\n                lineCap: 'round'\n            }\n    }\n\n    private canRenderLabel(sector: Sector, ctx: CanvasRenderingContext2D) {\n        if (sector.state == AnimationType.None && sector.canRenderLabel != undefined)\n            return sector.canRenderLabel\n\n        if (sector.current == 0)\n            return sector.canRenderLabel = false\n\n        if (sector.state == AnimationType.None && sector.canRenderLabel)\n            return sector.canRenderLabel\n\n        const dir = sector.labelPoints[0].args[0] < sector.labelPoints[1].args[0] ? 1 : -1\n\n        let isBusy = false\n\n        const endPoint = {\n            x: sector.labelPoints[1].args[0],\n            y: sector.labelPoints[1].args[1]\n        }\n\n        const textWidth = Helper.stringWidth(sector.label),\n            imageDataX = dir == 1 ? endPoint.x + 12 : endPoint.x - textWidth - 12 + (sector.translate ? sector.translate.x : 0),\n            imageDataY = endPoint.y - 12 + (sector.translate ? sector.translate.y : 0),\n            imageData = new Uint32Array(ctx.getImageData(imageDataX, imageDataY, textWidth, 28).data.buffer)\n\n        if (imageDataX < 0 || imageDataX + textWidth > this.canvas.width\n            || endPoint.y - 12 < 0 || endPoint.y + 12 > this.canvas.height)\n            isBusy = true\n\n        if (!isBusy)\n            for (let i = 0; i < imageData.length; i++)\n                if (Canvas.isPixelBusy(imageData[i])) {\n                    isBusy = true\n                    break\n                }\n\n        return sector.canRenderLabel = !isBusy\n    }\n\n    private drawLabel(sector: Sector) {\n        const ctx = this.ctx\n\n        if (!this.canRenderLabel(sector, ctx))\n            return\n\n        ctx.beginPath()\n\n        ctx.moveTo(\n            sector.labelPoints[0].args[0],\n            sector.labelPoints[0].args[1]\n        )\n\n        ctx.quadraticCurveTo(\n            sector.labelPoints[1].args[0],\n            sector.labelPoints[1].args[1],\n            sector.labelPoints[1].args[2],\n            sector.labelPoints[1].args[3]\n        )\n\n        ctx.strokeStyle = sector.textColor\n\n        if (sector.current != 0 && sector.current != sector.value)\n            ctx.strokeStyle = Helper.applyAlpha(sector.textColor, Math.round(255 * (sector.current / sector.value)))\n\n        ctx.resetLine()\n\n        ctx.stroke()\n\n        ctx.fillStyle = sector.textColor\n\n        if (sector.current != 0 && sector.current != sector.value)\n            ctx.fillStyle = Helper.applyAlpha(sector.textColor, Math.round(255 * (sector.current / sector.value)))\n\n        const dir = sector.labelPoints[0].args[0] < sector.labelPoints[1].args[0] ? 1 : -1\n\n        TextStyles.circularLabel(ctx, dir == 1)\n        ctx.fillText(\n            sector.label,\n            sector.labelPoints[1].args[0] + 16 * dir,\n            sector.labelPoints[1].args[1] + 4\n        )\n    }\n\n    private drawSector(sector: Sector) {\n        const ctx = this.ctx\n\n        ctx.beginPath()\n\n        if (sector.lineStyles) {\n            ctx.lineWidth = sector.lineStyles.lineWidth\n            ctx.lineJoin = sector.lineStyles.lineJoin\n            ctx.lineCap = sector.lineStyles.lineCap\n        } else {\n            ctx.resetLine()\n        }\n\n        for (const point of sector.points) {\n            switch (point.type) {\n                case DrawPointType.Move:\n                    ctx.moveTo(point.args[0], point.args[1])\n\n                    break\n\n                case DrawPointType.Line:\n                    ctx.lineTo(point.args[0], point.args[1])\n\n                    break\n\n                case DrawPointType.QuadraticCurve:\n                    ctx.quadraticCurveTo(point.args[0], point.args[1], point.args[2], point.args[3])\n\n                    break\n\n                case DrawPointType.ArcTo:\n                    ctx.arcTo(point.args[0], point.args[1], point.args[2], point.args[3], point.args[4])\n\n                    break\n\n                case DrawPointType.SemiCircle:\n                    ctx.arc(point.args[0], point.args[1], point.args[2], point.args[3], point.args[4], point.args[5])\n\n                    break\n            }\n        }\n\n        ctx.fillStyle = sector.color\n        ctx.strokeStyle = sector.color\n\n        ctx.closePath()\n\n        ctx.fill()\n        ctx.stroke()\n    }\n\n    private animate(sector: Sector) {\n        this.animations.handle(\n            sector.id,\n            AnimationType.Init,\n            {\n                duration: Constants.Animations.circular + (this.data.values.indexOf(sector) + 1) / this.data.values.length * Constants.Animations.circular,\n                continuous: true,\n                before: () => sector.state == AnimationType.Init,\n                body: transition => {\n                    this.scale(sector, .7, transition)\n                    this.focus(sector, 1, 1 - transition)\n\n                    if (transition == 1)\n                        sector.state = AnimationType.None\n                }\n            }\n        )\n\n        this.animations.handle(\n            sector.id,\n            AnimationType.Click,\n            {\n                duration: 0,\n                before: () => sector.state == AnimationType.Click,\n                body: _transition => {\n                    this.translate(sector, .1, 1)\n                    this.outline(sector, 8, 1)\n                }\n            }\n        )\n\n        this.animations.handle(\n            sector.id,\n            AnimationType.MouseOver,\n            {\n                duration: Constants.Animations.circular,\n                before: () => sector.state.isAnyEquals(AnimationType.MouseOver, AnimationType.MouseLeave),\n                body: transition => {\n                    if (sector.color != sector.baseColor)\n                        this.focus(sector, .5, transition)\n                    this.translate(sector, .1, transition)\n                    this.outline(sector, 8, transition)\n\n                    if (sector.state == AnimationType.MouseLeave\n                        && this.data.values.filter(s => s.state == AnimationType.MouseOver).length > 0)\n                        this.animations.end(sector.id, AnimationType.AnotherItemOver)\n                }\n            }\n        )\n\n        this.animations.handle(\n            sector.id,\n            AnimationType.AnotherItemOver,\n            {\n                duration: Constants.Animations.circular,\n                before: () => sector.state.isAnyEquals(AnimationType.AnotherItemOver, AnimationType.AnotherItemLeave),\n                body: transition => {\n                    this.focus(sector, .5, transition)\n                }\n            }\n        )\n    }\n\n    private handle(sector: Sector) {\n        if (sector.disabled)\n            return\n\n        if (sector.state == AnimationType.None && !this.isInsideCircle)\n            return\n\n        const isInsideSector = this.isInsideSector(this.moveEvent, sector, this.center),\n            isInsideSectorClick = this.clickEvent ? this.isInsideSector(this.clickEvent, sector, this.center) : false\n\n        if (this.moveEvent && isInsideSector)\n            this.hover?.push(sector.id)\n\n        if (this.data.values.filter(s => !s.disabled).length == 1)\n            return\n\n        if (isInsideSectorClick) {\n            sector.state = AnimationType.Click\n\n            if (this.pinned.includes(sector.id))\n                this.pinned = this.pinned.filter(id => id != sector.id)\n            else\n                this.pinned.push(sector.id)\n\n            this.clickEvent = undefined\n\n            return\n        } else if (this.pinned.includes(sector.id)) {\n            return\n        }\n\n        if (isInsideSector) {\n            sector.state = AnimationType.MouseOver\n\n            if (this.animations.isBackward(sector.id, AnimationType.MouseOver))\n                this.animations.reverse(sector.id, AnimationType.MouseOver)\n\n            return\n        }\n\n        if (sector.state == AnimationType.MouseOver\n            && !isInsideSector) {\n            sector.state = AnimationType.MouseLeave\n\n            if (!this.animations.isBackward(sector.id, AnimationType.MouseOver))\n                this.animations.reverse(sector.id, AnimationType.MouseOver)\n\n            return\n        }\n\n        if (sector.state == AnimationType.MouseLeave\n            && this.animations.isEnd(sector.id, AnimationType.MouseOver)) {\n            sector.state = AnimationType.None\n\n            return\n        }\n\n        if (sector.state == AnimationType.MouseLeave)\n            return\n\n        if (this.data.values.filter(s => s.state == AnimationType.MouseOver).length > 0) {\n            sector.state = AnimationType.AnotherItemOver\n\n            if (this.animations.isBackward(sector.id, AnimationType.AnotherItemOver))\n                this.animations.reverse(sector.id, AnimationType.AnotherItemOver)\n\n            return\n        }\n\n        if (this.data.values.filter(s => s.state == AnimationType.MouseLeave).length > 0) {\n            sector.state = AnimationType.AnotherItemLeave\n\n            if (!this.animations.isBackward(sector.id, AnimationType.AnotherItemOver))\n                this.animations.reverse(sector.id, AnimationType.AnotherItemOver)\n\n            return\n        }\n\n        if (sector.state == AnimationType.AnotherItemLeave\n            && this.animations.isEnd(sector.id, AnimationType.AnotherItemOver)) {\n            sector.state = AnimationType.None\n\n            return\n        }\n    }\n\n    render() {\n        super.render()\n\n        const isAnyCollapsing = this.data.values.filter(s => s.value != s.current && s.current != 0)\n                                    .length > 0\n\n        this.isMousePositionChanged = this.prevMousePos.x != this.moveEvent.clientX\n                                      || this.prevMousePos.y != this.moveEvent.clientY\n\n        if (this.isMousePositionChanged) {\n            const point = this.getMousePosition(this.moveEvent)\n            this.isInsideCircle = this.isWithinRadius({\n                x: point.x - this.center.x,\n                y: point.y - this.center.y\n            })\n        }\n\n        this.prevMousePos = {\n            x: this.moveEvent.clientX,\n            y: this.moveEvent.clientY\n        }\n\n        if (isAnyCollapsing) {\n            this.calculateAngles()\n            for (let sector of this.data.values)\n                sector = this.calculatePoint(sector)\n        }\n\n        this.ctx ??= Canvas.getContext(this.canvas)\n\n        if (this.data.values.filter(s => !s.disabled).length == 0) {\n            this.empty()\n\n            return\n        }\n\n        this.hover = []\n\n        for (const sector of this.data.values) {\n            this.animate(sector)\n\n            this.drawSector(sector)\n            this.drawLabel(sector)\n\n            if (sector.state != AnimationType.Init)\n                this.handle(sector)\n        }\n\n        super.renderDropdown()\n\n        const currentHover = this.data.values.find(v => v.id == this.hover[0]),\n            isAnyHover = this.hover.length > 0\n\n        if (isAnyHover || this.contextMenu)\n            this.renderContextMenu(currentHover?.data ?? {})\n        else\n            this.menuEvent = undefined\n\n        this.tooltip.render(isAnyHover && !this.dropdown?.isActive,\n            this.moveEvent,\n            [\n                new TooltipValue(`${ currentHover?.label }: ${ Formatter.format(currentHover?.current, PlotAxisType.Number, this.settings.valuePostfix) }`)\n            ],\n            currentHover)\n\n        this.innerTitle()\n\n        if (!this.isDestroy)\n            requestAnimationFrame(this.render.bind(this))\n    }\n\n    private isWithinRadius(v: Point) {\n        return v.x * v.x + v.y * v.y <= this.radius * this.radius\n    }\n\n    private isInsideSector(event: MouseEvent, sector: Sector, center: Point): boolean {\n        if (!this.isMousePositionChanged)\n            return sector.isMouseInside\n\n        const isAngle = (point: Point) => {\n            let a = Math.atan2(point.y - center.y, point.x - center.x)\n            if (a < 0)\n                a += Math.PI * 2\n            if (a < this.startAngle)\n                a = Math.PI * 2 - Math.abs(this.startAngle - a) + this.startAngle\n\n            let index = this.angles.findIndex(o => o.id == sector.id),\n                sumBefore = this.angles[index].sum\n\n            return !(this.dropdown?.isActive ?? false)\n                   && sumBefore <= a\n                   && sumBefore + this.angles[index].value - a >= 0\n        }\n\n        const point = this.getMousePosition(event)\n\n        return sector.isMouseInside = isAngle(point) && this.isInsideCircle\n    }\n\n    private empty() {\n        const ctx = this.ctx\n\n        ctx.beginPath()\n\n        ctx.arc(this.center.x, this.center.y, this.radius, 0, 2 * Math.PI)\n        ctx.strokeStyle = Theme.text\n        ctx.stroke()\n\n        TextStyles.regular(ctx)\n        ctx.fillText(TextResources.allDataIsHidden, this.center.x, this.center.y)\n\n        requestAnimationFrame(this.render.bind(this))\n    }\n\n    private innerTitle() {\n        if (this.canRenderInnerTitle) {\n            const ctx = this.ctx\n\n            this.innerTitleStyle(ctx)\n            ctx.fillText(this.data.innerTitle, this.center.x, this.center.y)\n        }\n    }\n\n    private calculateSizes() {\n        const titleOffset = this.settings.title\n                            ? Constants.Values.titleOffset\n                            : 0\n\n        const shortSide = this.canvas.width > this.canvas.height - titleOffset * 2\n                          ? this.canvas.height - titleOffset * 2\n                          : this.canvas.width\n\n        this.center = {\n            x: this.canvas.width / 2,\n            y: titleOffset + this.canvas.height / 2\n        }\n\n        let longestLabel = 0\n\n        for (const value of this.data.values) {\n            const width = Helper.stringWidth(value.label)\n\n            if (width > longestLabel)\n                longestLabel = width\n        }\n\n        this.radius = shortSide / 2 - (longestLabel + 50)\n\n        if (this.radius < shortSide / 2 - 50)\n            this.radius = shortSide / 2 - 50\n\n        if (this.radius < 0)\n            this.radius = 0\n\n        if (this.data.innerTitle != undefined && this.data.innerTitle != '') {\n            this.innerTitleStyle = TextStyles.large\n            this.canRenderInnerTitle = Helper.stringWidth(this.data.innerTitle, 16)\n                                       < (this.data.innerRadius / 100) * this.radius * 2\n\n            if (!this.canRenderInnerTitle) {\n                this.innerTitleStyle = TextStyles.regular\n                this.canRenderInnerTitle = Helper.stringWidth(this.data.innerTitle, 14)\n                                           < (this.data.innerRadius / 100) * this.radius * 2\n            }\n\n            if (!this.canRenderInnerTitle)\n                console.warn(`Inner title is declared, but can't be rendered`)\n        }\n    }\n\n    refresh() {\n        super.refresh()\n\n        this.dropdown?.refresh()\n    }\n\n    resize() {\n        super.resize()\n\n        this.initAnimations()\n        this.calculateSizes()\n        this.dropdown?.resize()\n\n        for (let sector of this.data.values) {\n            sector.canRenderLabel = undefined\n            sector = this.calculatePoint(sector)\n        }\n    }\n\n    prepareSettings() {\n        super.prepareSettings()\n\n        this.calculateSizes()\n\n        this.data.values = this.data.values.map(v => new Sector(v))\n\n        if (this.settings.enableOther) {\n            if (!this.settings.contextMenu)\n                this.settings.contextMenu = [] as DropdownItem[]\n            else\n                this.settings.contextMenu.push({\n                    isDivider: true\n                } as DropdownItem)\n\n            this.settings.contextMenu.push({\n                text: TextResources.show,\n                condition: data => data?._other,\n                action: () => {\n                    new Modal(Decomposition.toChart<Sector>(this.settings, this.other),\n                        {\n                            width: window.innerWidth * .8,\n                            height: window.innerHeight * .8\n                        } as DOMRect,\n                        TextResources.other)\n                        .open()\n                }\n            })\n        }\n\n        this.pinned = []\n\n        this.isDonut = (this.data.innerRadius ?? 0) != 0\n\n        for (let item of this.data.values) {\n            item.disabled = !item.value\n            item.value ??= 0\n            item.current = item.value\n            item.innerRadius ??= this.data.innerRadius ?? 0\n\n            if (item.value < 0)\n                console.warn(`\"${ item.label }\" has negative value (${ item.value }) and will not be render`)\n        }\n\n        this.data.values = this.data.values.filter(v => v.value >= 0)\n\n        if (this.settings.enableOther && this.data.values.length > 20) {\n            this.other = this.data.values.splice(20)\n\n            const sum = this.other.sumByField(v => v.current)\n\n            this.data.values = this.data.values.slice(0, 20)\n\n            this.data.values.push(new Sector({\n                value: sum,\n                current: sum,\n                label: TextResources.other,\n                id: Helper.guid(),\n                color: this.other[this.other.length - 1].color,\n                innerRadius: this.data.innerRadius,\n                data: {\n                    _other: true\n                }\n            }))\n        }\n\n        this.calculateAngles()\n\n        for (let sector of this.data.values) {\n            sector = this.calculatePoint(sector)\n\n            sector.textColor = Theme.text\n            sector.state = this.settings.disableInitAnimation || this.data.values.length == 1\n                           ? AnimationType.None\n                           : AnimationType.Init\n        }\n    }\n\n    initDropdown() {\n        super.initDropdown()\n\n        this.dropdown = new Dropdown(this.canvas,\n            {\n                x: -10,\n                y: 10,\n                icon: Icon.ThreeLines,\n                items: [\n                    {\n                        text: TextResources.exportPNG,\n                        action: () => {\n                            Export.asPng(this.canvas, this.settings.title)\n                        }\n                    },\n                    {\n                        text: TextResources.exportCSV,\n                        action: () => {\n                            Export.asCsv(Decomposition.toTable(CircularData.getRows(this.data)), this.settings.title)\n                        }\n                    },\n                    {\n                        isDivider: true\n                    } as DropdownItem,\n                    {\n                        text: TextResources.decomposeToTable,\n                        action: () => {\n                            new Modal(Decomposition.toTable(CircularData.getRows(this.data)),\n                                undefined,\n                                this.settings.title ?? TextResources.dataAsTable)\n                                .open()\n                        }\n                    }\n                ]\n            })\n    }\n}\n\nexport default CircularRenderer","import Data from 'types/interfaces/Data'\nimport Renderable from 'types/base/Renderable'\nimport * as Helper from 'Helper'\nimport Value from 'types/base/Value'\nimport Legend from 'Legend'\nimport Dropdown from 'Dropdown'\nimport DropdownItem from 'types/DropdownItem'\nimport Point from 'types/Point'\nimport TextResources from 'static/TextResources'\nimport Chart from 'Chart'\nimport Canvas from 'helpers/Canvas'\nimport TextStyles from 'helpers/TextStyles'\nimport { LegendPlace, RenderState } from 'static/Enums'\nimport * as Constants from 'static/constants/Index'\nimport ChartSettings from '../ChartSettings'\n\nclass Renderer<T extends Data> extends Renderable {\n    dropdown: Dropdown | undefined\n\n    data: T\n\n    protected isDestroy: boolean = false\n\n    protected highlightItems: string[]\n\n    constructor(chart: Chart) {\n        super(chart)\n\n        this.highlightItems = []\n\n        this.state = this.settings.disableInitAnimation ? RenderState.Idle : RenderState.Init\n    }\n\n    render() {\n        super.render()\n\n        this.renderTitle()\n    }\n\n    destroy() {\n        this.isDestroy = true\n\n        this.canvas.remove()\n    }\n\n    renderDropdown() {\n        this.clickEvent = this.dropdown?.render(this.moveEvent, this.clickEvent)\n    }\n\n    resize() {\n        this.#calculateSizes()\n        this.tooltip.refresh()\n        this.dropdown?.resize()\n    }\n\n    prepareSettings() {\n        this.data = <T>this.settings.data\n\n        const domRect = this.node.parentElement!.getBoundingClientRect()\n\n        this.settings.minWidth = isNaN(+this.settings.width)\n                                 ? 0\n                                 : +this.settings.width\n        this.settings.minHeight = isNaN(+this.settings.height)\n                                  ? 0\n                                  : +this.settings.height\n\n        this.settings.width = this.settings.minWidth != 0 && domRect.width < this.settings.minWidth\n                              ? this.settings.minWidth\n                              : domRect.width\n\n        this.settings.height = this.settings.minHeight != 0 && domRect.height < this.settings.minHeight\n                               ? this.settings.minHeight\n                               : domRect.height\n\n        this.canvas.width = this.settings.width\n        this.canvas.height = this.settings.height\n\n        for (let item of this.settings.data.values) {\n            item.id = Helper.guid()\n            item.label ??= TextResources.noLabel\n        }\n\n        this.calculateColors()\n\n        for (let item of this.settings.contextMenu ?? [])\n            if (item.id != undefined)\n                item.action = data => this.node.dispatchEvent(new CustomEvent(item.id ?? '', { detail: data }))\n    }\n\n    calculateColors(force: boolean = false) {\n        const baseColor = Helper.adjustColor(this.settings.baseColor ?? Helper.randomColor(), -67),\n            adjustAmount = 134\n\n        let index = 0\n\n        for (let item of this.settings.data.values) {\n            if (item.color == undefined || force) {\n                let amount = Math.round(index / this.settings.data.values.length  * adjustAmount)\n\n                item.color = Helper.adjustColor(baseColor, amount)\n            }\n\n            index++\n        }\n    }\n\n    initDropdown() {\n    }\n\n    renderContextMenu(data: any) {\n        if (this.dropdown?.isActive) {\n            this.menuEvent = undefined\n\n            return false\n        }\n\n        if (this.menuEvent != undefined && this.settings.contextMenu?.length != 0) {\n            if (this.contextMenu == undefined && this.settings.contextMenu != undefined) {\n                let clone: DropdownItem[] = []\n\n                for (const item of this.settings.contextMenu)\n                    if (!item.condition || item.condition(data))\n                        clone.push({\n                            id: item.id,\n                            text: item.text,\n                            isDivider: item.isDivider,\n                            action: () => {\n                                item.action(data)\n\n                                this.menuEvent = undefined\n                                this.contextMenu = undefined\n                            }\n                        })\n\n                this.contextMenu = new Dropdown(this.canvas, {\n                    x: this.menuEvent.x - this.canvasPosition.x,\n                    y: this.menuEvent.y - this.canvasPosition.y,\n                    items: clone,\n                    data: data\n                })\n\n                this.contextMenu.resize()\n\n                this.clickEvent = undefined\n            }\n\n            const isClick = this.clickEvent != undefined\n\n            this.clickEvent = this.contextMenu?.render(this.moveEvent, this.clickEvent)\n\n            if (this.clickEvent == undefined && isClick) {\n                this.contextMenu = undefined\n                this.menuEvent = undefined\n\n                return true\n            }\n        }\n\n        return false\n    }\n\n    highlight(value?: Value) {\n        if (value)\n            this.highlightItems = [value.id]\n        else\n            this.highlightItems = []\n    }\n\n    closeDropdowns() {\n        this.dropdown?.close()\n        this.menuEvent = undefined\n    }\n\n    renderTitle() {\n        const ctx = Canvas.getContext(this.canvas)\n\n        if (this.settings.title) {\n            TextStyles.title(ctx)\n            ctx.fillText(this.settings.title, this.canvas.width / 2, Constants.Values.titleOffset)\n        }\n    }\n\n    #calculateSizes() {\n        let domRect = this.node.getBoundingClientRect()\n\n        this.settings.width = this.settings.minWidth && domRect.width < this.settings.minWidth\n                              ? this.settings.minWidth\n                              : domRect.width\n        this.settings.height = this.settings.minHeight && domRect.height < this.settings.minHeight\n                               ? this.settings.minHeight\n                               : domRect.height\n\n        this.canvas.width = this.settings.width\n        this.canvas.height = this.settings.height\n\n        if (this.settings.enableLegend) {\n            if (this.settings.legendPlace == undefined\n                || this.settings.legendPlace == LegendPlace.Top\n                || this.settings.legendPlace == LegendPlace.Bottom)\n                this.canvas.height -= Legend.getLegendHeight(this.settings.data.values, this.canvas.width)\n\n            if (this.settings.legendPlace == LegendPlace.Left\n                || this.settings.legendPlace == LegendPlace.Right)\n                this.canvas.width -= 500\n        }\n    }\n\n    protected getMousePosition(event: MouseEvent): Point {\n        return {\n            x: event.offsetX,\n            y: event.offsetY\n        }\n    }\n\n    applySettings(settings: ChartSettings) {\n        this.settings = settings\n    }\n}\n\nexport default Renderer","import Value from 'types/base/Value'\nimport TableValue from 'types/TableValue'\nimport TableData from 'types/TableData'\nimport Data from 'types/interfaces/Data'\n\nclass TreeData implements Data {\n    values: Value[]\n\n    padding: number\n\n    static getRows(data: TreeData): TableData {\n        const key = 'Value'\n\n        let values: TableValue[] = []\n\n        for (const value of data.values)\n            values.push({\n                name: value.label,\n                values: new Map([[key, value.value]])\n            })\n\n        return {\n            headers: [\n                {\n                    value: key,\n                    display: key\n                }\n            ],\n            values: values\n        }\n    }\n}\n\nexport default TreeData","import TableValue from 'types/TableValue'\nimport Sector from 'types/Sector'\nimport TableData from 'types/TableData'\nimport Data from 'types/interfaces/Data'\n\nclass CircularData implements Data {\n    values: Sector[]\n\n    innerRadius: number\n\n    innerTitle: string\n\n    static getRows(data: CircularData): TableData {\n        const key = 'Value'\n\n        let values: TableValue[] = []\n\n        for (const value of data.values)\n            values.push({\n                name: value.label,\n                values: new Map([[key, value.value]])\n            })\n\n        return {\n            headers: [\n                {\n                    value: key,\n                    display: key\n                }\n            ],\n            values: values\n        }\n    }\n}\n\nexport default CircularData","class Value {\n    id: string\n\n    baseColor: string\n\n    color: string\n\n    textColor: string\n\n    label: string\n\n    disabled: boolean\n\n    hideInLegend: boolean\n\n    data: { [key: string]: string }\n\n    value: number\n\n    toggle(transition: number) {\n        if (transition == 0)\n            this.disabled = !this.disabled\n    }\n\n    checkCondition(): boolean {\n        return false\n    }\n\n    reset() {\n        this.disabled = false\n    }\n}\n\nexport default Value","import PlotData from 'types/data/PlotData'\nimport Renderer from 'types/base/Renderer'\nimport * as Helper from 'Helper'\nimport DropdownItem from 'types/DropdownItem'\nimport PlotAxis from 'types/PlotAxis'\nimport Paddings from 'types/Paddings'\nimport Dropdown from 'Dropdown'\nimport HoverItem from 'types/HoverItem'\nimport PlotSeries from 'types/PlotSeries'\nimport Tooltip from 'Tooltip'\nimport Theme from 'Theme'\nimport Chart from 'Chart'\nimport TooltipValue from 'types/TooltipValue'\nimport Export from 'Export'\nimport Decomposition from 'Decomposition'\nimport Modal from 'Modal'\nimport TextResources from 'static/TextResources'\nimport Formatter from 'helpers/Formatter'\nimport Canvas from 'helpers/Canvas'\nimport { AnimationType, Icon, LineType, PlotAxisType, PlotType, RenderState } from 'static/Enums'\nimport * as Constants from 'static/constants/Index'\nimport TextStyles from 'helpers/TextStyles'\nimport Box from 'types/Box'\n\nclass PlotRenderer extends Renderer<PlotData> {\n    #x: PlotAxis\n\n    #y: PlotAxis\n\n    paddings: Paddings\n\n    #tooltipX: number\n\n    #tooltipY: number\n\n    #allValuesX: any[]\n\n    #allValuesY: any[]\n\n    plot: Box\n\n    #hoverX: HoverItem | undefined\n\n\n    base: PlotBase\n\n    tooltipValues: TooltipValue[]\n\n    constructor(chart: Chart) {\n        super(chart)\n\n        this.plot = new Box()\n    }\n\n    render() {\n        // TODO: move after empty ? or remove ?\n        super.render()\n\n        this.empty()\n\n        // TODO: if empty is rendered, then return\n\n        this.base.render()\n\n        this.series()\n\n        this.animate()\n        this.interact()\n\n        this.tooltip2()\n        this.dropdown2()\n\n        this.state = RenderState.Idle\n\n        this.nextFrame()\n    }\n\n    empty() { }\n\n    series() {\n        const ctx = Canvas.getContext(this.canvas),\n            paddings = this.paddings,\n            canvas = this.canvas\n\n        // setting default styles\n\n        // TextStyles.regular(ctx)\n        ctx.lineJoin = 'round'\n\n        //\n\n        const seriesClass = this.data.values.map(s => new PlotSeries2(s))\n\n        for (const series of seriesClass)\n            series.render()\n\n        //\n\n        let tooltipLines = []\n\n        const axisLineHoverColor = Theme.lineActive\n\n        const topPadding = !this.base.labelsY\n                           ? canvas.height - paddings.bottom\n                           : [...this.base.labelsY].find(kv => kv[1].startsWith('0'))![0]\n\n        let x = 0,\n            y = 0,\n            yValue = 0,\n            yHeight = 0,\n            columnWidth = 0\n\n        const seriesToRender = this.data.values.filter(s => !s.disabled)\n\n        let columnsIndex = 0,\n            columnsCount = seriesToRender.filter(s => s.type == PlotType.Column).length\n\n        let barsIndex = 0,\n            barsCount = seriesToRender.filter(s => s.type == PlotType.Bar).length\n\n        let stackingAccumulator = []\n        for (let i = 0; i < this.#allValuesY.length; i++)\n            stackingAccumulator.push(0)\n\n        for (const series of seriesToRender) {\n            ctx.beginPath()\n\n            ctx.strokeStyle = series.color\n            ctx.fillStyle = series.color\n            ctx.lineWidth = series.width\n            ctx.lineCap = 'round'\n\n            const anyHighlight = this.highlightItems.length != 0\n\n            if (!this.animations.contains(series.id, AnimationType.Init)) {\n                const changeColor = (transition: number, event: AnimationType) => {\n                    this.animations.reload(series.id, event)\n\n                    if (transition == 0)\n                        return\n\n                    let opacity = Math.round(255 - 127 * transition).toString(16)\n                    if (opacity.length < 2)\n                        opacity = 0 + opacity\n\n                    ctx.fillStyle = series.color + opacity\n                    ctx.strokeStyle = series.color + opacity\n                }\n\n                if (anyHighlight && !this.highlightItems.includes(series.id)) {\n                    this.animations.handle(\n                        series.id,\n                        AnimationType.AnotherItemOver,\n                        {\n                            duration: Constants.Animations.circular,\n                            body: transition => {\n                                changeColor(transition, AnimationType.AnotherItemLeave)\n                            }\n                        }\n                    )\n                } else if (!anyHighlight) {\n                    this.animations.handle(\n                        series.id,\n                        AnimationType.AnotherItemLeave,\n                        {\n                            timer: Constants.Dates.minDate,\n                            duration: Constants.Animations.circular,\n                            backward: true,\n                            body: transition => {\n                                changeColor(transition, AnimationType.AnotherItemOver)\n                            }\n                        }\n                    )\n                }\n            }\n\n            switch (series.lineType) {\n                case LineType.Dash:\n                    ctx.setLineDash([series.width * 3, series.width * 2])\n\n                    break\n\n                case LineType.Dotted:\n                    ctx.setLineDash([series.width, series.width])\n\n                    break\n\n                case LineType.Solid:\n                default:\n                    break\n            }\n\n            for (const value of series.values) {\n                let index = series.values.indexOf(value),\n                    xIndex = this.#allValuesX.indexOf(this.data.xType == PlotAxisType.Date ? value.x?.toString() : value.x),\n                    yIndex = this.#allValuesY.indexOf(value.y)\n\n                const getTooltipValue = () => {\n                    return {\n                        x: Formatter.format(value.x, this.data.xType),\n                        y: Formatter.format(value.y, PlotAxisType.Number, this.settings.valuePostfix)\n                    }\n                }\n\n                x = paddings.left\n                if (series.type != PlotType.Bar)\n                    x += xIndex * this.#x.step\n                if (series.type == PlotType.Line)\n                    x -= this.#x.step / 2 - this.#x.step\n\n                switch (series.type) {\n                    case PlotType.Line:\n                        y = paddings.top + this.plot.height - <number>value.y / this.#y.unit * this.#y.step\n                            - Math.abs(this.#y.min / this.#y.unit * this.#y.step)\n\n                        const pointDuration = 1500 / series.values.length * 1.2\n\n                        if (this.state == RenderState.Init || this.animations.contains(value.id, AnimationType.Init)) {\n                            this.animations.handle(value.id,\n                                AnimationType.Init,\n                                {\n                                    timer: new Date(Date.now()).addMilliseconds(pointDuration * index),\n                                    duration: pointDuration,\n                                    continuous: true,\n                                    body: transition => {\n                                        if (index == 0)\n                                            return\n\n                                        // TODO: if use gradient then no need to calculate intermediate values ?\n\n                                        x = paddings.left + (xIndex - .5) * this.#x.step\n                                        y = paddings.top + this.plot.height - <number>value.y / this.#y.unit * this.#y.step\n                                            - Math.abs(this.#y.min / this.#y.unit * this.#y.step)\n\n                                        const next = series.values[index - 1]\n\n                                        const prevValue = {\n                                            x: paddings.left + (xIndex - .5) * this.#x.step,\n                                            y: paddings.top + this.plot.height - <number>next.y / this.#y.unit * this.#y.step\n                                               - Math.abs(this.#y.min / this.#y.unit * this.#y.step)\n                                        },\n                                            endPoint = {\n                                                x: prevValue.x + (this.#x.step + (x - prevValue.x)) * transition,\n                                                y: prevValue.y + (y - prevValue.y) * transition\n                                            }\n\n                                        if (prevValue.x != endPoint.x && prevValue.y != endPoint.y) {\n                                            ctx.moveTo(prevValue.x, prevValue.y)\n                                            ctx.lineTo(endPoint.x, endPoint.y)\n                                        }\n                                    }\n                                })\n                        } else {\n                            ctx.lineTo(x, y)\n\n                            if (this.#isOnX(x)) {\n                                const mouse = this.getMousePosition(this.moveEvent)\n\n                                if (Math.abs(mouse.y - y) < 5) {\n                                    this.#hoverX = {\n                                        x: x,\n                                        y: y,\n                                        index: index,\n                                        data: value.data,\n                                        series: series\n                                    }\n\n                                    tooltipLines.push(new TooltipValue(`${ series.label }: ${ getTooltipValue().y }`, series.color))\n                                    this.#tooltipX = x - this.#x.step / 2\n                                }\n                            }\n                        }\n\n                        break\n\n                    case PlotType.AttentionLine:\n                        yValue = canvas.height - paddings.bottom - <number>value.y / this.#y.unit * this.#y.step\n\n                        ctx.moveTo(paddings.left, yValue)\n\n                        if (this.state == RenderState.Init || this.animations.contains(value.id, AnimationType.Init))\n                            this.animations.handle(value.id,\n                                AnimationType.Init,\n                                {\n                                    duration: 1500,\n                                    continuous: true,\n                                    body: transition => {\n                                        ctx.lineTo(paddings.left + (canvas.width - paddings.left - paddings.right) * transition,\n                                            canvas.height - paddings.bottom - <number>value.y / this.#y.unit * this.#y.step)\n                                    }\n                                })\n                        else\n                            ctx.lineTo(canvas.width - paddings.right, yValue)\n\n                        break\n\n                    case PlotType.Column:\n                        const offset = (canvas.height - paddings.bottom - topPadding)\n\n                        yValue = <number>value.y > this.data.yMax ? this.data.yMax : <number>value.y\n\n                        y = (this.plot.height - offset) * yValue / this.#y.max\n\n                        columnWidth = this.#x.step * (series.width ? series.width / 100 : .5) / columnsCount\n\n                        ctx.beginPath()\n\n                        const topCorners = [6, 6, 0, 0]\n\n                        if (this.state == RenderState.Init || this.animations.contains(value.id + columnsIndex, AnimationType.Init)) {\n                            this.animations.handle(value.id + columnsIndex,\n                                AnimationType.Init,\n                                {\n                                    duration: 800,\n                                    continuous: true,\n                                    body: transition => {\n                                        yValue = <number>value.y > this.data.yMax ? this.data.yMax : <number>value.y\n\n                                        x = paddings.left + xIndex * this.#x.step\n                                        y = (this.plot.height - offset) * yValue / this.#y.max * transition\n\n                                        columnsIndex = this.data.values.filter(s => s.type == PlotType.Column)\n                                                           .indexOf(series)\n\n                                        const xPos = x + columnsIndex * columnWidth + (this.#x.step - columnsCount * columnWidth) / 2,\n                                            yPos = canvas.height - paddings.bottom - y - offset\n\n                                        ctx.roundRect(xPos, yPos, columnWidth, y, topCorners)\n                                        ctx.fill()\n                                    }\n                                })\n                        } else {\n                            const xPos = x + columnsIndex * columnWidth\n                                         + (this.#x.step - columnsCount * columnWidth) / 2,\n                                yPos = canvas.height - paddings.bottom - y - offset\n\n                            if (this.#isInArea(xPos, yPos, columnWidth, y)\n                                && !this.contextMenu?.isActive) {\n                                this.#hoverX = {\n                                    x: x,\n                                    y: y,\n                                    index: index,\n                                    data: value.data,\n                                    series: series\n                                }\n\n                                tooltipLines.push(new TooltipValue(`${ series.label }: ${ getTooltipValue().y }`, series.color))\n                                this.#tooltipX = x\n                            }\n\n                            ctx.roundRect(xPos, yPos, columnWidth, y, topCorners)\n                            ctx.fill()\n                        }\n\n                        break\n\n                    case PlotType.Bar:\n                        y = paddings.top + yIndex * this.#y.step + this.#y.step / 2\n                            + (100 - series.width) * this.#y.step / 100 / 2\n\n                        const seriesHeight = (series.width * this.#y.step / 100) / barsCount\n\n                        if (this.state == RenderState.Init || this.animations.contains(value.id + barsIndex, AnimationType.Init)) {\n                            this.animations.handle(value.id + barsIndex,\n                                AnimationType.Init,\n                                {\n                                    duration: 800,\n                                    continuous: true,\n                                    body: transition => {\n                                        y = paddings.top + yIndex * this.#y.step + this.#y.step / 2\n                                            + (100 - series.width) * this.#y.step / 100 / 2\n\n                                        barsIndex = this.data.values.filter(s => s.type == PlotType.Bar)\n                                                        .indexOf(series)\n\n                                        ctx.fillRect(x,\n                                            y - this.#y.step / 2 + barsIndex * seriesHeight,\n                                            <number>value.x / this.#x.unit * this.#x.step * transition,\n                                            seriesHeight)\n                                    }\n                                })\n                        } else {\n                            if (this.#isInArea(x,\n                                y - this.#y.step / 2 + barsIndex * seriesHeight,\n                                <number>value.x / this.#x.unit * this.#x.step,\n                                seriesHeight)) {\n                                this.#hoverX = {\n                                    x: x,\n                                    y: y,\n                                    index: index,\n                                    data: value.data,\n                                    series: series\n                                }\n\n                                tooltipLines.push(new TooltipValue(`${ series.label }: ${ getTooltipValue().x }`, series.color))\n                                this.#tooltipY = y - this.#y.step / 2\n                            }\n\n                            ctx.fillRect(x,\n                                y - this.#y.step / 2 + barsIndex * seriesHeight,\n                                <number>value.x / this.#x.unit * this.#x.step,\n                                seriesHeight)\n                        }\n\n                        break\n\n                    case PlotType.StackingColumn:\n                        y = canvas.height - paddings.bottom - <number>value.y / this.#y.unit * this.#y.step\n\n                        columnWidth = this.#x.step * (series.width ? series.width / 100 : .5)\n\n                        if (this.state == RenderState.Init || this.animations.contains(value.id + index, AnimationType.Init)) {\n                            this.animations.handle(value.id + index,\n                                AnimationType.Init,\n                                {\n                                    duration: 800,\n                                    continuous: true,\n                                    body: transition => {\n                                        columnsIndex = this.data.values.filter(s => s.type == PlotType.StackingColumn\n                                                                                    && s.values.filter(v => this.data.xType == PlotAxisType.Date\n                                                                                                            ? (v.x as Date).getTime() == (value.x as Date).getTime()\n                                                                                                            : v.x == value.x)\n                                                                                        .length > 0)\n                                                           .indexOf(series)\n\n                                        x = paddings.left + xIndex * this.#x.step\n                                        y = canvas.height - paddings.bottom - <number>value.y / this.#y.unit * this.#y.step\n\n                                        if (columnsIndex == 0)\n                                            stackingAccumulator[xIndex] = 0\n\n                                        let offset = stackingAccumulator[xIndex] != undefined\n                                                     ? stackingAccumulator[xIndex]\n                                                     : 0\n\n                                        yValue = canvas.height - paddings.bottom + offset\n                                        yHeight = (y - canvas.height + paddings.bottom) * transition\n\n                                        if (yValue > paddings.top) {\n                                            if (yValue + yHeight < paddings.top)\n                                                yHeight -= yValue + yHeight - paddings.top\n\n                                            ctx.fillRect(x + (this.#x.step - columnWidth) / 2,\n                                                yValue,\n                                                columnWidth,\n                                                yHeight)\n                                        }\n\n                                        stackingAccumulator[xIndex] += (y - canvas.height + paddings.bottom) * transition\n                                    }\n                                })\n                        } else {\n                            if (columnsIndex == 0)\n                                stackingAccumulator[xIndex] = 0\n\n                            let offset = stackingAccumulator[xIndex] != undefined\n                                         ? stackingAccumulator[xIndex]\n                                         : 0\n\n                            yValue = canvas.height - paddings.bottom + offset\n                            yHeight = y - canvas.height + paddings.bottom\n\n                            if (yValue > paddings.top) {\n                                if (yValue + yHeight < paddings.top)\n                                    yHeight -= yValue + yHeight - paddings.top\n\n                                if (this.#isInArea(x + (this.#x.step - columnWidth) / 2,\n                                    yValue + yHeight,\n                                    columnWidth,\n                                    Math.abs(yHeight))) {\n                                    this.#hoverX = {\n                                        x: x,\n                                        y: y,\n                                        index: xIndex,\n                                        data: value.data,\n                                        series: series\n                                    }\n\n                                    tooltipLines.push(new TooltipValue(`${ series.label }: ${ getTooltipValue().y }`, series.color))\n                                    this.#tooltipX = x\n                                }\n\n                                ctx.fillRect(x + (this.#x.step - columnWidth) / 2,\n                                    yValue,\n                                    columnWidth,\n                                    yHeight)\n                            }\n\n                            stackingAccumulator[xIndex] += (y - canvas.height + paddings.bottom)\n                        }\n\n                        break\n                }\n            }\n\n            ctx.setLineDash([])\n\n            switch (series.type) {\n                case PlotType.Line:\n                    ctx.stroke()\n\n                    if (this.#hoverX && this.#hoverX.series == series) {\n                        ctx.beginPath()\n                        ctx.lineWidth = 1\n                        ctx.strokeStyle = axisLineHoverColor\n                        ctx.moveTo(paddings.left, this.#hoverX.y)\n                        ctx.lineTo(canvas.width - paddings.right, this.#hoverX.y)\n                        ctx.stroke()\n\n                        let radius = Math.round(series.width * 1.1)\n                        if (radius < 5)\n                            radius = 5\n\n                        ctx.beginPath()\n                        ctx.arc(this.#hoverX.x, this.#hoverX.y, radius, 0, 2 * Math.PI)\n                        ctx.fill()\n                        ctx.lineWidth = Math.ceil(radius / 2)\n                        ctx.strokeStyle = Helper.adjustColor(series.color, 50)\n                        ctx.stroke()\n                    }\n\n                    break\n\n                case PlotType.AttentionLine:\n                    ctx.stroke()\n\n                    TextStyles.regular(ctx)\n                    ctx.fillText(series.label,\n                        paddings.left + (canvas.width - paddings.left - paddings.right) / 2,\n                        canvas.height - paddings.bottom - <number>series.values[0].y / this.#y.unit * this.#y.step + 16)\n\n                    break\n\n                case PlotType.Column:\n                case PlotType.StackingColumn:\n                case PlotType.Bar:\n                    if (this.#hoverX)\n                        this.highlight(this.#hoverX.series)\n\n                    columnsIndex++\n                    barsIndex++\n\n                    break\n            }\n        }\n\n        this.tooltipValues = tooltipLines\n    }\n\n    animate() { }\n\n    interact() { }\n\n    refresh() {\n        super.refresh()\n    }\n\n    resize() {\n        super.resize()\n\n        this.size()\n    }\n\n    // TODO: better name ?\n    prepareSettings() {\n        super.prepareSettings()\n\n        // v | map data\n        // v | flip bar series\n        // v | normalize data\n\n        let values = []\n\n        for (let series of this.data.values) {\n            series = new PlotSeries(series)\n\n            if (series.type == PlotType.Bar)\n                series.inverse()\n\n            series.normalize(this.data.xType)\n\n            values.push(series)\n        }\n\n        this.data.values = values\n\n        // v | set paddings\n\n        this.setPaddings()\n\n        // init tooltip\n\n        this.tooltip = new Tooltip(this.canvas, this.settings)\n\n        this.base = new PlotBase(this, this.data)\n    }\n\n    size() {\n        this.plot.set(\n            this.canvas.width - this.paddings.left - this.paddings.right,\n            this.canvas.height - this.paddings.top - this.paddings.bottom\n        )\n\n        this.base.calculateLabels()\n\n        // flat values\n\n        let xValues = this.data.values.flatMap(s => s.values.map(p => p.x)),\n            yValues = this.data.values.flatMap(s => s.values.map(p => p.y as number))\n\n        const isDate = this.data.xType == PlotAxisType.Date,\n            isText = this.data.xType == PlotAxisType.Text,\n            isNumber = !isDate && !isText\n\n        // adding missed dates to x-axis\n\n        const byAsc = (a: string | number | Date, b: string | number | Date) => b > a ? -1 : 1\n\n        if (isDate) {\n            let tempDate = new Date(Math.min(...(<number[]>xValues)))\n\n            while (tempDate.getTime() < Math.max(...(<number[]>xValues))) {\n                if (!xValues.includes(tempDate.getTime()))\n                    xValues.push(new Date(tempDate.getTime()))\n\n                tempDate = tempDate.addDays(1)\n            }\n\n            xValues.sort(byAsc)\n        }\n\n        // add rounded to last\n\n        if (this.base.isVertical)\n            xValues = Helper.getRoundedValues(xValues as number[])\n        else\n            yValues = Helper.getRoundedValues(yValues)\n\n        // setting all values\n\n        yValues.sort(byAsc)\n\n        this.#allValuesX = [...new Set(xValues.filter(x => x != undefined).map(x => isDate ? x.toString() : x))]\n        this.#allValuesY = [...new Set(yValues.filter(y => y != undefined))]\n\n        //\n\n        const plot = this.plot\n\n        // setting variables for x-axis\n\n        const xUnit = (xValues[1] as number) - (xValues[0] as number)\n\n        this.#x = {\n            min: Math.min(...(<number[]>xValues)),\n            max: Math.max(...(<number[]>xValues)),\n            unit: xUnit,\n            step: plot.width / this.#allValuesX.length,\n            minStep: 0\n        }\n\n        // setting variables for y-axis\n\n        const yMin = Math.min(Math.min(...yValues), 0)\n        const yUnit = yValues[1] - yValues[0]\n\n        const yStepOffset = this.base.isVertical ? 0 : 1\n\n        this.#y = {\n            min: yMin,\n            max: this.data.yMax ?? Math.max(...yValues),\n            unit: yUnit,\n            step: plot.height / (this.#allValuesY.length - yStepOffset),\n            minStep: 0\n        }\n\n        // init settings for stacking columns\n\n        let stackingColumns = this.data.values.filter(s => s.type == PlotType.StackingColumn)\n\n        let max\n\n        if (stackingColumns.length > 0) {\n            let values = stackingColumns.map(s => s.values.flatMap(v => +v.y))\n\n            max = this.#y.max\n\n            for (let i = 0; i < values[0].length; i++) {\n                let sum = 0\n\n                for (const v of values)\n                    sum += v[i]\n\n                if (sum > max)\n                    max = sum\n            }\n\n            this.#y.max = max > this.data.yMax ? this.data.yMax : max\n            this.#y.unit = (Math.abs(this.#y.min) + Math.abs(this.#y.max)) / (this.#allValuesY.length - 1)\n        }\n\n        // getting max width for y label and add offset to left padding\n        // TODO: remove ? rework ?\n\n        // const paddings = this.paddings,\n        //     canvas = this.canvas\n        //\n        // const yMaxWidth = Helper.stringWidth(Formatter.number(this.#y.max))\n        // if (yMaxWidth > this.paddings.left - 40 && !this.data.simple) {\n        //     this.paddings.left += yMaxWidth - this.paddings.left + 40\n        //     this.#x.step = (this.canvas.width - this.paddings.left - this.paddings.right) / this.#allValuesX.length\n        // }\n    }\n\n    initDropdown() {\n        super.initDropdown()\n\n        if (this.data.simple) {\n            this.dropdown = undefined\n\n            return\n        }\n\n        this.dropdown = new Dropdown(this.canvas,\n            {\n                x: -10,\n                y: 10,\n                icon: Icon.ThreeLines,\n                items: [\n                    DropdownItem.button(\n                        TextResources.exportPNG,\n                        () => Export.asPng(this.canvas, this.settings.title)\n                    ),\n                    DropdownItem.button(\n                        TextResources.exportCSV,\n                        () => Export.asCsv(\n                            Decomposition.toTable(PlotData.getRows(this.data)),\n                            this.settings.title\n                        )\n                    ),\n                    DropdownItem.divider(),\n                    DropdownItem.button(\n                        TextResources.decomposeToTable,\n                        () => new Modal(\n                            Decomposition.toTable(PlotData.getRows(this.data)),\n                            undefined,\n                            this.settings.title ?? TextResources.dataAsTable)\n                            .open()\n                    )\n                ]\n            })\n    }\n\n    tooltip2() {\n        if (this.data.simple)\n            return\n\n        if (this.tooltipValues.length > 0) {\n            const getValue = (labels: Map<number, string>, pos: number) => {\n                let curr = 0,\n                    index = 0\n\n                let keys = [...labels.keys()]\n\n                while (curr < pos)\n                    curr = keys[index++]\n\n                return labels.get(curr)\n            }\n\n            this.tooltipValues.unshift(\n                new TooltipValue(\n                    this.base.isVertical\n                    ? getValue(this.base.labelsY, this.#tooltipY)\n                    : getValue(this.base.labelsX, this.#tooltipX)\n                )\n            )\n        }\n\n        this.tooltip.render(\n            this.tooltipValues.length > 1 && !this.dropdown?.isActive,\n            this.moveEvent,\n            this.tooltipValues,\n            this.#hoverX\n            ? this.#hoverX.series!.values[this.#hoverX.index]\n            : undefined\n        )\n    }\n\n    dropdown2() {\n        super.renderDropdown()\n\n        if (this.menuEvent && !this.#hoverX)\n            this.menuEvent = undefined\n\n        if (this.#hoverX == undefined)\n            this.highlight()\n\n        // reset hover if context menu is open\n\n        if (this.#hoverX\n            && (this.renderContextMenu(this.#hoverX.data)\n                || !this.menuEvent))\n            this.#hoverX = undefined\n    }\n\n    nextFrame() {\n        if (!this.isDestroy)\n            requestAnimationFrame(this.render.bind(this))\n    }\n\n    private setPaddings() {\n        if (!this.data.simple)\n            this.paddings = {\n                top: 30,\n                right: 40,\n                bottom: 50,\n                left: 80\n            }\n        else\n            this.paddings = {\n                top: 10,\n                right: 10,\n                bottom: 10,\n                left: 10\n            }\n\n        if (this.settings.title)\n            this.paddings.top += Constants.Values.titleOffset\n    }\n\n\n\n    #isInArea(x: number, y: number, w: number, h: number) {\n        if (!this.moveEvent)\n            return false\n\n        const mouse = this.getMousePosition(this.moveEvent)\n\n        let offset = 0\n        if (h < 0)\n            offset = h = -h\n\n        return !(this.dropdown?.isActive ?? false)\n               && mouse.x >= x && mouse.x <= x + w\n               && mouse.y >= y - offset && mouse.y <= y - offset + h\n    }\n\n    // TODO: combine with this.isInArea()\n    #isOnX(x: number) {\n        if (!this.moveEvent)\n            return false\n\n        const mouse = this.getMousePosition(this.moveEvent)\n\n        return !(this.dropdown?.isActive ?? false)\n               && x - this.#x.step / 2 <= mouse.x && mouse.x < x + this.#x.step / 2\n               && this.paddings.top <= mouse.y && mouse.y <= this.canvas.height - this.paddings.bottom\n               && this.paddings.left < mouse.x\n    }\n}\n\nclass PlotSeries2 extends PlotSeries {\n    constructor(obj: object) {\n        super(obj)\n\n        Object.assign(this, obj)\n    }\n\n    render() {\n        this.area()\n        this.label2()\n\n        this.animate()\n        this.interact()\n    }\n\n    animate() { }\n\n    interact() { }\n\n    area() { }\n\n    label2() { }\n\n    // isInArea(x: number, y: number, w: number, h: number) {\n    //     // if (!this.moveEvent)\n    //     //     return false\n    //     //\n    //     // const mouse = this.getMousePosition(this.moveEvent)\n    //     //\n    //     // return !(this.dropdown?.isActive ?? false)\n    //     //        && mouse.x >= x && mouse.x <= x + w\n    //     //        && mouse.y >= y && mouse.y <= y + h\n    // }\n    //\n    // // TODO: combine with this.isInArea()\n    // isOnX(x: number) {\n    //     // if (!this.moveEvent)\n    //     //     return false\n    //     //\n    //     // const mouse = this.getMousePosition(this.moveEvent)\n    //     //\n    //     // return !(this.dropdown?.isActive ?? false)\n    //     //        && x - this.#x.step / 2 <= mouse.x && mouse.x < x + this.#x.step / 2\n    //     //        && this.#paddings.top <= mouse.y && mouse.y <= this.canvas.height - this.#paddings.bottom\n    //     //        && this.#paddings.left < mouse.x\n    // }\n\n    canRenderLabel() { }\n}\n\nclass PlotBase {\n    renderer: PlotRenderer\n\n    data: PlotData\n\n    isVertical: boolean\n\n    labelsX: Map<number, string>\n\n    labelsY: Map<number, string>\n\n    // TODO: uncomment\n    // labels: PlotBaseLabels\n\n    constructor(renderer: PlotRenderer, data: PlotData) {\n        this.renderer = renderer\n        this.data = data\n\n        this.isVertical = data.values.filter(s => s.type == PlotType.Bar).length > 0\n    }\n\n    render() {\n        this.clear()\n\n        if (this.data.simple)\n            return\n\n        if (!this.labelsX || !this.labelsY)\n            this.calculateLabels()\n\n        this.lines()\n        this.backlines()\n        this.labels()\n        this.titles()\n\n        this.renderer.renderTitle()\n    }\n\n    clear() {\n        const canvas = this.renderer.canvas,\n            ctx = Canvas.getContext(canvas)\n\n        ctx.clearRect(0, 0, canvas.width, canvas.height)\n    }\n\n    lines() {\n        const canvas = this.renderer.canvas,\n            paddings = this.renderer.paddings\n\n        const ctx = Canvas.getContext(canvas)\n\n        // clear area around this.#plot\n\n        ctx.fillStyle = Theme.canvasBackground\n\n        ctx.fillRect(0, 0, paddings.left, canvas.height)\n        ctx.fillRect(0, 0, canvas.width, paddings.top)\n        ctx.fillRect(canvas.width - paddings.right, 0, canvas.width, canvas.height)\n        ctx.fillRect(0, canvas.height - paddings.bottom, canvas.width, canvas.height)\n\n        ctx.setLineDash([])\n\n        // set baselines\n\n        ctx.beginPath()\n\n        ctx.strokeStyle = Theme.line\n        ctx.lineWidth = 1\n\n        ctx.moveTo(paddings.left, canvas.height - paddings.bottom)\n\n        if (this.isVertical)\n            ctx.lineTo(paddings.left, paddings.top)\n        else\n            ctx.lineTo(canvas.width - paddings.right, canvas.height - paddings.bottom)\n\n        ctx.stroke()\n    }\n\n    backlines() {\n        const canvas = this.renderer.canvas,\n            paddings = this.renderer.paddings\n\n        const ctx = Canvas.getContext(canvas)\n\n        ctx.lineWidth = 1\n        ctx.strokeStyle = Theme.lineAxis\n        ctx.setLineDash([6, 6])\n\n        if (this.isVertical) {\n            for (const l of this.labelsX) {\n                const x = l[0]\n\n                if (x == paddings.left)\n                    continue\n\n                ctx.beginPath()\n\n                ctx.moveTo(x, paddings.top)\n                ctx.lineTo(x, canvas.height - paddings.bottom)\n\n                ctx.stroke()\n            }\n        }\n\n        if (!this.isVertical) {\n            let index = 0\n\n            for (const l of this.labelsY) {\n                const y = l[0]\n\n                if (index++ == this.labelsY.size - 1)\n                    continue\n\n                ctx.beginPath()\n\n                ctx.moveTo(paddings.left, y)\n                ctx.lineTo(canvas.width - paddings.right, y)\n\n                ctx.stroke()\n            }\n        }\n    }\n\n    labels() {\n        const canvas = this.renderer.canvas,\n            paddings = this.renderer.paddings\n\n        const ctx = Canvas.getContext(canvas)\n\n        TextStyles.regular(ctx)\n\n        for (const point of this.labelsX) {\n            const x = point[0],\n                y = canvas.height - paddings.bottom + 20\n\n            if (Canvas.isCanRender(ctx, x, y, point[1], 20))\n                ctx.fillText(point[1], x, y)\n        }\n\n        for (const point of this.labelsY) {\n            const x = paddings.left - 10,\n                y = point[0]\n\n            ctx.textAlign = 'end'\n\n            if (Canvas.isCanRender(ctx, x, y, point[1], 20, true))\n                ctx.fillText(point[1], x, y)\n        }\n    }\n\n    titles() {\n        /*\n         * render x-axis title\n         * render y-axis title\n         */\n\n        const canvas = this.renderer.canvas,\n            paddings = this.renderer.paddings\n\n        const ctx = Canvas.getContext(canvas)\n\n        if (this.data.xTitle || this.data.yTitle) {\n            ctx.textAlign = 'center'\n            ctx.textBaseline = 'bottom'\n            ctx.fillStyle = Theme.text\n\n            if (this.data.xTitle)\n                ctx.fillText(this.data.xTitle,\n                    paddings.left + (canvas.width - paddings.left - paddings.right) / 2,\n                    canvas.height - 4)\n\n            if (this.data.yTitle) {\n                ctx.rotate(-Math.PI / 2)\n\n                ctx.textBaseline = 'top'\n\n                ctx.fillText(this.data.yTitle,\n                    -(paddings.top + (canvas.height - paddings.top - paddings.bottom) / 2),\n                    8)\n\n                ctx.resetTransform()\n            }\n        }\n    }\n\n    calculateLabels() {\n        const paddings = this.renderer.paddings\n\n        this.labelsX = new Map<number, string>()\n        this.labelsY = new Map<number, string>()\n\n        let uniqueX = [...new Set(this.data.values.flatMap(s => s.values).flatMap(v => v.x))],\n            uniqueY = [...new Set(this.data.values.flatMap(s => s.values).flatMap(v => v.y as number))]\n\n        // getting rounded values\n\n        if (this.isVertical)\n            uniqueX = Helper.getRoundedValues(uniqueX as number[])\n        else\n            uniqueY = Helper.getRoundedValues(uniqueY).reverse()\n\n        //\n\n        const stepXOffset = this.isVertical ? 1 : 0,\n            stepYOffset = this.isVertical ? 0 : 1\n        const xOffset = this.isVertical ? 0 : .5,\n            yOffset = this.isVertical ? .5 : 0\n\n        const stepX = this.renderer.plot.width / (uniqueX.length - stepXOffset),\n            stepY = this.renderer.plot.height / (uniqueY.length - stepYOffset)\n\n        for (let i = 0; i < uniqueX.length; i++)\n            this.labelsX.set(\n                Math.round(paddings.left + stepX * (i + xOffset)),\n                Formatter.format(\n                    uniqueX[i],\n                    this.renderer.data.xType\n                )\n            )\n\n        for (let i = 0; i < uniqueY.length; i++)\n            this.labelsY.set(\n                paddings.top + stepY * (i + yOffset),\n                Formatter.format(\n                    uniqueY[i],\n                    PlotAxisType.Number\n                )\n            )\n\n        this.fixLeftPadding()\n    }\n\n    private fixLeftPadding() {\n        if (this.data.simple)\n            return\n\n        const max = Math.max(...[...this.labelsY.values()].map(v => Helper.stringWidth(v)))\n\n        if (this.renderer.paddings.left <= 80 && max > 54) {\n            this.renderer.paddings.left += max - 44\n\n            this.calculateLabels()\n        }\n    }\n}\n\nclass PlotBaseLabels {\n    constructor() {\n\n    }\n\n    calculate() {\n\n    }\n\n    render() {\n\n    }\n\n    private round() {\n\n    }\n}\n\nexport default PlotRenderer","export class Dates {\n    static minDate = new Date(2000, 1, 1)\n}","import Theme from 'Theme'\n\nabstract class TextStyles {\n    static title(context: CanvasRenderingContext2D) {\n        context.fillStyle = Theme.text\n        context.textAlign = 'center'\n        context.textBaseline = 'middle'\n        context.font = '20px sans-serif'\n    }\n\n    static regular(context: CanvasRenderingContext2D) {\n        context.fillStyle = Theme.text\n        context.textAlign = 'center'\n        context.textBaseline = 'middle'\n        context.font = '14px sans-serif'\n    }\n\n    static large(context: CanvasRenderingContext2D) {\n        context.fillStyle = Theme.text\n        context.textAlign = 'center'\n        context.textBaseline = 'middle'\n        context.font = '16px sans-serif'\n    }\n\n    static tooltip(context: CanvasRenderingContext2D) {\n        context.font = '14px sans-serif'\n        context.textAlign = 'start'\n        context.textBaseline = 'alphabetic'\n    }\n\n    static circularLabel(context: CanvasRenderingContext2D, isRight: boolean) {\n        context.textAlign = isRight ? 'start' : 'end'\n        context.textBaseline = 'alphabetic'\n        context.font = '14px sans-serif'\n    }\n}\n\nexport default TextStyles","import ChartSettings from 'types/ChartSettings'\nimport Animations from 'Animations'\nimport Tooltip from 'Tooltip'\nimport Dropdown from 'Dropdown'\nimport Chart from 'Chart'\nimport Canvas from 'helpers/Canvas'\nimport { Events, RenderState, Tag } from 'static/Enums'\nimport Theme from 'Theme'\n\nclass Renderable {\n    node: HTMLElement\n\n    canvas: HTMLCanvasElement\n\n    settings: ChartSettings\n\n    animations: Animations\n\n    tooltip: Tooltip\n\n    protected state: RenderState = RenderState.Init\n\n    protected canvasPosition: DOMRect\n\n    protected moveEvent: MouseEvent\n\n    protected clickEvent: MouseEvent | undefined\n\n    protected menuEvent: MouseEvent | undefined\n\n    protected contextMenu: Dropdown | undefined\n\n    constructor(chart: Chart) {\n        this.node = chart.node\n        this.settings = chart.settings\n        this.animations = new Animations()\n\n        this.canvas = document.createElement(Tag.Canvas)\n\n        this.node.append(this.canvas)\n\n        this.initAnimations()\n    }\n\n    render() {\n        const ctx = Canvas.getContext(this.canvas)\n\n        ctx.fillStyle = Theme.canvasBackground\n        ctx.fillRect(0, 0, this.canvas.width, this.canvas.height)\n    }\n\n    refresh() {\n        this.tooltip.refresh()\n        this.state = this.settings.disableInitAnimation ? RenderState.Idle : RenderState.Init\n    }\n\n    resetMouse() {\n        this.moveEvent = new MouseEvent(Events.MouseMove)\n        this.clickEvent = new MouseEvent(Events.Click)\n        this.menuEvent = undefined\n    }\n\n    initAnimations() {\n        this.tooltip = new Tooltip(this.canvas, this.settings)\n\n        this.canvasPosition = this.canvas.getBoundingClientRect()\n\n        if (this.state == RenderState.Init && !this.settings.disableInteractions) {\n            this.canvas.onmousemove = event => this.moveEvent = event\n            this.canvas.onclick = event => this.clickEvent = event\n            this.canvas.oncontextmenu = event => {\n                event.preventDefault()\n                this.contextMenu = undefined\n                if (this.menuEvent)\n                    this.menuEvent = undefined\n                else\n                    this.menuEvent = event\n            }\n            this.canvas.onmouseleave = () => this.moveEvent = new MouseEvent(Events.MouseMove)\n        }\n    }\n\n    destroy() {\n        this.canvas.remove()\n    }\n}\n\nexport default Renderable","import TreeData from 'types/data/TreeData'\nimport Renderer from 'types/base/Renderer'\nimport Sector from 'types/Sector'\nimport * as Helper from 'Helper'\nimport DropdownItem from 'types/DropdownItem'\nimport Dropdown from 'Dropdown'\nimport Chart from 'Chart'\nimport TextStyles from 'helpers/TextStyles'\nimport TooltipValue from 'types/TooltipValue'\nimport Export from 'Export'\nimport Decomposition from 'Decomposition'\nimport Modal from 'Modal'\nimport TextResources from 'static/TextResources'\nimport Canvas from 'helpers/Canvas'\nimport TreeCell from 'types/TreeCell'\nimport Formatter from 'helpers/Formatter'\nimport { AnimationType, Icon, PlotAxisType, RenderState } from 'static/Enums'\nimport * as Constants from 'static/constants/Index'\n\nclass TreeRenderer extends Renderer<TreeData> {\n    constructor(chart: Chart) {\n        super(chart)\n\n        this.settings.enableLegend = false\n    }\n\n    render() {\n        super.render()\n\n        if (this.data.values.filter(v => v.value > 0).length == 0) {\n            this.#drawEmpty()\n            requestAnimationFrame(this.render.bind(this))\n            return\n        }\n\n        const titleOffset = this.settings.title ? Constants.Values.titleOffset : 0\n\n        const maxWidth = this.canvas.width - this.data.padding * 2,\n            maxHeight = this.canvas.height - this.data.padding * 2 - titleOffset\n\n        let sum = this.data.values.sumByField(cur => cur.value),\n            totalSquare = maxWidth * maxHeight\n\n        let x = this.data.padding,\n            y = this.data.padding + titleOffset\n\n        let minX = this.data.padding,\n            minY = this.data.padding + titleOffset\n\n        let tooltipCell: TreeCell | undefined = undefined\n        let contextMenuData = undefined\n\n        const ctx = Canvas.getContext(this.canvas)\n\n        let isVertical = true\n        for (let i = 0; i < this.data.values.length; i++) {\n            const item = this.data.values[i]\n\n            const remainWidth = maxWidth - (x - this.data.padding),\n                remainHeight = maxHeight - (y - this.data.padding - titleOffset)\n\n            let cells: TreeCell[] = [\n                {\n                    color: item.color,\n                    label: item.label,\n                    s: item.value / sum * totalSquare,\n                    value: item.value,\n                    id: item.id,\n                    x: x,\n                    y: y\n                } as TreeCell\n            ]\n\n            if (i + 1 <= this.data.values.length - 1) {\n                const next = this.data.values[i + 1]\n\n                cells.push({\n                    color: next.color,\n                    label: next.label,\n                    s: next.value / sum * totalSquare,\n                    value: next.value,\n                    id: next.id,\n                    x: x,\n                    y: y\n                } as TreeCell)\n\n                i++\n            }\n\n            const isSingle = cells.length == 1,\n                isLast = i == this.data.values.length - 1\n\n            if (isVertical) {\n                for (let j = 1; j <= remainWidth + i * i; j++) {\n                    const w = remainWidth - j,\n                        h1 = cells[0].s / w,\n                        h2 = isSingle ? 0 : cells[1].s / w\n\n                    if (h1 + h2 >= remainHeight) {\n                        cells[0].w = Math.floor(w)\n                        cells[0].h = Math.floor(h1)\n\n                        if (!isSingle) {\n                            cells[1].w = Math.floor(w)\n                            cells[1].h = remainHeight - cells[0].h\n\n                            cells[1].y += cells[0].h\n                        }\n\n                        break\n                    }\n                }\n            } else {\n                for (let j = 1; j <= remainHeight + i * i; j++) {\n                    const h = remainHeight - j,\n                        w1 = cells[0].s / h,\n                        w2 = isSingle ? 0 : cells[1].s / h\n\n                    if (w1 + w2 >= remainWidth) {\n                        cells[0].h = Math.floor(h)\n                        cells[0].w = Math.floor(w1)\n\n                        if (!isSingle) {\n                            cells[1].h = Math.floor(h)\n                            cells[1].w = remainWidth - cells[0].w\n\n                            cells[1].x += cells[0].w\n                        }\n\n                        break\n                    }\n                }\n            }\n\n            for (const cell of cells) {\n                if (isLast) {\n                    if (isVertical) {\n                        cell.w = remainWidth\n                        if (isSingle)\n                            cell.h = remainHeight\n                    } else {\n                        cell.h = remainHeight\n                        if (isSingle)\n                            cell.w = remainWidth\n                    }\n                }\n\n                ctx.beginPath()\n\n                ctx.fillStyle = cell.color\n\n                const cellInit = this.state != RenderState.Init\n                                 && !this.animations.contains(cell.id, AnimationType.Init)\n\n                const cellIndex = i + cells.indexOf(cell) + (isLast && isSingle ? 1 : 0),\n                    duration = 260\n\n                const getPrev = () => {\n                    let acc = 0\n                    for (let i = 0; i < cellIndex; i++)\n                        acc += duration - duration * (i / this.data.values.length) / Math.E\n\n                    return acc\n                }\n\n                const initAnimationDuration = duration - duration * cellIndex / (this.data.values.length + 1)\n\n                if (!cellInit) {\n                    this.animations.handle(cell.id,\n                        AnimationType.Init,\n                        {\n                            duration: getPrev(),\n                            continuous: true,\n                            body: transition => {\n                                if (transition * getPrev() - getPrev() + initAnimationDuration < 0)\n                                    return ctx.fillStyle += '00'\n\n                                transition = (transition * getPrev() - getPrev() + initAnimationDuration) / initAnimationDuration\n\n                                const center = {\n                                    x: cell.x + cell.w / 2,\n                                    y: cell.y + cell.h / 2\n                                }\n\n                                const minSize = .7,\n                                    rest = 1 - minSize\n\n                                ctx.translate(center.x - center.x * (minSize + transition * rest),\n                                    center.y - center.y * (minSize + transition * rest))\n                                ctx.scale((minSize + transition * rest), (minSize + transition * rest))\n\n                                let opacity = Math.round(255 * transition).toString(16)\n\n                                if (opacity.length < 2)\n                                    opacity = 0 + opacity\n\n                                ctx.fillStyle = cell.color + opacity\n                            }\n                        })\n                } else {\n                    const translate = (transition: number, event: AnimationType) => {\n                        const center = {\n                            x: cell.x + cell.w / 2,\n                            y: cell.y + cell.h / 2\n                        }\n\n                        const margin = 12,\n                            minSize = cell.w > cell.h\n                                      ? 1 - margin / cell.w\n                                      : 1 - margin / cell.h,\n                            rest = 1 - minSize\n\n                        ctx.translate(center.x - center.x * (minSize + transition * rest),\n                            center.y - center.y * (minSize + transition * rest))\n                        ctx.scale(minSize + transition * rest, minSize + transition * rest)\n\n                        this.animations.reload(cell.id, event)\n                    }\n\n                    if (this.#isInCell(cell)\n                        && !tooltipCell) {\n                        tooltipCell = cell\n                        contextMenuData = cell.data\n\n                        this.animations.handle(cell.id,\n                            AnimationType.MouseOver,\n                            {\n                                duration: Constants.Animations.tree,\n                                backward: true,\n                                body: transition => {\n                                    translate(transition, AnimationType.MouseLeave)\n                                }\n                            })\n                    } else {\n                        this.animations.handle(cell.id,\n                            AnimationType.MouseLeave,\n                            {\n                                timer: Constants.Dates.minDate,\n                                duration: Constants.Animations.tree,\n                                body: transition => {\n                                    translate(transition, AnimationType.MouseOver)\n                                }\n                            })\n                    }\n                }\n\n                const gap = 4\n\n                ctx.roundRect(x + gap, y + gap, cell.w - gap, cell.h - gap, gap * 2)\n                ctx.fill()\n\n                if (cell.label\n                    && Helper.stringWidth(cell.label) < cell.w - gap\n                    && cell.h - gap > 16\n                    && !this.animations.contains(cell.id, AnimationType.Init)) {\n                    ctx.beginPath()\n                    TextStyles.large(ctx)\n                    ctx.fillStyle = !Helper.isColorVisible(cell.color, '#ffffff')\n                                    ? '#000000'\n                                    : '#ffffff'\n                    ctx.fillText(cell.label,\n                        x + 2 + cell.w / 2,\n                        y + 2 + cell.h / 2)\n                }\n\n                ctx.resetTransform()\n\n                if (isVertical)\n                    y += cell.h\n                else\n                    x += cell.w\n\n                totalSquare -= cell.w * cell.h\n                sum -= cell.value\n            }\n\n            if (isVertical) {\n                x += cells[0].w\n                y = minY\n            } else {\n                y += cells[0].h\n                x = minX\n            }\n\n            minX = x\n            minY = y\n\n            isVertical = !isVertical\n        }\n\n        this.tooltip.render(\n            !!tooltipCell && !this.dropdown?.isActive,\n            this.moveEvent,\n            [\n                new TooltipValue(`${ tooltipCell?.label }: ${ Formatter.format(tooltipCell?.value, PlotAxisType.Number, this.settings.valuePostfix) }`)\n            ],\n            this.data.values.find(v => v.id == tooltipCell?.id)\n        )\n\n        if (!this.isDestroy)\n            requestAnimationFrame(this.render.bind(this))\n\n        this.state = RenderState.Idle\n\n        super.renderDropdown()\n\n        if (tooltipCell || this.contextMenu)\n            this.renderContextMenu(contextMenuData)\n        else\n            this.menuEvent = undefined\n    }\n\n    #isInCell(cell: TreeCell) {\n        if (!this.moveEvent || !cell)\n            return false\n\n        const mouse = this.getMousePosition(this.moveEvent)\n\n        return !(this.dropdown?.isActive ?? false)\n               && cell.x <= mouse.x && mouse.x <= cell.x + cell.w\n               && cell.y <= mouse.y && mouse.y <= cell.y + cell.h\n    }\n\n    #drawEmpty() {\n        const ctx = Canvas.getContext(this.canvas)\n\n        TextStyles.regular(ctx)\n        ctx.fillText(TextResources.treeMapIsEmpty,\n            this.canvas.width / 2,\n            this.canvas.height / 2)\n    }\n\n    refresh() {\n        super.refresh()\n    }\n\n    resize() {\n        super.resize()\n\n        this.initAnimations()\n        this.animations.clear()\n    }\n\n    prepareSettings() {\n        super.prepareSettings()\n\n        this.data.values = this.data.values.map(v => new Sector(v))\n\n        this.data.values = this.data.values.filter(v => v.value > 0)\n\n        this.data.values.sort((a, b) => (b.value ?? 0) - (a.value ?? 0))\n\n        this.calculateColors(true)\n\n        for (let item of this.data.values) {\n            item.disabled = !item.value\n            item.value ??= 0\n        }\n    }\n\n    initDropdown() {\n        super.initDropdown()\n\n        this.dropdown = new Dropdown(this.canvas,\n            {\n                x: -10,\n                y: 10,\n                icon: Icon.ThreeLines,\n                items: [\n                    {\n                        text: TextResources.exportCSV,\n                        action: () => {\n                            Export.asCsv(Decomposition.toTable(TreeData.getRows(this.data)), this.settings.title)\n                        }\n                    },\n                    {\n                        isDivider: true\n                    } as DropdownItem,\n                    {\n                        text: TextResources.decomposeToTable,\n                        action: () => {\n                            new Modal(Decomposition.toTable(TreeData.getRows(this.data)),\n                                undefined,\n                                this.settings.title ?? TextResources.dataAsTable)\n                                .open()\n                        }\n                    }\n                ]\n            })\n    }\n}\n\nexport default TreeRenderer","import TableData from 'types/TableData'\nimport * as Helper from 'Helper'\nimport Value from 'types/base/Value'\nimport ChartSettings from 'types/ChartSettings'\nimport Formatter from 'helpers/Formatter'\nimport Styles from 'static/constants/Styles'\nimport { Tag } from 'static/Enums'\n\nclass Decomposition {\n    static toTable(values: TableData) {\n        let table = document.createElement(Tag.Div)\n\n        table.classList.add('o-table')\n\n        let totals = new Map<string, number>()\n        let rows = '',\n            headers = '',\n            index = 0\n\n        let valuesMap = new Map<string, Map<string, any>>()\n\n        for (const tableValue of values.values) {\n            let allColumns = new Map<string, any>()\n\n            for (const header of values.headers)\n                allColumns.set(header.value, 0)\n\n            for (const [key, value] of tableValue.values)\n                allColumns.set(key, value)\n\n            let indexSpaces = ''\n            for (let i = 0; i < index; i++)\n                indexSpaces += ' '\n\n            valuesMap.set(tableValue.name + indexSpaces, allColumns)\n\n            index++\n        }\n\n        for (const tableHeader of values.headers)\n            headers += `\n                <div>\n                    ${ tableHeader.display }\n                </div>\n            `\n\n        for (const [key, value] of valuesMap) {\n            let columns = ''\n\n            for (const [vKey, vValue] of value) {\n                columns += `\n                    <div>\n                        ${ vValue == undefined ? '' : Formatter.number(vValue) }\n                    </div>\n                `\n\n                if (totals.has(vKey)) {\n                    let totalValue = +(totals.get(vKey) ?? 0)\n                    totals.set(vKey, totalValue + +vValue)\n                } else {\n                    totals.set(vKey, vValue)\n                }\n            }\n\n            rows += `\n                <div class=\"o-table-row\">\n                    <div>\n                        ${ key.trim() }\n                    </div>\n                    \n                    ${ columns } \n                </div>\n            `\n        }\n\n        let totalColumns = ''\n\n        for (const [, value] of totals)\n            totalColumns += `\n                <div>\n                    ${ value == undefined ? '' : Formatter.number(value) }\n                </div>\n            `\n\n        table.innerHTML = `\n            <div class=\"o-table-header\">\n                <div></div>\n\n                ${ headers }\n            </div>\n        \n            <div class=\"o-table-body\">\n                ${ rows }\n            </div>\n            \n            <div class=\"o-table-footer\">\n                <div></div>\n\n                ${ totalColumns }\n            </div>\n        `\n\n        return table\n    }\n\n    static toChart<T extends Value>(settings: ChartSettings, values: T[]) {\n        let container = document.createElement(Tag.Div),\n            div = document.createElement(Tag.Div),\n            script = document.createElement(Tag.Script),\n            id = Helper.guid()\n\n        container.style.display = Styles.Display.Flex\n        container.style.height = '100%'\n\n        div.id = id\n        div.style.flexGrow = '1'\n\n        let cloneSettings = JSON.parse(JSON.stringify(settings)) as ChartSettings\n\n        if (cloneSettings.title)\n            cloneSettings.title = cloneSettings.title + ' (Other)'\n        cloneSettings.data.values = values\n        cloneSettings.minWidth = undefined\n        cloneSettings.minHeight = undefined\n\n        script.innerHTML = `\n            new OCharts.chart(document.getElementById('${ id }'), ${ JSON.stringify(cloneSettings) })\n                .render()\n        `\n\n        container.append(div, script)\n\n        return container\n    }\n}\n\nexport default Decomposition","export { Animations } from './Animations'\nexport { Dates } from './Dates'\nexport { Values } from './Values'\nexport { Plot } from './Plot'","import Renderer from 'types/base/Renderer'\nimport GaugeData from 'types/data/GaugeData'\nimport * as Helper from 'Helper'\nimport Sector from 'types/Sector'\nimport Dropdown from 'Dropdown'\nimport Point from 'types/Point'\nimport Chart from 'Chart'\nimport Theme from 'Theme'\nimport TextStyles from 'helpers/TextStyles'\nimport TooltipValue from 'types/TooltipValue'\nimport Export from 'Export'\nimport Formatter from 'helpers/Formatter'\nimport Canvas from 'helpers/Canvas'\nimport TextResources from 'static/TextResources'\nimport { AnimationType, Icon, PlotAxisType, RenderState } from 'static/Enums'\n\nclass GaugeRenderer extends Renderer<GaugeData> {\n    #radius: number\n\n    #center: Point\n\n    constructor(chart: Chart) {\n        super(chart)\n\n        this.settings.enableLegend = false\n    }\n\n    render() {\n        super.render()\n\n        this.#draw()\n\n        const value = this.data.values[0]\n        this.tooltip.render(\n            this.#isInsideSector(this.moveEvent, value) && !this.dropdown?.isActive,\n            this.moveEvent,\n            [\n                new TooltipValue(`${ value?.label }: ${ Formatter.format(value?.current, PlotAxisType.Number, this.settings.valuePostfix) }`)\n            ],\n            value\n        )\n\n        if (!this.isDestroy)\n            requestAnimationFrame(this.render.bind(this))\n\n        this.state = RenderState.Idle\n\n        super.renderDropdown()\n    }\n\n    #draw() {\n        const ctx = Canvas.getContext(this.canvas)\n\n        const value = this.data.values[0] ?? { id: Helper.guid() }\n\n        if (this.state == RenderState.Init || this.animations.contains(value.id, AnimationType.Init))\n            this.animations.handle(value.id,\n                AnimationType.Init,\n                {\n                    duration: 450,\n                    continuous: true,\n                    body: transition => {\n                        value.current = value.value * transition\n                    }\n                })\n\n        ctx.beginPath()\n\n        ctx.strokeStyle = value.color\n        ctx.lineCap = 'round'\n        ctx.lineWidth = 40\n\n        const piece = value.current / this.data.max,\n            angle = (isNaN(piece) ? 1 : piece) * Math.PI\n\n        if (value.value) {\n            ctx.arc(this.#center.x, this.#center.y, this.#radius, Math.PI, angle - Math.PI)\n            ctx.stroke()\n        }\n\n        ctx.beginPath()\n\n        ctx.lineWidth = 1\n        ctx.lineCap = 'square'\n\n        let localAccumulator = 0,\n            localAngle = Math.PI\n\n        while (localAngle >= 0) {\n            let currentAngle = localAngle - Math.PI / 10 > 0\n                               ? Math.PI / 10\n                               : localAngle\n\n            const getPoint = (offset: number) => {\n                return {\n                    x: this.#center.x + (this.#radius + offset) * Math.cos(Math.PI + localAccumulator),\n                    y: this.#center.y + (this.#radius + offset) * Math.sin(Math.PI + localAccumulator)\n                }\n            }\n\n            let point1 = getPoint(50),\n                point2 = getPoint(90),\n                point3 = getPoint(115)\n\n            const opacity = Math.PI - localAngle > angle ? '66' : 'ff'\n\n            ctx.moveTo(point1.x, point1.y)\n            ctx.lineTo(point2.x, point2.y)\n            ctx.strokeStyle = Theme.text + opacity\n            ctx.stroke()\n\n            TextStyles.regular(ctx)\n            ctx.fillStyle = Theme.text + opacity\n            ctx.fillText(Formatter.number(this.data.max - localAngle / Math.PI * this.data.max), point3.x, point3.y)\n\n            localAccumulator += currentAngle\n\n            localAngle -= Math.PI / 10\n        }\n    }\n\n    #isInsideSector(event: MouseEvent, value: Sector): boolean {\n        if (!event)\n            return false\n\n        const isAngle = (point: Point) => {\n            let a = Math.atan2(point.y - this.#center.y, point.x - this.#center.x)\n            if (a < 0)\n                a += Math.PI * 2\n\n            const piece = value.current / this.data.max,\n                angle = (isNaN(piece) ? 1 : piece) * Math.PI\n\n            return a > Math.PI && Math.PI + angle >= a\n        }\n\n        const isWithinRadius = (v: Point) => {\n            const outerRadius = this.#radius + 20,\n                innerRadius = this.#radius - 20\n\n            return v.x * v.x + v.y * v.y <= outerRadius * outerRadius\n                   && v.x * v.x + v.y * v.y >= innerRadius * innerRadius\n        }\n\n        const point = this.getMousePosition(event),\n            inner = {\n                x: point.x - this.#center.x,\n                y: point.y - this.#center.y\n            }\n\n        return !(this.dropdown?.isActive ?? false)\n               && isAngle(point)\n               && isWithinRadius(inner)\n    }\n\n    #calculateSizes() {\n        const longSide = this.canvas.width < this.canvas.height / 2\n                         ? this.canvas.height / 2\n                         : this.canvas.width\n\n        this.#radius = longSide / 2 - 200\n\n        this.#center = {\n            x: this.canvas.width / 2,\n            y: this.canvas.height - this.#radius / 5\n        }\n    }\n\n    refresh() {\n        super.refresh()\n    }\n\n    resize() {\n        super.resize()\n\n        this.initAnimations()\n        this.#calculateSizes()\n    }\n\n    prepareSettings() {\n        super.prepareSettings()\n\n        for (let item of this.data.values) {\n            item.disabled = !item.value\n            item.value ??= 0\n        }\n\n        if (this.data.values.length > 0 && this.data.values[0].value > this.data.max)\n            this.data.values[0].value = this.data.max\n    }\n\n    initDropdown() {\n        super.initDropdown()\n\n        this.dropdown = new Dropdown(this.canvas,\n            {\n                x: -10,\n                y: 10,\n                icon: Icon.ThreeLines,\n                items: [\n                    {\n                        text: TextResources.exportPNG,\n                        action: () => {\n                            Export.asPng(this.canvas, this.settings.title)\n                        }\n                    }\n                ]\n            })\n    }\n}\n\nexport default GaugeRenderer","import Theme from 'Theme'\nimport * as Helper from 'Helper'\nimport Canvas from 'helpers/Canvas'\nimport { Icon, Tag } from 'static/Enums'\n\nclass Export {\n    static asPng(canvas: HTMLCanvasElement, title: string) {\n        requestAnimationFrame(() => {\n            const ctx = Canvas.getContext(canvas)\n\n            let width = Helper.stringWidth(Icon.ThreeLines) + 20,\n                height = 64\n\n            ctx.fillStyle = Theme.canvasBackground\n            ctx.fillRect(canvas.width - width, 0, width, height)\n\n            let leftEmpty = 0,\n                rightEmpty = 0\n\n            const imageData = new Uint32Array(ctx.getImageData(0, 0, canvas.width, canvas.height).data.buffer)\n\n            let isBusy = false\n\n            for (let i = 0; i < canvas.width; i++) {\n                for (let j = 0; j < canvas.height; j++) {\n                    if (Canvas.isPixelBusy(imageData[i + j * canvas.width])) {\n                        isBusy = true\n                        break\n                    }\n                }\n\n                if (isBusy)\n                    break\n\n                leftEmpty++\n            }\n\n            isBusy = false\n\n            for (let i = canvas.width; i >= 0; i--) {\n                for (let j = 0; j < canvas.height; j++) {\n                    if (Canvas.isPixelBusy(imageData[i + j * canvas.width])) {\n                        isBusy = true\n                        break\n                    }\n                }\n\n                if (isBusy)\n                    break\n\n                rightEmpty++\n            }\n\n            if (leftEmpty > 4)\n                leftEmpty -= 4\n            if (rightEmpty > 4)\n                rightEmpty -= 4\n\n            if (leftEmpty > rightEmpty)\n                leftEmpty = rightEmpty\n            if (rightEmpty > leftEmpty)\n                rightEmpty = leftEmpty\n\n            let destinationCanvas = document.createElement(Tag.Canvas)\n            destinationCanvas.width = canvas.width - leftEmpty - rightEmpty\n            destinationCanvas.height = canvas.height\n\n            const destCtx = Canvas.getContext(destinationCanvas)\n\n            destCtx.fillStyle = Theme.background\n            destCtx.fillRect(0, 0, canvas.width, canvas.height)\n\n            destCtx.drawImage(canvas, -leftEmpty, 0)\n\n            Export.saveAs((title ?? 'chart') + '.png',\n                destinationCanvas.toDataURL('image/png'))\n        })\n    }\n\n    static asCsv(table: HTMLElement, title: string) {\n        let rows = table.querySelectorAll('tr'),\n            csv = []\n\n        for (let i = 0; i < rows.length; i++) {\n            let row = [],\n                cols = rows[i].querySelectorAll('td, th')\n\n            for (let j = 0; j < cols.length; j++) {\n                let data = cols[j].innerHTML\n                                  .replace(/(\\r\\n|\\n|\\r)/gm, '')\n                                  .replace(/(\\s\\s)/gm, ' ')\n\n                data = data.replace(/\"/g, '\"\"')\n                row.push('\"' + data + '\"')\n            }\n\n            csv.push(row.join(','))\n        }\n\n        Export.saveAs((title ?? 'table') + '.csv',\n            csv.join('\\n'),\n            'data:text/csv;charset=utf-8,' + encodeURIComponent(csv.join('\\n')),\n            true)\n    }\n\n    static saveAs(name: string, dataURL: string, href?: string | undefined, isText?: boolean) {\n        if (window.showSaveFilePicker != undefined) {\n            const accept = isText\n                           ? { 'text/csv': '.csv' } as FilePickerAcceptType\n                           : { 'image/*': '.png' } as FilePickerAcceptType\n\n            const options = {\n                suggestedName: name,\n                types: [\n                    {\n                        accept: accept\n                    }\n                ],\n                excludeAcceptAllOption: true\n            } as SaveFilePickerOptions\n\n            function toBlob(dataURI: string) {\n                const byteString = atob(dataURI.split(',')[1]),\n                    mimeString = dataURI.split(',')[0]\n                        .split(':')[1]\n                        .split(';')[0],\n                    buffer = new ArrayBuffer(byteString.length),\n                    imageArray = new Uint8Array(buffer)\n\n                for (let i = 0; i < byteString.length; i++)\n                    imageArray[i] = byteString.charCodeAt(i)\n\n                return new Blob([buffer], { type: mimeString })\n            }\n\n            window.showSaveFilePicker(options)\n                  .then(fileHandle => {\n                      fileHandle.createWritable()\n                                .then(writableStream => {\n                                    writableStream.write(isText ? dataURL : toBlob(dataURL))\n                                                  .then(() => writableStream.close())\n                                })\n                  })\n        } else {\n            let download = document.createElement(Tag.A)\n            download.href = href ?? dataURL\n            download.download = name\n            download.click()\n        }\n    }\n}\n\nexport default Export","import { PlotAxisType } from 'static/Enums'\n\nabstract class Formatter {\n    static number = (value: number | undefined) =>\n        value?.toLocaleString(undefined, {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        }) ?? ''\n\n    static date = (value: Date | undefined) =>\n        value?.toLocaleDateString() ?? ''\n\n    static text = (value: string | undefined) =>\n        value ?? ''\n\n    static format(value: any | undefined, type: PlotAxisType, postfix?: string | undefined) {\n        let result = value\n\n        switch (type) {\n            case PlotAxisType.Number:\n                result = Formatter.number(+value)\n                break\n\n            case PlotAxisType.Date:\n                result = Formatter.date(new Date(value))\n                break\n\n            case PlotAxisType.Text:\n                result = Formatter.text(value)\n                break\n        }\n\n        return result + (postfix ?? '')\n    }\n\n}\n\nexport default Formatter","import TextStyles from 'helpers/TextStyles'\nimport Theme from 'Theme'\nimport Animations from 'Animations'\nimport * as Helper from 'Helper'\nimport ButtonOptions from 'types/ButtonOptions'\nimport Canvas from 'helpers/Canvas'\nimport { AnimationType } from 'static/Enums'\nimport * as Constants from 'static/constants/Index'\nimport Styles from 'static/constants/Styles'\n\nclass Button {\n    #canvas: HTMLCanvasElement\n\n    #options: ButtonOptions\n\n    #canvasPosition: DOMRect\n\n    animations: Animations\n\n    #isInit: boolean\n\n    #position: DOMRect\n\n    constructor(canvas: HTMLCanvasElement, options: ButtonOptions) {\n        this.#canvas = canvas\n        this.#options = options\n\n        this.animations = new Animations()\n\n        this.#initAnimations()\n    }\n\n    render(moveEvent: MouseEvent, clickEvent: MouseEvent | undefined) {\n        if (!this.#isInit)\n            this.#initAnimations()\n\n        const ctx = Canvas.getContext(this.#canvas)\n\n        ctx.beginPath()\n\n        const translate = (transition: number, event: AnimationType) => {\n            this.animations.reload('animation-button', event)\n\n            ctx.fillStyle = Helper.adjustColor(Theme.canvasBackground, -Math.round(transition * 25))\n        }\n\n        if (this.#isOnButton(moveEvent)) {\n            if (clickEvent && this.#isOnButton(clickEvent)) {\n                this.#options.action()\n                clickEvent = undefined\n            }\n\n            this.animations.handle('animation-button',\n                AnimationType.MouseOver,\n                {\n                    duration: 300,\n                    body: transition => {\n                        translate(transition, AnimationType.MouseLeave)\n                    }\n                })\n        } else {\n            this.animations.handle('animation-button',\n                AnimationType.MouseLeave,\n                {\n                    timer: Constants.Dates.minDate,\n                    duration: 300,\n                    backward: true,\n                    body: transition => {\n                        translate(transition, AnimationType.MouseOver)\n                    }\n                })\n        }\n\n        ctx.roundRect(this.#position.x, this.#position.y, this.#position.width, this.#position.height, 4)\n        ctx.fill()\n\n        TextStyles.regular(ctx)\n        ctx.fillText(this.#options.text,\n            this.#position.x + this.#position.width / 2,\n            this.#position.y + this.#position.height / 2)\n\n        this.#isInit = true\n\n        return clickEvent\n    }\n\n    resize() {\n        this.#initAnimations()\n    }\n\n    #initAnimations() {\n        this.#canvasPosition = this.#canvas.getBoundingClientRect()\n\n        const width = Helper.stringWidth(this.#options.text) + 12,\n            height = 20\n\n        this.#position = <DOMRect>{\n            x: this.#options.x + width > this.#canvas.width\n               ? this.#canvas.width - width\n               : this.#options.x < 0\n                 ? this.#canvas.width + this.#options.x - width\n                 : this.#options.x,\n            y: this.#options.y + height > this.#canvas.height\n               ? this.#canvas.height - height\n               : this.#options.y < 0\n                 ? this.#canvas.height + this.#options.y - height\n                 : this.#options.y,\n            width: width,\n            height: height\n        }\n    }\n\n    #isOnButton(event: MouseEvent): boolean {\n        if (!event)\n            return false\n\n        let trueX = event.offsetX,\n            trueY = event.offsetY\n\n        return trueX >= this.#position.x && trueX <= this.#position.x + this.#position.width\n               && trueY >= this.#position.y && trueY <= this.#position.y + this.#position.height\n    }\n}\n\nexport default Button","import Chart from 'Chart'\nimport ChartSettings from 'types/ChartSettings'\n\nfunction OCharts() {\n}\n\nOCharts.chart = function(context: HTMLElement, settings: ChartSettings) {\n    return new Chart(context, settings)\n}\n\n// @ts-ignore\nwindow.OCharts = OCharts","export enum AnimationType {\n    None,\n\n    MouseOver,\n\n    MouseLeave,\n\n    Init,\n\n    Click,\n\n    AnotherItemOver,\n\n    AnotherItemLeave\n}\n\nexport enum Attribute {\n    Name = 'name'\n}\n\nexport enum ChartType {\n    Plot,\n\n    Circular,\n\n    Gauge,\n\n    TreeMap\n}\n\nexport enum ErrorType {\n    NullContext = 'Can\\'t find context',\n\n    ElementNotExist = 'Element does not exist',\n\n    MaxCallsReach = 'Max calls reach'\n}\n\nexport enum Events {\n    VisibilityChanged = 'visibilitychange',\n\n    Blur = 'blur',\n\n    MouseMove = 'mousemove',\n\n    Click = 'click',\n\n    Change = 'change',\n\n    ContextMenu = 'contextmenu'\n}\n\nexport enum LegendPlace {\n    Bottom,\n\n    Left,\n\n    Top,\n\n    Right\n}\n\nexport enum LineType {\n    Solid,\n\n    Dash,\n\n    Dotted\n}\n\nexport enum PlotAxisType {\n    Number,\n\n    Date,\n\n    Text\n}\n\nexport enum PlotType {\n    Line,\n\n    AttentionLine,\n\n    Column,\n\n    Bar,\n\n    StackingColumn\n}\n\nexport enum Tag {\n    Canvas = 'canvas',\n\n    A = 'a',\n\n    Div = 'div',\n\n    Dialog = 'dialog',\n\n    Table = 'table',\n\n    Script = 'script',\n\n    Button = 'button',\n\n    Span = 'span'\n}\n\nexport enum RenderState {\n    Idle,\n\n    Init\n}\n\nexport enum Icon {\n    ThreeLines = '',\n\n    Close = ''\n}\n\nexport enum DrawPointType {\n    Move = 'move',\n\n    Line = 'line',\n\n    QuadraticCurve = 'quadratic-curve',\n\n    ArcTo = 'arc-to',\n\n    SemiCircle = 'semi-circle'\n}","import Errors from 'helpers/Errors'\nimport { ErrorType, Icon, Tag } from 'static/Enums'\n\nclass Modal {\n    modal: HTMLDialogElement | undefined\n\n    #content: HTMLDivElement | undefined\n\n    constructor(content?: HTMLElement, size?: DOMRect, title?: string) {\n        this.modal = document.createElement(Tag.Dialog)\n\n        this.modal.classList.add(ModalClasses.modal)\n\n        if (size) {\n            this.modal.style.width = `${ size.width }px`\n            this.modal.style.height = `${ size.height }px`\n        }\n\n        this.modal.oncancel = () => this.close()\n\n        document.body.appendChild(this.modal)\n\n        this.#setHeader(title)\n\n        this.#setContent(content)\n    }\n\n    open() {\n        Errors.throwIsUndefined(this.modal, ErrorType.ElementNotExist)\n\n        this.modal!.showModal()\n    }\n\n    close() {\n        Errors.throwIsUndefined(this.modal, ErrorType.ElementNotExist)\n\n        this.modal!.close()\n\n        this.modal!.remove()\n\n        this.modal = undefined\n    }\n\n    #setHeader(title: string | undefined) {\n        Errors.throwIsUndefined(this.modal, ErrorType.ElementNotExist)\n\n        let titleSpan = document.createElement(Tag.Span)\n\n        titleSpan.classList.add(ModalClasses.title)\n        titleSpan.innerHTML = title ?? ''\n\n        let closeButton = document.createElement(Tag.Button)\n\n        closeButton.classList.add(ModalClasses.close)\n        closeButton.innerHTML = Icon.Close\n\n        let header = document.createElement(Tag.Div)\n\n        header.classList.add(ModalClasses.header)\n\n        header.appendChild(titleSpan)\n        header.appendChild(closeButton)\n\n        this.modal!.appendChild(header)\n\n        closeButton.onclick = () => this.close()\n    }\n\n    #setContent(content: HTMLElement | undefined) {\n        if (this.#content == undefined) {\n            this.#content = document.createElement(Tag.Div)\n\n            this.#content.classList.add(ModalClasses.content)\n\n            this.modal?.appendChild(this.#content)\n        }\n\n        if (content != undefined)\n            this.#content.appendChild(content)\n    }\n}\n\nexport default Modal\n\nclass ModalClasses {\n    static modal = 'o-modal'\n\n    static title = 'o-modal-title'\n\n    static close = 'o-modal-close'\n\n    static header = 'o-modal-header'\n\n    static content = 'o-modal-content'\n}","import Value from 'types/base/Value'\nimport PlotPoint from 'types/PlotPoint'\nimport { LineType, PlotAxisType, PlotType } from 'static/Enums'\nimport * as Helper from '../Helper'\n\nclass PlotSeries extends Value {\n    values: PlotPoint[]\n\n    type: PlotType\n\n    width: number\n\n    lineType: LineType = LineType.Solid\n\n    constructor(obj: object) {\n        super()\n\n        Object.assign(this, obj)\n    }\n\n    toggle(transition: number) {\n        super.toggle(transition)\n    }\n\n    checkCondition(): boolean {\n        super.checkCondition()\n\n        return true\n    }\n\n    reset() {\n        super.reset()\n    }\n\n    // TODO: better name ?\n    inverse() {\n        this.values = this.values.map(v => new PlotPoint(v))\n\n        for (const value of this.values)\n            value.inverse()\n\n        this.values.sort((a, b) => b.x > a.x ? 1 : -1)\n    }\n\n    // TODO: better name ?\n    normalize(xType: PlotAxisType) {\n        this.disabled = !this.values\n        this.type ??= PlotType.Line\n\n        for (let value of this.values) {\n            value.id = Helper.guid()\n\n            if (xType == PlotAxisType.Date) {\n                if (Helper.isISOString(value.x as string))\n                    value.x = new Date(value.x)\n                else\n                    console.warn(`${ value.x } is not a date in ISO format.`)\n            }\n        }\n    }\n}\n\nexport default PlotSeries","class DropdownItem {\n    isDivider?: boolean | undefined\n\n    condition?: (arg?: any) => boolean\n\n    id?: string | undefined\n\n    text: string\n\n    action: (arg?: any) => void\n\n    static divider() {\n        return {\n            isDivider: true\n        } as DropdownItem\n    }\n\n    static button(text: string, action: (arg?: any) => void) {\n        return {\n            text: text,\n            action: action\n        } as DropdownItem\n    }\n}\n\nexport default DropdownItem","import Value from 'types/base/Value'\nimport Renderable from 'types/base/Renderable'\nimport * as Helper from 'Helper'\nimport Sector from 'types/Sector'\nimport Point from 'types/Point'\nimport Theme from 'Theme'\nimport Chart from 'Chart'\nimport TextStyles from 'helpers/TextStyles'\nimport Canvas from 'helpers/Canvas'\nimport Button from 'Button'\nimport TextResources from 'static/TextResources'\nimport * as Constants from 'static/constants/Index'\nimport Styles from 'static/constants/Styles'\nimport { AnimationType, Events, LegendPlace, RenderState } from 'static/Enums'\nimport ChartSettings from './types/ChartSettings'\n\nclass Legend extends Renderable {\n    #button: Button\n\n    #offset: Point\n\n    #chart: Chart\n\n    #hoverCount: number\n\n    isDestroy: boolean = false\n\n    constructor(chart: Chart) {\n        super(chart)\n\n        this.#chart = chart\n\n        this.prepareSettings()\n    }\n\n    render() {\n        super.render()\n\n        const ctx = Canvas.getContext(this.canvas)\n\n        let nextPoint = { x: 20, y: 21 }\n\n        TextStyles.regular(ctx)\n        ctx.textAlign = 'start'\n        ctx.textBaseline = 'alphabetic'\n\n        ctx.translate(this.#offset.x, this.#offset.y)\n\n        this.#hoverCount = 0\n\n        for (const value of this.settings.data.values.filter(v => !v.hideInLegend))\n            nextPoint = this.#draw(value, nextPoint.x, nextPoint.y)\n\n        ctx.translate(-this.#offset.x, -this.#offset.y)\n\n        if (!this.isDestroy)\n            requestAnimationFrame(this.render.bind(this))\n\n        this.clickEvent = this.#button?.render(this.moveEvent, this.clickEvent)\n\n        this.state = RenderState.Idle\n    }\n\n    #draw(value: Value, x: number, y: number): Point {\n        const ctx = Canvas.getContext(this.canvas)\n\n        const textWidth = Helper.stringWidth(value.label),\n            circleRadius = 6\n\n        if (x + 48 + textWidth >= this.canvas.width - 40 - this.#offset.x) {\n            x = 20\n            y += 26\n        }\n\n        let rectX = x - circleRadius - circleRadius,\n            rectY = y - circleRadius / 2 - circleRadius,\n            rectW = circleRadius + circleRadius + textWidth + 18,\n            rectH = 20\n\n        const isHover = (event: MouseEvent | undefined) => {\n            if (!event)\n                return false\n\n            const px = event.offsetX - this.#offset.x,\n                py = event.offsetY - this.#offset.y\n\n            return px >= rectX && px <= rectX + rectW\n                   && py >= rectY && py <= rectY + rectH\n        }\n\n        const translate = (transition: number, event: AnimationType) => {\n            this.animations.reload(value.id, event)\n\n            ctx.beginPath()\n\n            ctx.roundRect(rectX, rectY, rectW, rectH, circleRadius)\n\n            ctx.fillStyle = Helper.adjustColor(Theme.canvasBackground, Math.round(-25 * transition))\n            ctx.fill()\n        }\n\n        this.animations.handle(value.id,\n            AnimationType.Click,\n            {\n                duration: Constants.Animations.legend,\n                continuous: true,\n                before: () => {\n                    return this.clickEvent != undefined\n                           && (isHover(this.clickEvent)\n                               || (value instanceof Sector\n                                   && value.current != 0\n                                   && value.value != value.current))\n                           && value.checkCondition()\n                },\n                body: transition => {\n                    value.toggle(transition)\n\n                    if (transition == 1)\n                        this.clickEvent = new PointerEvent(Events.Click)\n                }\n            })\n\n        if (isHover(this.moveEvent)) {\n            this.animations.handle(value.id,\n                AnimationType.MouseOver,\n                {\n                    duration: Constants.Animations.button,\n                    body: transition => {\n                        translate(transition, AnimationType.MouseLeave)\n                    }\n                })\n\n            if (!value.disabled) {\n                this.#hoverCount++\n\n                this.#chart.highlight(value)\n            }\n        } else {\n            this.animations.handle(value.id,\n                AnimationType.MouseLeave,\n                {\n                    timer: Constants.Dates.minDate,\n                    duration: Constants.Animations.button,\n                    backward: true,\n                    body: transition => {\n                        translate(transition, AnimationType.MouseOver)\n                    }\n                })\n        }\n\n        ctx.beginPath()\n\n        ctx.arc(x - 1, y + 1, 3, 0, 2 * Math.PI)\n        ctx.fillStyle = value.disabled ? Helper.grayScale(value.color) : value.color\n        ctx.fill()\n\n        ctx.fillStyle = Theme.text\n        if (value.disabled)\n            ctx.fillStyle += '7f'\n\n        ctx.fillText(value.label, x + circleRadius * 1.5 + 1, y + 6)\n\n        x += 20\n\n        if (value.disabled) {\n            ctx.moveTo(x - 10, y + 2)\n            ctx.lineTo(x + textWidth - 10, y + 2)\n            ctx.strokeStyle = Theme.text + '7f'\n            ctx.stroke()\n        }\n\n        x += textWidth + 22\n\n        return {\n            x: x,\n            y: y\n        }\n    }\n\n    destroy() {\n        this.isDestroy = true\n\n        this.canvas.remove()\n    }\n\n    refresh() {\n        this.state = RenderState.Init\n    }\n\n    resize() {\n        this.calculateSizes()\n        this.#button?.resize()\n        this.initAnimations()\n    }\n\n    calculateSizes() {\n        switch (this.settings.legendPlace) {\n            case LegendPlace.Bottom:\n            default:\n                this.canvas.width = this.settings.width\n                this.canvas.height = Legend.getLegendHeight(this.settings.data.values, this.canvas.width)\n\n                this.node.style.flexDirection = Styles.FlexDirection.Column\n\n                break\n\n            case LegendPlace.Top:\n                this.canvas.width = this.settings.width\n                this.canvas.height = Legend.getLegendHeight(this.settings.data.values, this.canvas.width)\n\n                this.node.style.flexDirection = Styles.FlexDirection.ColumnReverse\n\n                break\n\n            case LegendPlace.Left:\n                this.canvas.width = 500\n                this.canvas.height = this.settings.height\n\n                this.node.style.flexDirection = Styles.FlexDirection.Row\n\n                break\n\n            case LegendPlace.Right:\n                this.canvas.width = 500\n                this.canvas.height = this.settings.height\n\n                this.node.style.flexDirection = Styles.FlexDirection.RowReverse\n\n                break\n        }\n\n        this.#offset = {\n            x: Legend.getOffsetToCenter(this.settings.data.values, this.canvas.width),\n            y: (this.canvas.height - Legend.getLegendHeight(this.settings.data.values, this.canvas.width)) / 2\n        }\n    }\n\n    applySettings(settings: ChartSettings) {\n        this.settings = settings\n\n        this.prepareSettings()\n    }\n\n    prepareSettings() {\n        this.resize()\n\n        if (!this.settings.disableInteractions)\n            this.#button = new Button(this.canvas,\n                {\n                    x: -10,\n                    y: 12,\n                    text: TextResources.reset,\n                    action: () => {\n                        for (let value of this.settings.data.values)\n                            value.reset()\n                    }\n                })\n    }\n\n    static getOffsetToCenter(values: Value[], width: number): number {\n        let maxWidth = 20\n\n        for (const value of values.filter(v => !v.hideInLegend)) {\n            const labelWidth = Helper.stringWidth(value.label)\n\n            if (maxWidth + labelWidth + 47 >= width - 100)\n                break\n\n            maxWidth += labelWidth + 47\n        }\n\n        return width / 2 - maxWidth / 2\n    }\n\n    static getLegendHeight(values: Value[], width: number): number {\n        let count = 1,\n            acc = 20,\n            offset = Legend.getOffsetToCenter(values, width)\n\n        for (const value of values.filter(v => !v.hideInLegend)) {\n            const labelWidth = Helper.stringWidth(value.label)\n\n            if (acc + labelWidth + 48 >= width - 32 - offset) {\n                acc = 20\n                count++\n            }\n\n            acc += labelWidth + 48\n        }\n\n        return 24 + count * 20 + (count - 1) * 6\n    }\n}\n\nexport default Legend","export class Values {\n    static readonly titleOffset = 30\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n__webpack_require__(281);\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(832);\n"],"names":["Animations","constructor","this","Map","handle","id","type","value","key","has","set","contains","reload","get","timer","Date","clear","forEach","_value","AnimationType","Init","delete","reverse","item","stamp","passed","getTime","reversedPassed","duration","backward","isBackward","isEnd","end","Constants","Dates","minDate","initializeTransitions","i","t","x","Math","pow","y","transitionCurve","toFixed","getTransition","transition","before","body","continuous","endsWith","color","amount","replace","min","max","parseInt","toString","slice","Array","join","round","reduce","a","v","padStart","floor","random","str","font","widths","from","String","acc","cur","charCodeAt","S4","substring","toLowerCase","background","foreground","backgroundAsRgb","hexToRgb","foregroundAsRgb","r","g","b","test","opacity","hex","result","getHexValues","getColor","rgb","bg","canvasBackground","alpha","toHex","c","length","rgbToHex","all","maxStr","toLocaleString","undefined","maximumFractionDigits","dividersMultiplier","hasNegative","filter","countOfElements","includes","Plot","maxLabelsCount","isSatisfyDividing","divides","satisfied","abs","d","isSatisfyElementsCount","values","amplitude","startValue","attempt","step","isFractional","Number","EPSILON","startIndex","endIndex","negativeWeight","isFinite","push","throw","ErrorType","MaxCallsReach","red","green","blue","getShortHexValues","exec","text","Errors","error","Error","throwIsUndefined","object","settings","enableTooltip","disableInteractions","destroy","ChartType","Circular","Gauge","TreeMap","applySettings","prepareSettings","initDropdown","initAnimations","resize","refresh","initialize","isDarkThemeFunction","node","style","display","Display","Flex","flexDirection","FlexDirection","Column","alignItems","AlignItems","Center","justifyContent","JustifyContent","height","ResizeObserver","canvas","observe","context","document","addEventListener","Events","VisibilityChanged","resetMouse","window","Blur","Click","event","target","closeDropdowns","render","disconnect","highlight","reset","isNeedRestartRender","enableLegend","circular","legend","tree","tooltip","button","PlotPoint","obj","super","Object","assign","inverse","Sector","baseColor","canRenderLabel","isMouseInside","toggle","disabled","current","checkCondition","TextResources","exportPNG","decomposeToTable","exportCSV","menu","allDataIsHidden","other","thousandShort","millionShort","billionShort","show","noLabel","treeMapIsEmpty","dataAsTable","Canvas","getContext","willReadFrequently","NullContext","isPixelBusy","pixel","canvasBackgroundInt","isCanRender","ctx","w","h","isLeft","width","Helper","stringWidth","pos","imageData","Uint32Array","getImageData","data","buffer","textWidth","map","line","offsetX","offsetY","beginPath","roundRect","baseOpacity","strokeStyle","dropdownBorder","lineWidth","fillStyle","stroke","fill","offset","arc","PI","fillText","padding","getElementById","updateVisibility","visibility","Visibility","Visible","regex","content","cloneNode","createElement","Tag","Div","innerHTML","position","Position","Absolute","pointerEvents","PointerEvents","None","setAttribute","Attribute","Name","matches","matchAll","html","match","property","replaceAll","appendChild","getBoundingClientRect","Hidden","pageX","pageY","left","top","tooltips","querySelectorAll","opacityValue","templateId","condition","lines","ThemeOptions","colors","backgrounds","lineAxes","lineActives","dropdownBorders","canvasBackgrounds","args","base","JSON","parse","stringify","getRows","headers","series","seriesValues","xType","PlotAxisType","date","name","label","unique","Set","uniqueHeaders","add","sort","prototype","isAnyEquals","addDays","days","setDate","getDate","addMilliseconds","milliseconds","setMilliseconds","getMilliseconds","trySet","sumByField","predicate","CanvasRenderingContext2D","resetLine","lineJoin","lineCap","Styles","Cursor","Default","Pointer","ColumnReverse","Row","RowReverse","options","isActive","icon","animations","moveEvent","clickEvent","translate","adjustColor","MouseOver","MouseLeave","regular","iconOffset","navigator","platform","borderRadius","items","dividers","maxWidth","dropdownOpacity","itemOpacityDec","itemBackground","dropdownItemHoverColor","borderColor","rect","setLineDash","isDivider","moveTo","lineTo","animationKey","isReturn","action","textAlign","textBaseline","close","Theme","callback","isDark","function","matchMedia","setTheme","Change","index","currentTheme","lineAxis","lineActive","CircularRenderer","chart","startAngle","isMousePositionChanged","prevMousePos","MouseEvent","MouseMove","calculateAngles","valuesSum","anglesSum","angles","flatMap","sector","angle","sum","getAngle","find","o","getAccumulator","calculatePoint","accumulator","center","radius","getPoint","cos","sin","startPoint","nextPoint","points","direction","labelStartPoint","labelMidPoint","dir","endPoint","labelPoints","DrawPointType","Move","QuadraticCurve","isDonut","localAccumulator","localAngle","currentAngle","p1Angle","p1","ArcTo","innerRadius","innerPoint2","Line","SemiCircle","scale","centerOfSector","setArgs","p","sqrt","ratio","xx","yy","isNaN","focus","applyAlpha","textColor","outline","lineStyles","state","isBusy","imageDataX","imageDataY","drawLabel","quadraticCurveTo","circularLabel","drawSector","point","arcTo","closePath","animate","indexOf","_transition","s","AnotherItemOver","AnotherItemLeave","isInsideCircle","isInsideSector","isInsideSectorClick","hover","pinned","isAnyCollapsing","clientX","clientY","getMousePosition","isWithinRadius","empty","renderDropdown","currentHover","isAnyHover","contextMenu","renderContextMenu","menuEvent","dropdown","format","valuePostfix","innerTitle","isDestroy","requestAnimationFrame","bind","atan2","findIndex","sumBefore","isAngle","canRenderInnerTitle","innerTitleStyle","calculateSizes","titleOffset","title","Values","shortSide","longestLabel","large","console","warn","enableOther","_other","toChart","innerWidth","innerHeight","open","splice","guid","disableInitAnimation","Icon","ThreeLines","asPng","asCsv","toTable","Renderer","highlightItems","RenderState","Idle","renderTitle","remove","domRect","parentElement","minWidth","minHeight","calculateColors","dispatchEvent","CustomEvent","detail","force","randomColor","clone","canvasPosition","isClick","legendPlace","LegendPlace","Top","Bottom","getLegendHeight","Left","Right","PlotRenderer","plot","interact","tooltip2","dropdown2","nextFrame","paddings","seriesClass","PlotSeries2","tooltipLines","axisLineHoverColor","topPadding","labelsY","kv","startsWith","bottom","yValue","yHeight","columnWidth","seriesToRender","columnsIndex","columnsCount","PlotType","barsIndex","barsCount","Bar","stackingAccumulator","anyHighlight","changeColor","lineType","LineType","Dash","Dotted","Solid","xIndex","yIndex","getTooltipValue","unit","pointDuration","now","next","prevValue","mouse","AttentionLine","right","yMax","topCorners","xPos","yPos","seriesHeight","fillRect","StackingColumn","ceil","tooltipValues","size","normalize","setPaddings","PlotBase","calculateLabels","xValues","yValues","isDate","byAsc","Text","tempDate","isVertical","getRoundedValues","xUnit","minStep","yMin","yUnit","yStepOffset","stackingColumns","simple","divider","getValue","labels","curr","keys","unshift","labelsX","area","label2","renderer","backlines","titles","clearRect","l","xTitle","yTitle","rotate","resetTransform","uniqueX","uniqueY","stepXOffset","stepYOffset","xOffset","yOffset","stepX","stepY","fixLeftPadding","isRight","append","onmousemove","onclick","oncontextmenu","preventDefault","onmouseleave","TreeRenderer","maxHeight","tooltipCell","contextMenuData","totalSquare","minX","minY","remainWidth","remainHeight","cells","isSingle","isLast","j","h1","w1","cell","cellInit","cellIndex","getPrev","E","initAnimationDuration","minSize","rest","gap","isColorVisible","table","classList","totals","rows","valuesMap","tableValue","allColumns","header","indexSpaces","tableHeader","columns","vKey","vValue","number","totalValue","trim","totalColumns","container","div","script","Script","flexGrow","cloneSettings","GaugeRenderer","piece","point1","point2","point3","inner","outerRadius","longSide","Export","leftEmpty","rightEmpty","destinationCanvas","destCtx","drawImage","saveAs","toDataURL","csv","row","cols","encodeURIComponent","dataURL","href","isText","showSaveFilePicker","suggestedName","types","accept","excludeAcceptAllOption","toBlob","dataURI","byteString","atob","split","mimeString","ArrayBuffer","imageArray","Uint8Array","Blob","then","fileHandle","createWritable","writableStream","write","download","A","click","Formatter","postfix","minimumFractionDigits","toLocaleDateString","trueX","trueY","OCharts","modal","ElementNotExist","titleSpan","Span","ModalClasses","closeButton","Button","Close","Dialog","oncancel","showModal","PlotSeries","isISOString","Legend","hideInLegend","getOffsetToCenter","labelWidth","count","rectX","rectY","circleRadius","rectW","isHover","px","py","PointerEvent","grayScale","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call"],"sourceRoot":""}