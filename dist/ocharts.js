(()=>{"use strict";var t={5:function(t,e,i){var s,n,a,o,h,r,l=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i},d=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Animations=void 0;const c=i(869);class f{constructor(){s.add(this),a.set(this,void 0),l(this,a,new Map,"f")}add(t,e,i){const n=d(this,s,"m",h).call(this,t,e);d(this,a,"f").has(n)||d(this,a,"f").set(n,i),d(this,s,"m",o).call(this,n)}contains(t,e){return d(this,a,"f").has(d(this,s,"m",h).call(this,t,e))}reload(t,e){this.contains(t,e)&&(d(this,a,"f").get(d(this,s,"m",h).call(this,t,e)).timer=new Date)}clear(){d(this,a,"f").forEach((t,e)=>!d(this,s,"m",r).call(this,e,c.AnimationType.Init)&&d(this,a,"f").delete(e))}static initializeTransitions(){for(let t=0;t<3e4;t++){const e=(t+1)/3e4;let i=0*Math.pow(1-e,3)+3*Math.pow(1-e,2)*.77*e+3*(1-e)*Math.pow(e,2)*.23+1*Math.pow(e,3),s=0*Math.pow(1-e,3)+3*Math.pow(1-e,2)*.23*e+3*(1-e)*Math.pow(e,2)*.77+1*Math.pow(e,3);n.transitionCurve.set(+i.toFixed(4),s)}n.transitionCurve.set(0,0)}static getTransition(t){return n.transitionCurve.get(+t.toFixed(4))??0}}e.Animations=f,n=f,a=new WeakMap,s=new WeakSet,o=function(t){const e=d(this,a,"f").get(t),i=new Date,s=i.getTime()-(e.timer??i).getTime(),o=n.getTransition(s>e.duration?1:s/e.duration),h=!e.before||e.before();!e.timer&&h&&(e.timer=i),h&&e.body(e.backward?1-o:o),1!=o||h&&!e.continuous||d(this,a,"f").delete(t)},h=function(t,e){return t+"_"+e},r=function(t,e){return t.endsWith("_"+e)},f.transitionCurve=new Map},10:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Helper=void 0;const s=i(125),n=i(409);class a{static adjustColor(t,e){return"#"+t.replace(/^#/,"").replace(/../g,t=>("0"+Math.min(255,Math.max(0,parseInt(t,16)+e)).toString(16)).slice(-2))}static grayScale(t){return"#"+Array(4).join(Math.round([.3,.59,.11].reduce((e,i,s)=>e+i*parseInt(t[2*s+1]+t[2*s+2],16),0)/3).toString(16).padStart(2,"0"))}static randomColor(){let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}static stringWidth(t,e){const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625];return Array.from(t).reduce((t,e)=>t+(i[e.charCodeAt(0)]??.5279276315789471),0)*(e||14)}static guid(){const t=()=>(65536*(1+Math.random())|0).toString(16).substring(1);return(t()+t()+"-"+t()+"-4"+t().slice(0,3)+"-"+t()+"-"+t()+t()+t()).toLowerCase()}static hexToRgb(t){if(t.length>4){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(e)return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}}else{const e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(t);if(e)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}}return new s.Color}static isColorVisible(t,e){const i=a.hexToRgb(t),s=a.hexToRgb(e);return(i.r+i.g+i.b)/(s.r+s.g+s.b)<.77}static isISOString(t){return/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+/.test(t)}static applyAlpha(t,e){function i(t){let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function s(t){let e=t.toString(16);return 1==e.length?"0"+e:e}const a=i(t),o=i(n.Theme.canvasBackground),h=1-(e/=255);return r=Math.round(255*(e*(a.r/255)+h*(o.r/255))),l=Math.round(255*(e*(a.g/255)+h*(o.g/255))),d=Math.round(255*(e*(a.b/255)+h*(o.b/255))),"#"+s(r)+s(l)+s(d);var r,l,d}}e.Helper=a},12:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipValue=void 0,e.TooltipValue=class{constructor(t,e){this.text=t,this.color=e}}},39:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Errors=void 0;class i{static throw(t){throw new Error(t)}static throwIsUndefined(t,e){null==t&&i.throw(e)}}e.Errors=i},88:function(t,e,i){var s,n,a,o,h,r,l,d,c,f=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},u=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.Chart=void 0;const v=i(927),p=i(557),m=i(427),g=i(801),y=i(690),w=i(5),b=i(409),x=i(283),M=i(869);e.Chart=class{constructor(t,e){s.add(this),n.set(this,void 0),a.set(this,void 0),o.set(this,void 0),f(this,s,"m",d).call(this,e),this.node=t,this.settings=e,f(this,s,"m",c).call(this),f(this,s,"m",h).call(this),e.enableLegend&&u(this,a,new v.Legend(this),"f"),document.addEventListener(M.Events.VisibilityChanged,()=>f(this,n,"f").resetMouse()),window.addEventListener(M.Events.Blur,()=>f(this,n,"f").resetMouse()),window.addEventListener(M.Events.Click,t=>{t.target!=f(this,n,"f").canvas&&f(this,n,"f").closeDropdowns()})}render(){f(this,n,"f").render(),f(this,a,"f")?.render(),u(this,o,new ResizeObserver(()=>{f(this,n,"f").canvas?f(this,s,"m",l).call(this):this.destroy()}),"f"),f(this,o,"f").observe(this.node),f(this,s,"m",r).call(this)}destroy(){f(this,n,"f").destroy(),f(this,a,"f")?.destroy(),f(this,o,"f").disconnect()}highlight(t){f(this,n,"f").highlight(t)}reset(){b.Theme.reset(),f(this,s,"m",d).call(this,this.settings)}},n=new WeakMap,a=new WeakMap,o=new WeakMap,s=new WeakSet,h=function(){switch(this.settings.enableTooltip=!this.settings.disableInteractions&&this.settings.enableTooltip,this.settings.type){case M.ChartType.Plot:u(this,n,new p.PlotRenderer(this),"f");break;case M.ChartType.Circular:u(this,n,new m.CircularRenderer(this),"f");break;case M.ChartType.Gauge:u(this,n,new g.GaugeRenderer(this),"f");break;case M.ChartType.TreeMap:u(this,n,new y.TreeRenderer(this),"f")}f(this,n,"f").prepareSettings(),this.settings.disableInteractions||(f(this,n,"f").initDropdown(),f(this,n,"f").initAnimations()),f(this,n,"f").resize()},r=function(){f(this,n,"f").refresh(),f(this,a,"f")?.refresh()},l=function(){f(this,n,"f").resize(),f(this,a,"f")?.resize()},d=function(t){b.Theme.initialize(()=>f(this,s,"m",l).call(this),t.isDarkThemeFunction),w.Animations.initializeTransitions()},c=function(){this.node.style.display=x.Styles.Display.Flex,this.node.style.flexDirection=x.Styles.FlexDirection.Column,this.node.style.alignItems=x.Styles.AlignItems.Center,this.node.style.justifyContent=x.Styles.JustifyContent.Center,this.node.style.height="100%"}},125:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Color=void 0,e.Color=class{}},126:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Animations=void 0;class i{}e.Animations=i,i.circular=335,i.legend=500,i.tree=250,i.tooltip=120,i.button=200},138:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sector=void 0;const s=i(527);class n extends s.Value{constructor(t){super(),Object.assign(this,t)}toggle(t){super.toggle(t),this.disabled?this.current=this.value*(1-t):this.current=this.value*t}checkCondition(){return super.checkCondition(),0==this.current&&!this.disabled||0!=this.value}reset(){super.reset(),this.current=this.value}}e.Sector=n},147:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextResources=void 0;class i{}e.TextResources=i,i.exportPNG="Save as image...",i.decomposeToTable="Show as table...",i.reset="Reset",i.exportCSV="Save as table...",i.menu="Menu",i.allDataIsHidden="All data is hidden",i.other="Other",i.incorrectValues="Incorrect values",i.ThousandShort="K",i.MillionShort="M",i.BillionShort="B",i.Show="Show...",i.NoLabel="No Label"},168:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0;const s=i(39),n=i(869),a=i(409);e.Canvas=class{static getContext(t){return t.getContext("2d",{willReadFrequently:!0})??s.Errors.throw(n.ErrorType.NullContext)}static isPixelBusy(t){return t-a.Theme.canvasBackgroundInt!=0}}},183:function(t,e,i){var s,n,a,o,h,r,l,d,c,f,u,v,p,m,g=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),y=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w=this&&this.__importStar||(s=function(t){return s=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},s(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),n=0;n<i.length;n++)"default"!==i[n]&&g(e,t,i[n]);return y(e,t),e}),b=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i},x=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Tooltip=void 0;const M=i(409),T=i(601),P=i(10),S=i(168),C=w(i(797)),k=i(283),A=i(869);e.Tooltip=class{constructor(t,e){n.add(this),a.set(this,void 0),o.set(this,void 0),h.set(this,void 0),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),f.set(this,void 0),this.canvas=t,this.data=e.data,b(this,a,e.enableTooltip,"f"),b(this,o,!!e.templateId,"f"),x(this,o,"f")&&b(this,r,document.getElementById(e.templateId),"f"),this.refresh()}render(t,e,i,s){if(x(this,n,"m",p).call(this),x(this,a,"f")&&e)if(t||x(this,l,"f")||x(this,d,"f")){t&&b(this,f,i,"f"),x(this,c,"f")||b(this,c,new Date,"f"),x(this,d,"f")?x(this,l,"f")&&b(this,c,new Date,"f"):b(this,l,!0,"f"),x(this,o,"f")?x(this,n,"m",v).call(this,e,s):x(this,n,"m",u).call(this,e);const a=x(this,n,"m",m).call(this);x(this,d,"f")&&a>=1&&(b(this,l,!1,"f"),b(this,d,!1,"f")),x(this,d,"f")&&a<=0&&(b(this,l,!1,"f"),b(this,d,!1,"f"),b(this,c,void 0,"f")),t||null==x(this,c,"f")||b(this,d,!0,"f")}else b(this,c,void 0,"f")}refresh(){b(this,h,this.canvas.getBoundingClientRect(),"f"),x(this,h,"f").x+=scrollX,x(this,h,"f").y+=scrollY}},a=new WeakMap,o=new WeakMap,h=new WeakMap,r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,f=new WeakMap,n=new WeakSet,u=function(t){const e=S.Canvas.getContext(this.canvas),i=Math.max(...x(this,f,"f").map(t=>P.Helper.stringWidth(t.text??"")+(t.color?8:0)));let s=t.clientX-x(this,h,"f").x+10,a=t.clientY-x(this,h,"f").y+scrollY+10;s+i+25>x(this,h,"f").width&&(s=x(this,h,"f").width-(i+25)),a+4+18*x(this,f,"f").length>x(this,h,"f").height&&(a=x(this,h,"f").height-4-18*x(this,f,"f").length),e.beginPath(),e.roundRect(s,a,i+24,16+16*x(this,f,"f").length,6);let o=Math.round(255*x(this,n,"m",m).call(this)).toString(16),r=Math.round(207*x(this,n,"m",m).call(this)).toString(16);1==o.length&&(o="0"+o),1==r.length&&(r="0"+r),e.strokeStyle=M.Theme.dropdownBorder+r,e.lineWidth=1,e.fillStyle=M.Theme.background+r,e.stroke(),e.fill();for(let t of x(this,f,"f")){let i=0;t.color&&(i=12,e.beginPath(),e.fillStyle=t.color+o,e.arc(s+16,a+17,5,0,2*Math.PI),e.fill()),T.TextStyles.tooltip(e),e.fillStyle=M.Theme.text+o,e.fillText(t.text??"",s+i+12,a+21),a+=16}},v=function(t,e){if(null==e)return;const i=x(this,r,"f").id+e.id;let s=document.getElementById(i);const a=()=>{x(this,n,"m",p).call(this),s.style.visibility=k.Styles.Visibility.Visible};if(!s){const t=/\${[^}]*}/gm;let n=x(this,r,"f").cloneNode(!0);s=document.createElement(A.Tag.Div),s.innerHTML=n.innerHTML,s.id=i,s.style.position=k.Styles.Position.Absolute,s.style.pointerEvents=k.Styles.PointerEvents.None,s.style.visibility=k.Styles.Visibility.Visible,s.setAttribute(A.Attribute.Name,x(this,r,"f").id);const o=[...s.innerHTML.matchAll(t)];let h=s.innerHTML;for(const t of o){const i=t[0].replace("${","").replace("}","").replaceAll(" ","");h=h.replaceAll(t[0],e.data[i])}s.innerHTML=h,document.body.appendChild(s),s.position=s.getBoundingClientRect(),a()}s.style.visibility==k.Styles.Visibility.Hidden&&a(),0==s.position.height&&(s.position=s.getBoundingClientRect());const o=10;let l="1",d=t.clientX,c=t.clientY+scrollY;d+s.position.width-x(this,h,"f").x>x(this,h,"f").width-o&&(d=x(this,h,"f").width-s.position.width+x(this,h,"f").x-o,l=".67"),c+s.position.height-x(this,h,"f").y>x(this,h,"f").height-o&&(c=x(this,h,"f").height-s.position.height+x(this,h,"f").y-o,l=".67"),0==d&&0==c&&(l="0"),s.style.left=d+o+"px",s.style.top=c+o+"px",s.style.opacity=l},p=function(){if(!x(this,o,"f"))return;const t=document.querySelectorAll(`[name="${x(this,r,"f").id}"]`);for(let e of t)e.style.visibility=k.Styles.Visibility.Hidden},m=function(){if(!x(this,c,"f"))return 0;let t=x(this,d,"f")?1-((new Date).getTime()-x(this,c,"f").getTime())/C.Animations.tooltip:((new Date).getTime()-x(this,c,"f").getTime())/C.Animations.tooltip;return t>1&&(t=1),t<0&&(t=0),t}},226:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeOptions=void 0;class i{}e.ThemeOptions=i,i.colors=["#000000","#ffffff"],i.backgrounds=["#f7f7f7","#222222"],i.lines=["#000000","#eeeeee"],i.lineAxes=["#e0e0e0","#212121"],i.lineActives=["#898989","#898989"],i.dropdownBorders=["#bcbcbc","#7e7e7e"],i.canvasBackgrounds=["#ffffff","#222222"]},268:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PlotData=void 0;const s=i(828),n=i(869);e.PlotData=class{static getRows(t){let e=[],i=[];for(const a of t.values){let o=new Map;for(const i of a.values)o.set(i.x.toString(),i.y),e.push({value:i.x.toString(),display:t.xType==n.PlotAxisType.Date?s.Formatter.date(new Date(i.x)):i.x.toString()});i.push({name:a.label,values:o})}const a=new Set,o=e.filter(t=>!a.has(t.display)&&a.add(t.display));return t.xType==n.PlotAxisType.Date&&o.sort((t,e)=>new Date(t.value).getTime()-new Date(e.value).getTime()),{headers:o,values:i}}}},283:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Styles=void 0,function(t){class e{}e.Default="default",e.Pointer="pointer",t.Cursor=e;class i{}i.Flex="flex",t.Display=i;class s{}s.Column="column",s.ColumnReverse="column-reverse",s.Row="row",s.RowReverse="row-reverse",t.FlexDirection=s;class n{}n.Center="center",t.AlignItems=n;class a{}a.Visible="visible",a.Hidden="hidden",t.Visibility=a;class o{}o.Absolute="absolute",t.Position=o;class h{}h.None="none",t.PointerEvents=h;class r{}r.Center="center",t.JustifyContent=r;class l{}l.Pixelated="pixelated",t.ImageRendering=l}(i||(e.Styles=i={}))},359:function(t,e,i){var s,n,a,o,h,r,l,d,c,f,u,v=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),p=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),m=this&&this.__importStar||(s=function(t){return s=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},s(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),n=0;n<i.length;n++)"default"!==i[n]&&v(e,t,i[n]);return p(e,t),e}),g=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i},y=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Dropdown=void 0;const w=i(409),b=i(5),x=i(10),M=i(601),T=i(168),P=i(869),S=m(i(797)),C=i(283);e.Dropdown=class{constructor(t,e){n.add(this),this.isActive=!1,a.set(this,void 0),o.set(this,void 0),h.set(this,void 0),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),g(this,d,t,"f"),g(this,o,e,"f"),y(this,o,"f").icon&&(y(this,o,"f").text=y(this,o,"f").icon),g(this,l,null==y(this,o,"f").text,"f"),this.animations=new b.Animations}render(t,e){y(this,a,"f")||y(this,n,"m",c).call(this),y(this,l,"f")&&(this.isActive=!0);const i=T.Canvas.getContext(y(this,d,"f"));let s=y(this,r,"f").x,h=y(this,r,"f").y,u=y(this,r,"f").width,v=y(this,r,"f").height;if(i.beginPath(),!y(this,l,"f")){const a=(t,e)=>{this.animations.reload("animation-dropdown",e),i.fillStyle=x.Helper.adjustColor(w.Theme.canvasBackground,-Math.round(25*t))};y(this,n,"m",f).call(this,t,s,h,u,v)?(y(this,d,"f").style.cursor=C.Styles.Cursor.Pointer,e&&t.x==e.x&&t.y==e.y&&(this.isActive=!this.isActive,e=void 0),this.isActive?i.fillStyle=x.Helper.adjustColor(w.Theme.canvasBackground,-25):this.animations.add("animation-dropdown",P.AnimationType.MouseOver,{duration:300,body:t=>{a(t,P.AnimationType.MouseLeave)}})):(y(this,d,"f").style.cursor=C.Styles.Cursor.Default,this.isActive?i.fillStyle=x.Helper.adjustColor(w.Theme.canvasBackground,-25):this.animations.add("animation-dropdown",P.AnimationType.MouseLeave,{timer:S.Dates.minDate,duration:300,backward:!0,body:t=>{a(t,P.AnimationType.MouseOver)}})),i.roundRect(s,h,u,v,4),i.fill(),M.TextStyles.regular(i),y(this,o,"f").icon&&(i.font="20px sans-serif");const r=y(this,o,"f").icon?"Win32"!=navigator.platform?1:-1:0;i.fillText(y(this,o,"f").text??"",s+u/2,h+v/2-r)}if(this.isActive){const a=6,r=6;h+=v;const l=y(this,o,"f").items.filter(t=>t.text),c=y(this,o,"f").items.filter(t=>!t.text);let u=Math.max(...l.map(t=>x.Helper.stringWidth(t.text)))+4*a;s+u>y(this,d,"f").width-4&&(s-=s+u-y(this,d,"f").width+4);const p="bb",m=127,g=w.Theme.dropdownItemHoverColor,b=w.Theme.dropdownBorder;i.beginPath();const T={x:s,y:h,width:u,height:26*l.length+4*c.length+(1==l.length?a:0)+(2==l.length&&1==c.length?a:0)};i.roundRect(T.x,T.y,T.width,T.height,r),i.fillStyle=w.Theme.background+p,i.setLineDash([]),i.lineWidth=1,i.strokeStyle=b+p,i.fill(),i.stroke(),i.beginPath(),h+=6;for(const l of y(this,o,"f").items){if(i.beginPath(),1==l.isDivider){h+=2,i.moveTo(s+a,h),i.lineTo(s+u-a,h),i.lineWidth=.5,i.stroke(),h+=4;continue}i.fillStyle="transparent";const o="animation-dropdown"+l.text,c=(t,e,s)=>{if(this.animations.reload(o,e),s&&1==t)return;let n=Math.round(m*t).toString(16);1==n.length&&(n="0"+n),i.fillStyle=g+n};y(this,n,"m",f).call(this,t,s,h,u,20)?(this.animations.add(o,P.AnimationType.MouseOver,{duration:300,body:t=>{c(t,P.AnimationType.MouseLeave)}}),y(this,d,"f").style.cursor=C.Styles.Cursor.Pointer,e&&(l.action(),e=void 0,this.isActive=!1)):this.animations.add(o,P.AnimationType.MouseLeave,{timer:S.Dates.minDate,duration:300,backward:!0,body:t=>{c(t,P.AnimationType.MouseOver,!0)}}),i.roundRect(s+a,h,u-2*a,20,r),i.fill(),M.TextStyles.regular(i),i.fillStyle=w.Theme.text,i.textAlign="left",i.textBaseline="hanging",i.fillText(l.text,s+2*a,h+5),h+=22}}return i.lineWidth=1,!y(this,l,"f")&&null!=e&&this.isActive&&(this.isActive=!1,e=void 0),g(this,a,!0,"f"),y(this,l,"f")&&e&&t.x==e.x&&t.y==e.y&&(this.isActive=!this.isActive,e=void 0),e}refresh(){g(this,a,!1,"f")}resize(){y(this,n,"m",c).call(this),y(this,n,"m",u).call(this)}close(){this.isActive=!1}},a=new WeakMap,o=new WeakMap,h=new WeakMap,r=new WeakMap,l=new WeakMap,d=new WeakMap,n=new WeakSet,c=function(){g(this,h,y(this,d,"f").getBoundingClientRect(),"f"),y(this,h,"f").x+=scrollX,y(this,h,"f").y+=scrollY},f=function(t,e,i,s,n){if(!t)return!1;let a=t.clientX-y(this,h,"f").x+scrollX,o=t.clientY-y(this,h,"f").y+scrollY;return a>=e&&a<=e+s&&o>=i&&o<=i+n},u=function(){const t=y(this,l,"f")?0:x.Helper.stringWidth(y(this,o,"f").text??"")+12,e=y(this,l,"f")?0:20;g(this,r,{x:y(this,o,"f").x+t>y(this,d,"f").width?y(this,d,"f").width-t:y(this,o,"f").x<0?y(this,d,"f").width+y(this,o,"f").x-t:y(this,o,"f").x,y:y(this,o,"f").y+e>y(this,d,"f").height?y(this,d,"f").height-e:y(this,o,"f").y<0?y(this,d,"f").height+y(this,o,"f").y-e:y(this,o,"f").y,width:t,height:e},"f")}},409:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Theme=void 0;const s=i(10),n=i(226),a=i(869);class o{static initialize(t,e){!o.function&&e&&(o.function=e),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(!o.function||o.function())?o.setTheme(1):o.setTheme(0),window.matchMedia("(prefers-color-scheme: dark)").addEventListener(a.Events.Change,e=>{o.setTheme(!e.matches||o.function&&!o.function()?0:1),t()})}static setTheme(t){o.currentTheme=t,o.text=n.ThemeOptions.colors[t],o.background=n.ThemeOptions.backgrounds[t],o.line=n.ThemeOptions.lines[t],o.lineAxis=n.ThemeOptions.lineAxes[t],o.lineActive=n.ThemeOptions.lineActives[t],o.dropdownItemHoverColor=s.Helper.adjustColor(o.background,0==t?-50:50),o.dropdownBorder=n.ThemeOptions.dropdownBorders[t],o.canvasBackground=n.ThemeOptions.canvasBackgrounds[t],o.canvasBackgroundInt=Number(`0xff${o.canvasBackground.slice(1)}`)}static reset(){this.function=void 0}}e.Theme=o,o.currentTheme=0},427:function(t,e,i){var s,n,a,o,h,r,l,d,c,f,u,v,p,m,g,y,w,b,x,M,T,P,S,C,k=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),A=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_=this&&this.__importStar||(s=function(t){return s=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},s(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),n=0;n<i.length;n++)"default"!==i[n]&&k(e,t,i[n]);return A(e,t),e}),E=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},D=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.CircularRenderer=void 0;const O=i(459),I=i(510),R=i(138),j=i(10),W=i(359),L=i(409),B=i(601),F=i(12),H=i(743),N=i(804),V=i(147),$=i(897),z=i(168),G=i(828),q=i(869),Y=_(i(797)),X=i(283);class J extends O.Renderer{constructor(t){super(t),n.add(this),a.set(this,void 0),o.set(this,void 0),h.set(this,void 0),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),f.set(this,void 0),u.set(this,void 0),v.set(this,void 0),p.set(this,void 0),m.set(this,void 0),g.set(this,void 0),y.set(this,void 0),w.set(this,void 0),this.data.values=this.data.values.map(t=>new R.Sector(t)),this.settings.enableOther&&(this.settings.contextMenu?this.settings.contextMenu.push({isDivider:!0}):this.settings.contextMenu=[],this.settings.contextMenu.push({text:V.TextResources.Show,condition:t=>t?._other,action:()=>{new $.Modal(H.Decomposition.toChart(this.settings,E(this,g,"f")),{width:.8*window.innerWidth,height:.8*window.innerHeight}).open()}})),D(this,w,Math.PI/4,"f"),D(this,u,[],"f"),this.onMouseMoveEvent=new MouseEvent(q.Events.MouseMove)}render(){super.render(),D(this,l,E(this,w,"f"),"f"),D(this,c,0,"f"),0==this.data.values.filter(t=>!t.disabled).length?E(this,n,"m",P).call(this):E(this,n,"m",b).call(this),0==E(this,c,"f")&&D(this,f,void 0,"f"),this.state=q.RenderState.Idle,super.renderDropdown(),E(this,f,"f")||this.contextMenu?this.renderContextMenu(this.data.values.find(t=>t.id==E(this,f,"f"))?.data??{}):this.onContextMenuEvent=void 0,E(this,f,"f")&&(this.canvas.style.cursor=X.Styles.Cursor.Pointer)}refresh(){super.refresh(),this.dropdown?.refresh()}resize(){super.resize(),this.initAnimations(),E(this,n,"m",C).call(this),this.dropdown?.resize()}prepareSettings(){super.prepareSettings(),D(this,o,0!=(this.data.innerRadius??0),"f");for(let t of this.data.values)t.disabled=!t.value,t.value??=0,t.current=t.value,t.innerRadius??=this.data.innerRadius??0,t.value<0&&console.warn(`"${t.label}" has negative value (${t.value}) and will not be render`);if(this.data.values=this.data.values.filter(t=>t.value>=0),this.settings.enableOther&&this.data.values.length>20){D(this,g,this.data.values.splice(20),"f");const t=E(this,g,"f").reduce((t,e)=>t+e.current,0);this.data.values=this.data.values.slice(0,20),this.data.values.push(new R.Sector({value:t,current:t,label:V.TextResources.other,id:j.Helper.guid(),color:E(this,g,"f")[E(this,g,"f").length-1].color,innerRadius:this.data.innerRadius,data:{_other:!0}}))}}initDropdown(){super.initDropdown(),this.dropdown=new W.Dropdown(this.canvas,{x:-10,y:10,icon:q.Icon.ThreeLines,items:[{text:V.TextResources.exportPNG,action:()=>{N.Export.asPng(this.canvas,this.settings.title)}},{text:V.TextResources.exportCSV,action:()=>{N.Export.asCsv(H.Decomposition.toTable(I.CircularData.getRows(this.data)),this.settings.title)}},{isDivider:!0},{text:V.TextResources.decomposeToTable,action:()=>{new $.Modal(H.Decomposition.toTable(I.CircularData.getRows(this.data))).open()}}]})}}e.CircularRenderer=J,a=new WeakMap,o=new WeakMap,h=new WeakMap,r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,f=new WeakMap,u=new WeakMap,v=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,w=new WeakMap,n=new WeakSet,b=function(){if(this.onMouseMoveEvent||this.state==q.RenderState.Init){D(this,r,this.data.values.reduce((t,e)=>t+e.current,0),"f");let t=E(this,w,"f");D(this,m,this.data.values.flatMap(e=>{const i=e.current/E(this,r,"f")*2*Math.PI;return{id:e.id,value:i,sum:(t+=i)-i}}).reverse(),"f"),D(this,p,E(this,n,"m",M).call(this,E(this,h,"f"),0),"f");for(const t of this.data.values)E(this,n,"m",x).call(this,t);const e=this.data.values.find(t=>t.id==E(this,f,"f"));this.tooltip.render(!!e&&!this.dropdown?.isActive,this.onMouseMoveEvent,[new F.TooltipValue(`${e?.label}: ${G.Formatter.number(e?.current)}`)],e),E(this,n,"m",S).call(this)}this.isDestroy||requestAnimationFrame(this.render.bind(this))},x=function(t){var e;const i=z.Canvas.getContext(this.canvas);i.fillStyle=t.color,i.strokeStyle=t.color;const s=t.current/E(this,r,"f"),a=2*(isNaN(s)?1:s)*Math.PI,m=1==this.data.values.filter(t=>!t.disabled).length;if(!this.onClickEvent&&!E(this,u,"f").includes(t.id)||this.animations.contains(t.id,q.AnimationType.Init)||m||this.animations.add(t.id,q.AnimationType.Click,{duration:Y.Animations.circular,before:()=>(this.onClickEvent&&E(this,n,"m",T).call(this,this.onClickEvent,t)&&(E(this,u,"f").includes(t.id)?D(this,u,E(this,u,"f").filter(e=>e!=t.id),"f"):E(this,u,"f").push(t.id),this.onClickEvent=new PointerEvent(q.Events.Click)),!0),body:()=>{if(!E(this,u,"f").includes(t.id))return;const e=t.current/E(this,r,"f"),s=2*(isNaN(e)?1:e)*Math.PI,n=E(this,l,"f")+s/2,a={x:E(this,d,"f")*Math.cos(n),y:E(this,d,"f")*Math.sin(n)};i.translate(a.x,a.y),i.lineWidth=8,i.lineJoin="round",i.lineCap="round",i.fillStyle=t.color}}),this.onMouseMoveEvent&&E(this,n,"m",T).call(this,this.onMouseMoveEvent,t)&&(D(this,f,t.id,"f"),D(this,c,(e=E(this,c,"f"),++e),"f")),this.state==q.RenderState.Init||this.animations.contains(t.id,q.AnimationType.Init))this.animations.add(t.id,q.AnimationType.Init,{duration:Y.Animations.circular+(this.data.values.indexOf(t)+1)/this.data.values.length*Y.Animations.circular,continuous:!0,body:e=>{const s=E(this,v,"f").x+E(this,h,"f")/2*Math.cos(E(this,l,"f")+a/2),n=E(this,v,"f").y+E(this,h,"f")/2*Math.sin(E(this,l,"f")+a/2),o=.7,r=1-o;i.translate(s-s*(o+e*r),n-n*(o+e*r)),i.scale(o+e*r,o+e*r);let d=Math.round(255*e).toString(16);d.length<2&&(d=0+d),i.fillStyle=t.color+d,i.strokeStyle=j.Helper.applyAlpha(t.color,255*e)}});else if(this.onMouseMoveEvent&&!this.animations.contains(t.id,q.AnimationType.Init)&&!E(this,u,"f").includes(t.id)&&!m){const e=(e,s,n)=>{if(this.animations.reload(t.id,s),i.lineWidth=1,i.lineJoin="miter",i.lineCap="butt",0==e)return;n&&(e=t.transition);const a=t.current/E(this,r,"f"),o=2*(isNaN(a)?1:a)*Math.PI,h=E(this,l,"f")+o/2,c={x:E(this,d,"f")*Math.cos(h)*e,y:E(this,d,"f")*Math.sin(h)*e};i.translate(c.x,c.y),i.lineWidth=8*e,i.lineJoin="round",i.lineCap="round",t.translate=c,t.transition=e};E(this,n,"m",T).call(this,this.onMouseMoveEvent,t)&&this.animations.contains(t.id,q.AnimationType.MouseLeave)?this.animations.add(t.id,q.AnimationType.MouseOver,{duration:Y.Animations.circular,body:i=>{e(i,q.AnimationType.MouseLeave,t.transition>i)}}):this.animations.add(t.id,q.AnimationType.MouseLeave,{timer:Y.Dates.minDate,duration:Y.Animations.circular,backward:!0,body:i=>{e(i,q.AnimationType.MouseOver,t.transition<i)}})}let g=E(this,n,"m",M).call(this,E(this,h,"f"),a);if(a>0){if(i.save(),t.current>0){let e=E(this,n,"m",M).call(this,E(this,h,"f")+10,a/2),s=E(this,n,"m",M).call(this,E(this,h,"f")+20,a/2);const o=e.x>E(this,v,"f").x?1:-1;let r={x:s.x+10*o,y:s.y},l=!1;const d=j.Helper.stringWidth(t.label),c=1==o?r.x+12:r.x-d-12,f=new Uint32Array(i.getImageData(c,r.y-12,d+12,28).data.buffer);if((c<0||c+d>this.canvas.width||r.y-12<0||r.y+12>this.canvas.height)&&(l=!0),!l)for(let t=0;t<f.length;t++)if(z.Canvas.isPixelBusy(f[t])){l=!0;break}if(!l){i.beginPath(),i.moveTo(e.x,e.y),i.quadraticCurveTo(s.x,s.y,r.x,r.y);let n=Math.round(t.current/t.value*255).toString(16);n.length<2&&(n=0+n),i.strokeStyle=L.Theme.text+n,i.lineCap="butt",i.lineJoin="miter",i.lineWidth=1,i.stroke(),i.fillStyle=L.Theme.text+n,B.TextStyles.circularLabel(i,1==o),i.fillText(t.label,r.x+8*o,r.y+4)}}i.restore(),i.beginPath(),E(this,o,"f")||i.moveTo(E(this,v,"f").x,E(this,v,"f").y),i.lineTo(E(this,p,"f").x,E(this,p,"f").y);let e=0,s=a;for(;s>0;){let t=s-Math.PI/6>0?Math.PI/6:s;g=E(this,n,"m",M).call(this,E(this,h,"f"),e+t);const a=Math.PI-t,o=E(this,h,"f")/Math.sin(a/2),r=E(this,n,"m",M).call(this,o,e+t/2);i.quadraticCurveTo(r.x,r.y,g.x,g.y),e+=t,s-=Math.PI/6}if(E(this,o,"f")||0!=t.innerRadius){const o=E(this,h,"f")*(t.innerRadius/100),r={x:g.x-(E(this,h,"f")-o)*(g.x-E(this,v,"f").x)/E(this,h,"f"),y:g.y-(E(this,h,"f")-o)*(g.y-E(this,v,"f").y)/E(this,h,"f")};for(i.lineTo(r.x,r.y),s=0,e=a;s<a;){let t=s+Math.PI/6<a?Math.PI/6:a-s;g=E(this,n,"m",M).call(this,o,e-t);const h=Math.PI-t,r=o/Math.sin(h/2),l=E(this,n,"m",M).call(this,r,e-t/2);i.quadraticCurveTo(l.x,l.y,g.x,g.y),e-=t,s+=Math.PI/6}g=E(this,n,"m",M).call(this,E(this,h,"f"),a)}if(!this.animations.contains(t.id,q.AnimationType.Init)){const e=(e,s)=>{if(this.animations.reload(t.id,s),0==e)return;let n=Math.round(255-127*e).toString(16);n.length<2&&(n=0+n),i.fillStyle=t.color+n,i.strokeStyle=j.Helper.applyAlpha(t.color,255-127*e)},s=0!=this.highlightItems.length;E(this,f,"f")&&E(this,f,"f")!=t.id||s&&!this.highlightItems.includes(t.id)?this.animations.add(t.id,q.AnimationType.AnotherItemOver,{duration:Y.Animations.circular,body:t=>{e(t,q.AnimationType.AnotherItemLeave)}}):null!=E(this,f,"f")&&s||this.animations.add(t.id,q.AnimationType.AnotherItemLeave,{timer:Y.Dates.minDate,duration:Y.Animations.circular,backward:!0,body:t=>{e(t,q.AnimationType.AnotherItemOver)}})}i.closePath(),i.fill(),i.stroke(),D(this,l,E(this,l,"f")+a,"f")}i.resetTransform(),D(this,p,g,"f")},M=function(t,e){return{x:E(this,v,"f").x+t*Math.cos(E(this,l,"f")+e),y:E(this,v,"f").y+t*Math.sin(E(this,l,"f")+e)}},T=function(t,e){const i=t=>t.x*t.x+t.y*t.y<=E(this,h,"f")*E(this,h,"f")&&(!E(this,o,"f")||t.x*t.x+t.y*t.y>=E(this,h,"f")*(e.innerRadius/100)*E(this,h,"f")*(e.innerRadius/100)),s=this.getMousePosition(t),n={x:s.x-E(this,v,"f").x,y:s.y-E(this,v,"f").y},a={x:s.x-E(this,v,"f").x-e.translate?.x,y:s.y-E(this,v,"f").y-e.translate?.y};return(t=>{let i=Math.atan2(t.y-E(this,v,"f").y,t.x-E(this,v,"f").x);i<0&&(i+=2*Math.PI),i<E(this,w,"f")&&(i=2*Math.PI-Math.abs(E(this,w,"f")-i)+E(this,w,"f"));let s=E(this,m,"f").findIndex(t=>t.id==e.id),n=E(this,m,"f")[s].sum;return!this.dropdown?.isActive&&n<=i&&n+E(this,m,"f")[s].value-i>=0})(s)&&(i(n)||i(a))},P=function(){const t=z.Canvas.getContext(this.canvas);t.beginPath(),t.arc(E(this,v,"f").x,E(this,v,"f").y,E(this,h,"f"),0,2*Math.PI),t.strokeStyle=L.Theme.text,t.stroke(),B.TextStyles.regular(t),t.fillText(V.TextResources.allDataIsHidden,E(this,v,"f").x,E(this,v,"f").y),requestAnimationFrame(this.render.bind(this))},S=function(){if(E(this,a,"f")){const t=z.Canvas.getContext(this.canvas);E(this,y,"f").call(this,t),t.fillText(this.data.innerTitle,E(this,v,"f").x,E(this,v,"f").y)}},C=function(){const t=this.settings.title?Y.Values.titleOffset:0,e=this.canvas.width>this.canvas.height-2*t?this.canvas.height-2*t:this.canvas.width;D(this,v,{x:this.canvas.width/2,y:t+this.canvas.height/2},"f");let i=0;for(const t of this.data.values){const e=j.Helper.stringWidth(t.label);e>i&&(i=e)}D(this,h,e/2-(i+50),"f"),null!=this.data.innerTitle&&""!=this.data.innerTitle&&(D(this,y,B.TextStyles.large,"f"),D(this,a,j.Helper.stringWidth(this.data.innerTitle,16)<this.data.innerRadius/100*E(this,h,"f")*2,"f"),E(this,a,"f")||(D(this,y,B.TextStyles.regular,"f"),D(this,a,j.Helper.stringWidth(this.data.innerTitle,14)<this.data.innerRadius/100*E(this,h,"f")*2,"f")),E(this,a,"f")||console.warn("Inner title is declared, but can't be rendered")),D(this,d,.1*E(this,h,"f"),"f")}},459:function(t,e,i){var s,n,a,o=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),h=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||(s=function(t){return s=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},s(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),n=0;n<i.length;n++)"default"!==i[n]&&o(e,t,i[n]);return h(e,t),e}),l=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Renderer=void 0;const d=i(688),c=i(10),f=i(927),u=i(359),v=i(147),p=i(168),m=i(601),g=i(869),y=r(i(797));class w extends d.Renderable{constructor(t){super(t),n.add(this),this.isDestroy=!1,this.data=this.settings.data,this.highlightItems=[],this.state=this.settings.disableInitAnimation?g.RenderState.Idle:g.RenderState.Init}render(){super.render(),this.renderTitle()}destroy(){this.isDestroy=!0,this.canvas.remove()}renderDropdown(){this.onClickEvent=this.dropdown?.render(this.onMouseMoveEvent,this.onClickEvent)}resize(){l(this,n,"m",a).call(this),this.tooltip.refresh(),this.dropdown?.resize()}prepareSettings(){const t=this.node.parentElement.getBoundingClientRect();this.settings.minWidth=isNaN(+this.settings.width)?0:+this.settings.width,this.settings.minHeight=isNaN(+this.settings.height)?0:+this.settings.height,this.settings.width=0!=this.settings.minWidth&&t.width<this.settings.minWidth?this.settings.minWidth:t.width,this.settings.height=0!=this.settings.minHeight&&t.height<this.settings.minHeight?this.settings.minHeight:t.height,this.canvas.width=this.settings.width,this.canvas.height=this.settings.height;const e=this.settings.baseColor??c.Helper.randomColor();let i=Math.round(100/this.settings.data.values.length),s=-50;i<=1&&(i=1);for(let t of this.settings.data.values)t.id=c.Helper.guid(),t.color??=c.Helper.adjustColor(e,s+=i),t.label??=v.TextResources.NoLabel;for(let t of this.settings.contextMenu??[])null!=t.id&&(t.action=e=>this.node.dispatchEvent(new CustomEvent(t.id??"",{detail:e})))}initDropdown(){}renderContextMenu(t){if(this.dropdown?.isActive)return this.onContextMenuEvent=void 0,!1;if(null!=this.onContextMenuEvent&&0!=this.settings.contextMenu?.length){if(null==this.contextMenu&&null!=this.settings.contextMenu){let e=[];for(const i of this.settings.contextMenu)i.condition&&!i.condition(t)||e.push({id:i.id,text:i.text,isDivider:i.isDivider,action:()=>{i.action(t),this.onContextMenuEvent=void 0,this.contextMenu=void 0}});this.contextMenu=new u.Dropdown(this.canvas,{x:this.onContextMenuEvent.x-this.canvasPosition.x,y:this.onContextMenuEvent.y-this.canvasPosition.y,items:e,data:t}),this.contextMenu.resize(),this.onClickEvent=void 0}const e=null!=this.onClickEvent;if(this.onClickEvent=this.contextMenu?.render(this.onMouseMoveEvent,this.onClickEvent),null==this.onClickEvent&&e)return this.contextMenu=void 0,this.onContextMenuEvent=void 0,!0}return!1}highlight(t){this.highlightItems=t?[t.id]:[]}closeDropdowns(){this.dropdown?.close(),this.onContextMenuEvent=void 0}renderTitle(){const t=p.Canvas.getContext(this.canvas);this.settings.title&&(m.TextStyles.title(t),t.fillText(this.settings.title,this.canvas.width/2,y.Values.titleOffset))}getMousePosition(t){return{x:t.clientX-this.canvasPosition.x+scrollX,y:t.clientY-this.canvasPosition.y+scrollY}}}e.Renderer=w,n=new WeakSet,a=function(){let t=this.node.getBoundingClientRect();this.settings.width=this.settings.minWidth&&t.width<this.settings.minWidth?this.settings.minWidth:t.width,this.settings.height=this.settings.minHeight&&t.height<this.settings.minHeight?this.settings.minHeight:t.height,this.canvas.width=this.settings.width,this.canvas.height=this.settings.height,this.settings.enableLegend&&(null!=this.settings.legendPlace&&this.settings.legendPlace!=g.LegendPlace.Top&&this.settings.legendPlace!=g.LegendPlace.Bottom||(this.canvas.height-=f.Legend.getLegendHeight(this.settings.data.values,this.canvas.width)),this.settings.legendPlace!=g.LegendPlace.Left&&this.settings.legendPlace!=g.LegendPlace.Right||(this.canvas.width-=500))}},495:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TreeData=void 0,e.TreeData=class{static getRows(t){const e="Value";let i=[];for(const s of t.values)i.push({name:s.label,values:new Map([[e,s.value]])});return{headers:[{value:e,display:e}],values:i}}}},510:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CircularData=void 0,e.CircularData=class{static getRows(t){const e="Value";let i=[];for(const s of t.values)i.push({name:s.label,values:new Map([[e,s.value]])});return{headers:[{value:e,display:e}],values:i}}}},527:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Value=void 0,e.Value=class{toggle(t){0==t&&(this.disabled=!this.disabled)}checkCondition(){return!1}reset(){this.disabled=!1}}},557:function(t,e,i){var s,n,a,o,h,r,l,d,c,f,u,v,p,m,g,y,w,b,x,M,T,P=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),S=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),C=this&&this.__importStar||(s=function(t){return s=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},s(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),n=0;n<i.length;n++)"default"!==i[n]&&P(e,t,i[n]);return S(e,t),e}),k=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i},A=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.PlotRenderer=void 0;const _=i(268),E=i(459),D=i(10),O=i(359),I=i(902),R=i(183),j=i(409),W=i(601),L=i(12),B=i(804),F=i(743),H=i(897),N=i(147),V=i(828),$=i(168),z=i(869),G=C(i(797));class q extends E.Renderer{constructor(t){if(super(t),n.add(this),a.set(this,void 0),o.set(this,void 0),h.set(this,void 0),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),f.set(this,void 0),u.set(this,void 0),v.set(this,void 0),p.set(this,void 0),m.set(this,void 0),g.set(this,void 0),y.set(this,void 0),this.data.values=this.data.values.map(t=>new I.PlotSeries(t)),this.data.values.filter(t=>t.type==z.PlotType.Bar).length>0)for(let t of this.data.values){for(let e of t.values){const t=e.x;e.x=e.y,e.y=t}t.values.sort((t,e)=>e.x>t.x?1:-1)}k(this,h,{top:30,right:40,bottom:50,left:80},"f"),this.settings.title&&(A(this,h,"f").top+=G.Values.titleOffset),this.tooltip=new R.Tooltip(this.canvas,this.settings),k(this,d,new Map,"f"),k(this,c,new Map,"f")}render(){super.render();let t=[new L.TooltipValue(A(this,d,"f").get(Math.round(A(this,r,"f")))??A(this,c,"f").get(Math.round(A(this,l,"f"))))];const e=$.Canvas.getContext(this.canvas);W.TextStyles.regular(e),e.lineJoin="round";const i=j.Theme.lineActive;A(this,n,"m",M).call(this),A(this,n,"m",x).call(this,!0);let s=0,v=0,p=0,m=0,T=0;const P=this.data.values.filter(t=>!t.disabled);let S=0,C=P.filter(t=>t.type==z.PlotType.Column).length,_=0,E=P.filter(t=>t.type==z.PlotType.Bar).length,O=[];for(let t=0;t<A(this,u,"f").length;t++)O.push(0);for(const d of P){e.beginPath(),e.strokeStyle=d.color,e.fillStyle=d.color,e.lineWidth=d.width,e.lineCap="round";const c=0!=this.highlightItems.length;if(!this.animations.contains(d.id,z.AnimationType.Init)){const t=(t,i)=>{if(this.animations.reload(d.id,i),0==t)return;let s=Math.round(255-127*t).toString(16);s.length<2&&(s=0+s),e.fillStyle=d.color+s,e.strokeStyle=d.color+s};c&&!this.highlightItems.includes(d.id)?this.animations.add(d.id,z.AnimationType.AnotherItemOver,{duration:G.Animations.circular,body:e=>{t(e,z.AnimationType.AnotherItemLeave)}}):c||this.animations.add(d.id,z.AnimationType.AnotherItemLeave,{timer:G.Dates.minDate,duration:G.Animations.circular,backward:!0,body:e=>{t(e,z.AnimationType.AnotherItemOver)}})}switch(d.lineType){case z.LineType.Dash:e.setLineDash([3*d.width,2*d.width]);break;case z.LineType.Dotted:e.setLineDash([d.width,d.width]);case z.LineType.Solid:}for(const i of d.values){let x=d.values.indexOf(i),M=A(this,f,"f").indexOf(this.data.xType==z.PlotAxisType.Date?i.x.toString():i.x),P=A(this,u,"f").indexOf(i.y);const D=()=>({x:i.x?this.data.xType==z.PlotAxisType.Date?A(this,f,"f")[M]:V.Formatter.number(A(this,f,"f")[M]):"0",y:i.y?V.Formatter.number(A(this,u,"f")[P]):"0"});switch(s=A(this,h,"f").left,d.type!=z.PlotType.Bar&&(s+=M*A(this,a,"f").step),d.type==z.PlotType.Line&&(s-=A(this,a,"f").step/2-A(this,a,"f").step),d.type){case z.PlotType.Line:v=A(this,h,"f").top+A(this,g,"f").height-i.y/A(this,o,"f").unit*A(this,o,"f").step-Math.abs(A(this,o,"f").min/A(this,o,"f").unit*A(this,o,"f").step);const f=1500/d.values.length*1.2;if(this.state==z.RenderState.Init||this.animations.contains(i.id,z.AnimationType.Init))this.animations.add(i.id,z.AnimationType.Init,{timer:new Date(Date.now()).addMilliseconds(f*(x-1)),duration:f,continuous:!0,body:t=>{if(0==x)return;s=A(this,h,"f").left+M*A(this,a,"f").step-A(this,a,"f").step/2,v=A(this,h,"f").top+A(this,g,"f").height-i.y/A(this,o,"f").unit*A(this,o,"f").step-Math.abs(A(this,o,"f").min/A(this,o,"f").unit*A(this,o,"f").step);const n=d.values[x-1];let r={x:A(this,h,"f").left+M*A(this,a,"f").step-A(this,a,"f").step/2,y:A(this,h,"f").top+A(this,g,"f").height-n.y/A(this,o,"f").unit*A(this,o,"f").step-Math.abs(A(this,o,"f").min/A(this,o,"f").unit*A(this,o,"f").step)};const l=r.x+(A(this,a,"f").step+(s-r.x))*t,c=r.y+(v-r.y)*t;r.x!=l&&r.y!=c&&(e.moveTo(r.x,r.y),e.lineTo(l,c))}});else if(e.lineTo(s,v),A(this,n,"m",w).call(this,s)){const e=this.getMousePosition(this.onMouseMoveEvent);Math.abs(e.y-v)<5&&(k(this,y,{x:s,y:v,index:x,data:i.data,series:d},"f"),t.push(new L.TooltipValue(`${d.label}: ${D().y}`,d.color)),k(this,r,s-A(this,a,"f").step/2,"f"))}break;case z.PlotType.AttentionLine:p=this.canvas.height-A(this,h,"f").bottom-i.y/A(this,o,"f").unit*A(this,o,"f").step,e.moveTo(A(this,h,"f").left,p),this.state==z.RenderState.Init||this.animations.contains(i.id,z.AnimationType.Init)?this.animations.add(i.id,z.AnimationType.Init,{duration:1500,continuous:!0,body:t=>{e.lineTo(A(this,h,"f").left+(this.canvas.width-A(this,h,"f").left-A(this,h,"f").right)*t,this.canvas.height-A(this,h,"f").bottom-i.y/A(this,o,"f").unit*A(this,o,"f").step)}}):e.lineTo(this.canvas.width-A(this,h,"f").right,p);break;case z.PlotType.Column:p=i.y>this.data.yMax?this.data.yMax:i.y,v=A(this,g,"f").height*p/A(this,o,"f").max,v<A(this,o,"f").minStep&&(v=A(this,o,"f").minStep),T=A(this,a,"f").step*(d.width?d.width/100:.5)/C,e.beginPath(),this.state==z.RenderState.Init||this.animations.contains(i.id+S,z.AnimationType.Init)?this.animations.add(i.id+S,z.AnimationType.Init,{duration:800,continuous:!0,body:t=>{p=i.y>this.data.yMax?this.data.yMax:i.y,s=A(this,h,"f").left+M*A(this,a,"f").step,v=A(this,g,"f").height*p/A(this,o,"f").max*t,v<A(this,o,"f").minStep&&(v=A(this,o,"f").minStep*t),S=this.data.values.filter(t=>t.type==z.PlotType.Column).indexOf(d),e.roundRect(s+S*T+(A(this,a,"f").step-C*T)/2,this.canvas.height-A(this,h,"f").bottom-v,T,v,[6,6,0,0]),e.fill()}}):(c||(!A(this,n,"m",b).call(this,s+S*T+(A(this,a,"f").step-C*T)/2,this.canvas.height-A(this,h,"f").bottom-v,T,v)||null!=this.contextMenu?.isActive&&0!=this.contextMenu?.isActive?e.fillStyle=d.color:(k(this,y,{x:s,y:v,index:x,data:i.data,series:d},"f"),t.push(new L.TooltipValue(`${d.label}: ${D().y}`,d.color)),k(this,r,s,"f"),e.fillStyle+="88")),e.roundRect(s+S*T+(A(this,a,"f").step-C*T)/2,this.canvas.height-A(this,h,"f").bottom-v,T,v,[6,6,0,0]),e.fill());break;case z.PlotType.Bar:v=A(this,h,"f").top+P*A(this,o,"f").step+A(this,o,"f").step/2+(100-d.width)*A(this,o,"f").step/100/2;const u=d.width*A(this,o,"f").step/100/E;this.state==z.RenderState.Init||this.animations.contains(i.id+_,z.AnimationType.Init)?this.animations.add(i.id+_,z.AnimationType.Init,{duration:800,continuous:!0,body:t=>{v=A(this,h,"f").top+P*A(this,o,"f").step+A(this,o,"f").step/2+(100-d.width)*A(this,o,"f").step/100/2,_=this.data.values.filter(t=>t.type==z.PlotType.Bar).indexOf(d),e.fillRect(s,v-A(this,o,"f").step/2+_*u,i.x/A(this,a,"f").unit*A(this,a,"f").step*t,u)}}):(c||(A(this,n,"m",b).call(this,s,v-A(this,o,"f").step/2+_*u,i.x/A(this,a,"f").unit*A(this,a,"f").step,u)?(k(this,y,{x:s,y:v,index:x,data:i.data,series:d},"f"),e.fillStyle+="88",t.push(new L.TooltipValue(`${d.label}: ${D().x}`,d.color)),k(this,l,v-A(this,o,"f").step/2,"f")):e.fillStyle=d.color),e.fillRect(s,v-A(this,o,"f").step/2+_*u,i.x/A(this,a,"f").unit*A(this,a,"f").step,u));break;case z.PlotType.StackingColumn:if(v=this.canvas.height-A(this,h,"f").bottom-i.y/A(this,o,"f").unit*A(this,o,"f").step,T=A(this,a,"f").step*(d.width?d.width/100:.5),this.state==z.RenderState.Init||this.animations.contains(i.id+x,z.AnimationType.Init))this.animations.add(i.id+x,z.AnimationType.Init,{duration:800,continuous:!0,body:t=>{S=this.data.values.filter(t=>t.type==z.PlotType.StackingColumn&&t.values.filter(t=>t.x==i.x).length>0).indexOf(d),s=A(this,h,"f").left+M*A(this,a,"f").step,v=this.canvas.height-A(this,h,"f").bottom-i.y/A(this,o,"f").unit*A(this,o,"f").step,0==S&&(O[M]=0);let n=null!=O[M]?O[M]:0;p=this.canvas.height-A(this,h,"f").bottom+n,m=(v-this.canvas.height+A(this,h,"f").bottom)*t,p>A(this,h,"f").top&&(p+m<A(this,h,"f").top&&(m-=p+m-A(this,h,"f").top),e.fillRect(s+(A(this,a,"f").step-T)/2,p,T,m)),O[M]+=(v-this.canvas.height+A(this,h,"f").bottom)*t}});else{0==S&&(O[M]=0);let o=null!=O[M]?O[M]:0;p=this.canvas.height-A(this,h,"f").bottom+o,m=v-this.canvas.height+A(this,h,"f").bottom,p>A(this,h,"f").top&&(p+m<A(this,h,"f").top&&(m-=p+m-A(this,h,"f").top),c||(A(this,n,"m",b).call(this,s+(A(this,a,"f").step-T)/2,p+m,T,Math.abs(m))?(k(this,y,{x:s,y:v,index:M,data:i.data,series:d},"f"),t.push(new L.TooltipValue(`${d.label}: ${D().y}`,d.color)),k(this,r,s,"f"),e.fillStyle+="88"):e.fillStyle=d.color),e.fillRect(s+(A(this,a,"f").step-T)/2,p,T,m)),O[M]+=v-this.canvas.height+A(this,h,"f").bottom}}}switch(e.setLineDash([]),d.type){case z.PlotType.Line:if(e.stroke(),A(this,y,"f")&&A(this,y,"f").series==d){e.beginPath(),e.lineWidth=1,e.strokeStyle=i,e.moveTo(A(this,h,"f").left,A(this,y,"f").y),e.lineTo(this.canvas.width-A(this,h,"f").right,A(this,y,"f").y),e.stroke();let t=Math.round(1.1*d.width);t<5&&(t=5),e.beginPath(),e.arc(A(this,y,"f").x,A(this,y,"f").y,t,0,2*Math.PI),e.fill(),e.lineWidth=Math.ceil(t/2),e.strokeStyle=D.Helper.adjustColor(d.color,50),e.stroke()}break;case z.PlotType.AttentionLine:e.stroke(),W.TextStyles.regular(e),e.fillText(d.label,A(this,h,"f").left+(this.canvas.width-A(this,h,"f").left-A(this,h,"f").right)/2,this.canvas.height-A(this,h,"f").bottom-d.values[0].y/A(this,o,"f").unit*A(this,o,"f").step+16);break;case z.PlotType.Column:case z.PlotType.StackingColumn:if(A(this,y,"f")){let t=null!=O[A(this,y,"f").index]?O[A(this,y,"f").index]:0;this.canvas.height-A(this,h,"f").bottom+t>A(this,h,"f").top&&(e.beginPath(),e.lineWidth=1,e.strokeStyle=i,e.moveTo(A(this,r,"f")+A(this,a,"f").step/2,A(this,h,"f").top),e.lineTo(A(this,r,"f")+A(this,a,"f").step/2,this.canvas.height-A(this,h,"f").bottom+t),e.stroke())}S++;break;case z.PlotType.Bar:A(this,y,"f")&&(e.lineWidth=1,e.strokeStyle=i,e.moveTo(A(this,h,"f").left,A(this,l,"f")+A(this,o,"f").step/2),e.lineTo(this.canvas.width-A(this,h,"f").right,A(this,l,"f")+A(this,o,"f").step/2),e.stroke()),_++}}A(this,n,"m",x).call(this),this.renderTitle(),this.tooltip.render(t.length>1&&!this.dropdown?.isActive,this.onMouseMoveEvent,t,A(this,y,"f")?A(this,y,"f").series.values[A(this,y,"f").index]:void 0),this.isDestroy||requestAnimationFrame(this.render.bind(this)),this.state=z.RenderState.Idle,super.renderDropdown(),this.onContextMenuEvent&&!A(this,y,"f")&&(this.onContextMenuEvent=void 0),!A(this,y,"f")||!this.renderContextMenu(A(this,y,"f").data)&&this.onContextMenuEvent||k(this,y,void 0,"f")}refresh(){super.refresh()}resize(){super.resize(),k(this,v,void 0,"f"),A(this,n,"m",T).call(this)}prepareSettings(){super.prepareSettings();for(let t of this.data.values){t.disabled=!t.values,t.type??=z.PlotType.Line;for(let e of t.values)e.id=D.Helper.guid(),this.data.xType==z.PlotAxisType.Date&&(D.Helper.isISOString(e.x)?e.x=new Date(e.x):console.warn(`${e.x} is not a date in ISO format.`))}}initDropdown(){super.initDropdown(),this.dropdown=new O.Dropdown(this.canvas,{x:-10,y:10,icon:z.Icon.ThreeLines,items:[{text:N.TextResources.exportPNG,action:()=>{B.Export.asPng(this.canvas,this.settings.title)}},{text:N.TextResources.exportCSV,action:()=>{B.Export.asCsv(F.Decomposition.toTable(_.PlotData.getRows(this.data)),this.settings.title)}},{isDivider:!0},{text:N.TextResources.decomposeToTable,action:()=>{new H.Modal(F.Decomposition.toTable(_.PlotData.getRows(this.data))).open()}}]})}}e.PlotRenderer=q,a=new WeakMap,o=new WeakMap,h=new WeakMap,r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,f=new WeakMap,u=new WeakMap,v=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,n=new WeakSet,w=function(t){if(!this.onMouseMoveEvent)return!1;const e=this.getMousePosition(this.onMouseMoveEvent);return!this.dropdown?.isActive&&t-A(this,a,"f").step/2<=e.x&&e.x<t+A(this,a,"f").step/2&&A(this,h,"f").top<=e.y&&e.y<=this.canvas.height-A(this,h,"f").bottom&&A(this,h,"f").left<e.x},b=function(t,e,i,s){if(!this.onMouseMoveEvent)return!1;const n=this.getMousePosition(this.onMouseMoveEvent);return!this.dropdown?.isActive&&n.x>=t&&n.x<=t+i&&n.y>=e&&n.y<=e+s},x=function(t=!1){if(A(this,v,"f")&&t)return;if(this.data.simple)return;const e=$.Canvas.getContext(this.canvas);if(t&&e.clearRect(0,0,this.canvas.width,this.canvas.height),A(this,v,"f"))return void e.drawImage(A(this,v,"f"),0,0);if(!t)return;e.fillStyle=j.Theme.canvasBackground,e.fillRect(0,0,A(this,h,"f").left,this.canvas.height),e.fillRect(0,0,this.canvas.width,A(this,h,"f").top),e.fillRect(this.canvas.width-A(this,h,"f").right,0,this.canvas.width,this.canvas.height),e.fillRect(0,this.canvas.height-A(this,h,"f").bottom,this.canvas.width,this.canvas.height);const i=this.data.values.filter(t=>t.type==z.PlotType.Bar).length>0;(this.data.xTitle||this.data.yTitle)&&(e.textAlign="center",e.textBaseline="bottom",e.fillStyle=j.Theme.text,this.data.xTitle&&e.fillText(this.data.xTitle,A(this,h,"f").left+(this.canvas.width-A(this,h,"f").left-A(this,h,"f").right)/2,this.canvas.height-4),this.data.yTitle&&(e.rotate(-Math.PI/2),e.textBaseline="top",e.fillText(this.data.yTitle,-(A(this,h,"f").top+(this.canvas.height-A(this,h,"f").top-A(this,h,"f").bottom)/2),8),e.resetTransform())),e.textAlign="center",e.textBaseline="top";const s=A(this,a,"f").step,n=this.canvas.height-A(this,h,"f").bottom;let r=0,l=A(this,h,"f").left+s/2;for(let t=0;t<A(this,f,"f").length+1;t++)A(this,d,"f").trySet(Math.round(A(this,h,"f").left+t*A(this,a,"f").step),this.data.xType==z.PlotAxisType.Date?V.Formatter.date(new Date(A(this,f,"f")[t-1])):isNaN(+A(this,a,"f").min)||!isFinite(+A(this,a,"f").min)?A(this,f,"f")[t-1]:V.Formatter.number(A(this,a,"f").min+t*(A(this,a,"f").max-A(this,a,"f").min)/(A(this,a,"f").count-1)));const p=Math.max(...[...A(this,d,"f").values()].map(t=>Math.ceil(D.Helper.stringWidth(t))))+10,g=Math.floor((this.canvas.width-A(this,h,"f").left-A(this,h,"f").right)/p),y=Math.ceil(1/(g/A(this,f,"f").length));for(;l<this.canvas.width-A(this,h,"f").right;)r%y==0&&(e.fillStyle=j.Theme.text+"b7",e.fillText(A(this,d,"f").get(Math.round(l-A(this,a,"f").step/2))??"",l,n+6)),l+=s,r++;e.textAlign="right",e.textBaseline="middle";const w=A(this,o,"f").count>10?10:A(this,o,"f").count;let b=i?1:0,x=A(this,u,"f").length/w;for(let t=i?1:0;t<A(this,u,"f").length+1;t++){const s=this.canvas.height-b*x*A(this,o,"f").step-A(this,h,"f").bottom,n=Math.round(this.canvas.height-t*A(this,o,"f").step-A(this,h,"f").bottom);if(A(this,c,"f").get(n)||A(this,c,"f").set(n,V.Formatter.number(A(this,o,"f").min+(t+(i?-1:0))*(A(this,o,"f").max-A(this,o,"f").min)/A(this,o,"f").count)),t>=b*x){const t={x:A(this,h,"f").left,y:s,label:A(this,m,"f")>=1?Math.round((A(this,o,"f").min+(b*x+(i?-1:0))*(A(this,o,"f").max-A(this,o,"f").min)/A(this,o,"f").count)/A(this,m,"f"))*A(this,m,"f"):Math.round(A(this,o,"f").min+(b*x+(i?-1:0))*(A(this,o,"f").max-A(this,o,"f").min)/A(this,o,"f").count/A(this,m,"f"))*A(this,m,"f")};let n="";if(this.data.shortLabels){const e=Math.floor(t.label.toString().length/4);e>0&&(t.label/=Math.pow(1e3,e),n=[N.TextResources.ThousandShort,N.TextResources.MillionShort,N.TextResources.BillionShort][e-1])}e.fillText(V.Formatter.number(t.label)+n,t.x-12,t.y+(i?A(this,o,"f").step/2:0)),b++}}e.beginPath(),e.strokeStyle=j.Theme.line,e.lineWidth=1;const M=.5,T=this.data.values.filter(t=>t.type==z.PlotType.Bar).length>0;e.moveTo(A(this,h,"f").left-M,this.canvas.height-A(this,h,"f").bottom+(T?-.5:M)),T?e.lineTo(A(this,h,"f").left-M,A(this,h,"f").top):e.lineTo(this.canvas.width-A(this,h,"f").right,this.canvas.height-A(this,h,"f").bottom+M),e.stroke(),this.canvas.width>0&&this.canvas.height>0&&createImageBitmap(e.getImageData(0,0,this.canvas.width,this.canvas.height)).then(t=>k(this,v,t,"f"))},M=function(){if(this.data.simple)return;const t=$.Canvas.getContext(this.canvas);if(A(this,p,"f"))return void t.putImageData(A(this,p,"f"),0,0);t.fillStyle=j.Theme.canvasBackground,t.fillRect(0,0,this.canvas.width,this.canvas.height);const e=j.Theme.lineAxis,i=this.data.values.filter(t=>t.type==z.PlotType.Bar).length>0;if(i){const i=A(this,a,"f").step,s=this.canvas.height-A(this,h,"f").bottom;let n=0,o=A(this,h,"f").left+i/2;for(let t=0;t<A(this,f,"f").length+1;t++)A(this,d,"f").trySet(Math.round(A(this,h,"f").left+t*A(this,a,"f").step),this.data.xType==z.PlotAxisType.Date?V.Formatter.date(new Date(A(this,f,"f")[t-1])):isNaN(+A(this,a,"f").min)||!isFinite(+A(this,a,"f").min)?A(this,f,"f")[t-1]:V.Formatter.number(A(this,a,"f").min+t*(A(this,a,"f").max-A(this,a,"f").min)/(A(this,a,"f").count-1)));const r=Math.max(...[...A(this,d,"f").values()].map(t=>Math.ceil(D.Helper.stringWidth(t))))+10,l=Math.floor((this.canvas.width-A(this,h,"f").left-A(this,h,"f").right)/r),c=Math.ceil(1/(l/A(this,f,"f").length));for(;o<this.canvas.width-A(this,h,"f").right;)n%c==0&&(t.beginPath(),t.moveTo(o,s),t.lineTo(o,A(this,h,"f").top),t.lineWidth=1,t.strokeStyle=e,t.setLineDash([6,6]),t.stroke()),o+=i,n++}t.textAlign="right",t.textBaseline="middle";const s=A(this,o,"f").count>10?10:A(this,o,"f").count;let n=i?1:0,r=A(this,u,"f").length/s;for(let s=i?1:0;s<A(this,u,"f").length+1;s++){const i=this.canvas.height-n*r*A(this,o,"f").step-A(this,h,"f").bottom;if(s>=n*r){const s={x:A(this,h,"f").left,y:i};this.data.values.filter(t=>t.type.isAnyEquals(z.PlotType.Column,z.PlotType.StackingColumn,z.PlotType.Line)).length>0&&(t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(this.canvas.width-A(this,h,"f").right,s.y),t.lineWidth=1,t.strokeStyle=e,t.setLineDash([6,6]),t.stroke()),n++}}this.canvas.width>0&&this.canvas.height>0&&k(this,p,t.getImageData(0,0,this.canvas.width,this.canvas.height),"f")},T=function(){let t=this.data.values.flatMap(t=>t.values.map(t=>t.x)),e=this.data.values.flatMap(t=>t.values.map(t=>t.y));const i=this.data.xType==z.PlotAxisType.Date;if(i){let e=new Date(Math.min(...t));for(;e.getTime()<Math.max(...t);)t.includes(e.getTime())||t.push(new Date(e.getTime())),e=e.addDays(1);t.sort((t,e)=>t<e?-1:1)}e.sort((t,e)=>e>t?-1:1),k(this,f,[...new Set(t.filter(t=>null!=t).map(t=>i?t.toString():t))],"f"),k(this,u,[...new Set(e.filter(t=>null!=t))],"f"),k(this,a,{min:Math.min(...t),max:Math.max(...t),unit:(Math.abs(Math.min(...t))+Math.abs(Math.max(...t)))/(A(this,f,"f").length-1),step:(this.canvas.width-A(this,h,"f").left-A(this,h,"f").right)/A(this,f,"f").length,minStep:0,count:A(this,f,"f").length},"f");let s=Math.min(...e);s>0&&(s=0),k(this,o,{min:s,max:this.data.yMax??Math.max(...e),unit:(Math.abs(s)+Math.abs(this.data.yMax??Math.max(...e)))/(A(this,u,"f").length-1),step:(this.canvas.height-A(this,h,"f").top-A(this,h,"f").bottom)/A(this,u,"f").length,minStep:0,count:A(this,u,"f").length},"f");let n,r=this.data.values.filter(t=>t.type==z.PlotType.StackingColumn);if(r.length>0){let t=r.map(t=>t.values.flatMap(t=>+t.y));n=A(this,o,"f").max;for(let e=0;e<t[0].length;e++){let i=0;for(const s of t)i+=s[e];i>n&&(n=i)}A(this,o,"f").max=n>this.data.yMax?this.data.yMax:n,A(this,o,"f").unit=(Math.abs(A(this,o,"f").min)+Math.abs(A(this,o,"f").max))/(A(this,u,"f").length-1)}const l=D.Helper.stringWidth(V.Formatter.number(A(this,o,"f").max));l>A(this,h,"f").left-40&&(A(this,h,"f").left+=l-A(this,h,"f").left+40,A(this,a,"f").step=(this.canvas.width-A(this,h,"f").left-A(this,h,"f").right)/A(this,f,"f").length),k(this,m,Math.abs(A(this,o,"f").min)+Math.abs(A(this,o,"f").max),"f"),.5<=A(this,m,"f")&&A(this,m,"f")<1?k(this,m,.05,"f"):1<=A(this,m,"f")&&A(this,m,"f")<10?k(this,m,.1,"f"):10<=A(this,m,"f")&&A(this,m,"f")<100?k(this,m,2,"f"):100<=A(this,m,"f")&&A(this,m,"f")<1e3?k(this,m,20,"f"):1e3<=A(this,m,"f")&&A(this,m,"f")<1e4?k(this,m,50,"f"):1e4<=A(this,m,"f")&&A(this,m,"f")<1e5?k(this,m,1e3,"f"):1e5<=A(this,m,"f")&&A(this,m,"f")<1e6?k(this,m,1e4,"f"):1e6<=A(this,m,"f")&&A(this,m,"f")<1e7?k(this,m,5e4,"f"):k(this,m,1,"f"),1!=A(this,m,"f")&&(n=e.length>10?10*(A(this,o,"f").max/10+A(this,m,"f")-A(this,o,"f").max/10%A(this,m,"f")):Math.ceil(A(this,o,"f").max/A(this,m,"f"))*A(this,m,"f"),A(this,o,"f").max=n>this.data.yMax?this.data.yMax:n,A(this,o,"f").unit=(Math.abs(A(this,o,"f").min)+Math.abs(A(this,o,"f").max))/A(this,u,"f").length),k(this,g,{width:this.canvas.width-A(this,h,"f").left-A(this,h,"f").right,height:this.canvas.height-A(this,h,"f").top-A(this,h,"f").bottom},"f"),A(this,a,"f").minStep=.002*A(this,g,"f").width,A(this,o,"f").minStep=.002*A(this,g,"f").height}},572:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Dates=void 0;class i{}e.Dates=i,i.minDate=new Date(2e3,1,1)},601:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextStyles=void 0;const s=i(409);e.TextStyles=class{static title(t){t.fillStyle=s.Theme.text,t.textAlign="center",t.textBaseline="middle",t.font="20px sans-serif"}static regular(t){t.fillStyle=s.Theme.text,t.textAlign="center",t.textBaseline="middle",t.font="14px sans-serif"}static large(t){t.fillStyle=s.Theme.text,t.textAlign="center",t.textBaseline="middle",t.font="16px sans-serif"}static tooltip(t){t.font="14px sans-serif",t.textAlign="start",t.textBaseline="alphabetic"}static circularLabel(t,e){t.textAlign=e?"start":"end",t.textBaseline="alphabetic",t.font="14px sans-serif"}}},688:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Renderable=void 0;const s=i(5),n=i(183),a=i(168),o=i(869),h=i(283),r=i(409);e.Renderable=class{constructor(t){this.state=o.RenderState.Init,this.node=t.node,this.settings=t.settings,this.animations=new s.Animations,this.canvas=document.createElement(o.Tag.Canvas),this.canvas.style.imageRendering=h.Styles.ImageRendering.Pixelated,this.node.append(this.canvas),this.tooltip=new n.Tooltip(this.canvas,this.settings),this.initAnimations()}render(){const t=a.Canvas.getContext(this.canvas);t.fillStyle=r.Theme.canvasBackground,t.fillRect(0,0,this.canvas.width,this.canvas.height)}refresh(){this.tooltip.refresh(),this.state=this.settings.disableInitAnimation?o.RenderState.Idle:o.RenderState.Init}resetMouse(){this.onMouseMoveEvent=new MouseEvent(o.Events.MouseMove),this.onClickEvent=new MouseEvent(o.Events.Click),this.onContextMenuEvent=void 0}initAnimations(){this.canvasPosition=this.canvas.getBoundingClientRect(),this.canvasPosition.x+=scrollX,this.canvasPosition.y+=scrollY,this.state!=o.RenderState.Init||this.settings.disableInteractions||(this.canvas.onmousemove=t=>this.onMouseMoveEvent=t,this.canvas.onclick=t=>this.onClickEvent=t,this.canvas.oncontextmenu=t=>{t.preventDefault(),this.contextMenu=void 0,this.onContextMenuEvent?this.onContextMenuEvent=void 0:this.onContextMenuEvent=t},this.canvas.onmouseleave=()=>this.onMouseMoveEvent=new MouseEvent(o.Events.MouseMove))}}},690:function(t,e,i){var s,n,a,o,h=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),l=this&&this.__importStar||(s=function(t){return s=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},s(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),n=0;n<i.length;n++)"default"!==i[n]&&h(e,t,i[n]);return r(e,t),e}),d=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.TreeRenderer=void 0;const c=i(495),f=i(459),u=i(138),v=i(10),p=i(359),m=i(601),g=i(12),y=i(804),w=i(743),b=i(897),x=i(147),M=i(168),T=i(828),P=i(869),S=l(i(797));class C extends f.Renderer{constructor(t){super(t),n.add(this),this.settings.enableLegend=!1,this.data.values=this.data.values.map(t=>new u.Sector(t))}render(){if(super.render(),0==this.data.values.filter(t=>t.value>0).length)return void d(this,n,"m",o).call(this);const t=this.settings.title?S.Values.titleOffset:0,e=this.canvas.width-2*this.data.padding,i=this.canvas.height-2*this.data.padding-t;let s,h,r=this.data.values.reduce((t,e)=>t+e.value,0),l=e*i,c=this.data.padding,f=this.data.padding+t,u=this.data.padding,p=this.data.padding+t;const y=M.Canvas.getContext(this.canvas);let w=!0;for(let o=0;o<this.data.values.length;o++){const g=this.data.values[o],b=e-(c-this.data.padding),x=i-(f-this.data.padding-t);let M=[{color:g.color,label:g.label,s:g.value/r*l,value:g.value,id:g.id,x:c,y:f}];if(o+1<=this.data.values.length-1){const t=this.data.values[o+1];M.push({color:t.color,label:t.label,s:t.value/r*l,value:t.value,id:t.id,x:c,y:f}),o++}const T=1==M.length,C=o==this.data.values.length-1;if(w)for(let t=1;t<=b+o*o;t++){const e=b-t,i=M[0].s/e;if(i+(T?0:M[1].s/e)>=x){M[0].w=Math.floor(e),M[0].h=Math.floor(i),T||(M[1].w=Math.floor(e),M[1].h=x-M[0].h,M[1].y+=M[0].h);break}}else for(let t=1;t<=x+o*o;t++){const e=x-t,i=M[0].s/e;if(i+(T?0:M[1].s/e)>=b){M[0].h=Math.floor(e),M[0].w=Math.floor(i),T||(M[1].h=Math.floor(e),M[1].w=b-M[0].w,M[1].x+=M[0].w);break}}for(const t of M){C&&(w?(t.w=b,T&&(t.h=x)):(t.h=x,T&&(t.w=b))),y.beginPath(),y.fillStyle=t.color;const e=this.state!=P.RenderState.Init&&!this.animations.contains(t.id,P.AnimationType.Init),i=o+M.indexOf(t)+(C&&T?1:0),u=260,p=()=>{let t=0;for(let e=0;e<i;e++)t+=u-u*(e/this.data.values.length)/Math.E;return t},g=u-u*i/(this.data.values.length+1);if(e){const e=(e,i)=>{const s=t.x+t.w/2,n=t.y+t.h/2,a=t.w>t.h?1-12/t.w:1-12/t.h,o=1-a;y.translate(s-s*(a+e*o),n-n*(a+e*o)),y.scale(a+e*o,a+e*o),this.animations.reload(t.id,i)};d(this,n,"m",a).call(this,t)&&!s?(s=t,h=t.data,this.animations.add(t.id,P.AnimationType.MouseOver,{duration:S.Animations.tree,backward:!0,body:t=>{e(t,P.AnimationType.MouseLeave)}})):this.animations.add(t.id,P.AnimationType.MouseLeave,{timer:S.Dates.minDate,duration:S.Animations.tree,body:t=>{e(t,P.AnimationType.MouseOver)}})}else this.animations.add(t.id,P.AnimationType.Init,{duration:p(),continuous:!0,body:e=>{if(e*p()-p()+g<0)return y.fillStyle+="00";e=(e*p()-p()+g)/g;const i=t.x+t.w/2,s=t.y+t.h/2,n=.7,a=1-n;y.translate(i-i*(n+e*a),s-s*(n+e*a)),y.scale(n+e*a,n+e*a);let o=Math.round(255*e).toString(16);o.length<2&&(o=0+o),y.fillStyle=t.color+o}});const k=4;y.roundRect(c+k,f+k,t.w-k,t.h-k,2*k),y.fill(),t.label&&v.Helper.stringWidth(t.label)<t.w-k&&t.h-k>16&&!this.animations.contains(t.id,P.AnimationType.Init)&&(y.beginPath(),m.TextStyles.large(y),y.fillStyle=v.Helper.isColorVisible(t.color,"#ffffff")?"#ffffff":"#000000",y.fillText(t.label,c+2+t.w/2,f+2+t.h/2)),y.resetTransform(),w?f+=t.h:c+=t.w,l-=t.w*t.h,r-=t.value}w?(c+=M[0].w,f=p):(f+=M[0].h,c=u),u=c,p=f,w=!w}this.tooltip.render(!!s&&!this.dropdown?.isActive,this.onMouseMoveEvent,[new g.TooltipValue(`${s?.label}: ${T.Formatter.number(s?.value)}`)],this.data.values.find(t=>t.id==s?.id)),this.isDestroy||requestAnimationFrame(this.render.bind(this)),this.state=P.RenderState.Idle,super.renderDropdown(),s||this.contextMenu?this.renderContextMenu(h):this.onContextMenuEvent=void 0}refresh(){super.refresh()}resize(){super.resize(),this.initAnimations(),this.animations.clear()}prepareSettings(){this.data.values=this.data.values.filter(t=>t.value>0),this.data.values.sort((t,e)=>(e.value??0)-(t.value??0)),super.prepareSettings();for(let t of this.data.values)t.disabled=!t.value,t.value??=0}initDropdown(){super.initDropdown(),this.dropdown=new p.Dropdown(this.canvas,{x:-10,y:10,icon:P.Icon.ThreeLines,items:[{text:x.TextResources.exportCSV,action:()=>{y.Export.asCsv(w.Decomposition.toTable(c.TreeData.getRows(this.data)),this.settings.title)}},{isDivider:!0},{text:x.TextResources.decomposeToTable,action:()=>{new b.Modal(w.Decomposition.toTable(c.TreeData.getRows(this.data))).open()}}]})}}e.TreeRenderer=C,n=new WeakSet,a=function(t){if(!this.onMouseMoveEvent||!t)return!1;const e=this.getMousePosition(this.onMouseMoveEvent);return!this.dropdown?.isActive&&t.x<=e.x&&e.x<=t.x+t.w&&t.y<=e.y&&e.y<=t.y+t.h},o=function(){const t=M.Canvas.getContext(this.canvas);m.TextStyles.regular(t),t.fillText(x.TextResources.incorrectValues,this.canvas.width/2,this.canvas.height/2)}},743:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Decomposition=void 0;const s=i(10),n=i(828),a=i(283),o=i(869);e.Decomposition=class{static toTable(t){let e=document.createElement(o.Tag.Table);e.classList.add("o-table");let i=new Map,s="",a="",h=new Map;for(const e of t.values){let i=new Map;for(const e of t.headers)i.set(e.value,0);for(const[t,s]of e.values)i.set(t,s);h.set(e.name,i)}for(const e of t.headers)a+=`\n                <th>\n                    ${e.display}\n                </th>\n            `;for(const[t,e]of h){let a="";for(const[t,s]of e)if(a+=`\n                    <td>\n                        ${null==s?"":n.Formatter.number(s)}\n                    </td>\n                `,i.has(t)){let e=+(i.get(t)??0);i.set(t,e+ +s)}else i.set(t,s);s+=`\n                <tr>\n                    <td class="o-table-label">\n                        ${t}\n                    </td>\n                    \n                    ${a} \n                </tr>\n            `}let r="";for(const[,t]of i)r+=`\n                <td>\n                    ${null==t?"":n.Formatter.number(t)}\n                </td>\n            `;return e.innerHTML=`\n            <thead>\n                <tr>\n                    <th></th>\n                \n                    ${a}\n                </tr>\n            </thead>\n        \n            <tbody>\n                ${s}\n            </tbody>\n            \n            <tfoot>\n                <tr>\n                    <td></td>\n                \n                    ${r}\n                </tr>\n            </tfoot>\n        `,e}static toChart(t,e){let i=document.createElement(o.Tag.Div),n=document.createElement(o.Tag.Div),h=document.createElement(o.Tag.Script),r=s.Helper.guid();i.style.display=a.Styles.Display.Flex,i.style.height="100%",n.id=r,n.style.flexGrow="1";let l=JSON.parse(JSON.stringify(t));return l.title&&(l.title=l.title+" (Other)"),l.data.values=e,l.minWidth=void 0,l.minHeight=void 0,h.innerHTML=`\n            new OCharts.chart(document.getElementById('${r}'), ${JSON.stringify(l)})\n                .render()\n        `,i.append(n,h),i}}},797:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Values=e.Dates=e.Animations=void 0;var s=i(126);Object.defineProperty(e,"Animations",{enumerable:!0,get:function(){return s.Animations}});var n=i(572);Object.defineProperty(e,"Dates",{enumerable:!0,get:function(){return n.Dates}});var a=i(975);Object.defineProperty(e,"Values",{enumerable:!0,get:function(){return a.Values}})},801:function(t,e,i){var s,n,a,o,h,r,l=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},d=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.GaugeRenderer=void 0;const c=i(459),f=i(10),u=i(359),v=i(409),p=i(601),m=i(12),g=i(804),y=i(828),w=i(168),b=i(147),x=i(869);class M extends c.Renderer{constructor(t){super(t),s.add(this),n.set(this,void 0),a.set(this,void 0),this.settings.enableLegend=!1}render(){super.render(),l(this,s,"m",o).call(this);const t=this.data.values[0];this.tooltip.render(l(this,s,"m",h).call(this,this.onMouseMoveEvent,t)&&!this.dropdown?.isActive,this.onMouseMoveEvent,[new m.TooltipValue(`${t?.label}: ${y.Formatter.number(t?.current)}`)],t),this.isDestroy||requestAnimationFrame(this.render.bind(this)),this.state=x.RenderState.Idle,super.renderDropdown()}refresh(){super.refresh()}resize(){super.resize(),this.initAnimations(),l(this,s,"m",r).call(this)}prepareSettings(){super.prepareSettings();for(let t of this.data.values)t.disabled=!t.value,t.value??=0;this.data.values.length>0&&this.data.values[0].value>this.data.max&&(this.data.values[0].value=this.data.max)}initDropdown(){super.initDropdown(),this.dropdown=new u.Dropdown(this.canvas,{x:-10,y:10,icon:x.Icon.ThreeLines,items:[{text:b.TextResources.exportPNG,action:()=>{g.Export.asPng(this.canvas,this.settings.title)}}]})}}e.GaugeRenderer=M,n=new WeakMap,a=new WeakMap,s=new WeakSet,o=function(){const t=w.Canvas.getContext(this.canvas),e=this.data.values[0]??{id:f.Helper.guid()};(this.state==x.RenderState.Init||this.animations.contains(e.id,x.AnimationType.Init))&&this.animations.add(e.id,x.AnimationType.Init,{duration:450,continuous:!0,body:t=>{e.current=e.value*t}}),t.beginPath(),t.strokeStyle=e.color,t.lineCap="round",t.lineWidth=40;const i=e.current/this.data.max,s=(isNaN(i)?1:i)*Math.PI;e.value&&(t.arc(l(this,a,"f").x,l(this,a,"f").y,l(this,n,"f"),Math.PI,s-Math.PI),t.stroke()),t.beginPath(),t.lineWidth=1,t.lineCap="square";let o=0,h=Math.PI;for(;h>=0;){let e=h-Math.PI/10>0?Math.PI/10:h;const i=t=>({x:l(this,a,"f").x+(l(this,n,"f")+t)*Math.cos(Math.PI+o),y:l(this,a,"f").y+(l(this,n,"f")+t)*Math.sin(Math.PI+o)});let r=i(50),d=i(90),c=i(115);const f=Math.PI-h>s?"66":"ff";t.moveTo(r.x,r.y),t.lineTo(d.x,d.y),t.strokeStyle=v.Theme.text+f,t.stroke(),p.TextStyles.regular(t),t.fillStyle=v.Theme.text+f,t.fillText(y.Formatter.number(this.data.max-h/Math.PI*this.data.max),c.x,c.y),o+=e,h-=Math.PI/10}},h=function(t,e){if(!t)return!1;const i=this.getMousePosition(t),s={x:i.x-l(this,a,"f").x,y:i.y-l(this,a,"f").y};return!this.dropdown?.isActive&&(t=>{let i=Math.atan2(t.y-l(this,a,"f").y,t.x-l(this,a,"f").x);i<0&&(i+=2*Math.PI);const s=e.current/this.data.max,n=(isNaN(s)?1:s)*Math.PI;return i>Math.PI&&Math.PI+n>=i})(i)&&(t=>{const e=l(this,n,"f")+20,i=l(this,n,"f")-20;return t.x*t.x+t.y*t.y<=e*e&&t.x*t.x+t.y*t.y>=i*i})(s)},r=function(){const t=this.canvas.width<this.canvas.height?this.canvas.height-250:this.canvas.width;d(this,n,t/3,"f"),d(this,a,{x:this.canvas.width/2,y:this.canvas.height-l(this,n,"f")/5},"f")}},804:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Export=void 0;const s=i(409),n=i(10),a=i(168),o=i(869);class h{static asPng(t,e){requestAnimationFrame(()=>{const i=a.Canvas.getContext(t);let r=n.Helper.stringWidth(o.Icon.ThreeLines)+20;i.fillStyle=s.Theme.canvasBackground,i.fillRect(t.width-r,0,r,64);let l=0,d=0;const c=new Uint32Array(i.getImageData(0,0,t.width,t.height).data.buffer);let f=!1;for(let e=0;e<t.width;e++){for(let i=0;i<t.height;i++)if(a.Canvas.isPixelBusy(c[e+i*t.width])){f=!0;break}if(f)break;l++}f=!1;for(let e=t.width;e>=0;e--){for(let i=0;i<t.height;i++)if(a.Canvas.isPixelBusy(c[e+i*t.width])){f=!0;break}if(f)break;d++}l>4&&(l-=4),d>4&&(d-=4),l>d&&(l=d),d>l&&(d=l);let u=document.createElement(o.Tag.Canvas);u.width=t.width-l-d,u.height=t.height;const v=a.Canvas.getContext(u);v.fillStyle=s.Theme.background,v.fillRect(0,0,t.width,t.height),v.drawImage(t,-l,0),h.saveAs((e??"chart")+".png",u.toDataURL("image/png"))})}static asCsv(t,e){let i=t.querySelectorAll("tr"),s=[];for(let t=0;t<i.length;t++){let e=[],n=i[t].querySelectorAll("td, th");for(let t=0;t<n.length;t++){let i=n[t].innerHTML.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");i=i.replace(/"/g,'""'),e.push('"'+i+'"')}s.push(e.join(","))}h.saveAs((e??"table")+".csv",s.join("\n"),"data:text/csv;charset=utf-8,"+encodeURIComponent(s.join("\n")),!0)}static saveAs(t,e,i,s){if(null!=window.showSaveFilePicker){const n={suggestedName:t,types:[{accept:s?{"text/csv":".csv"}:{"image/*":".png"}}],excludeAcceptAllOption:!0};function a(t){const e=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(e.length),n=new Uint8Array(s);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return new Blob([s],{type:i})}window.showSaveFilePicker(n).then(t=>{t.createWritable().then(t=>{t.write(s?e:a(e)).then(()=>t.close())})})}else{let h=document.createElement(o.Tag.A);h.href=i??e,h.download=t,h.click()}}}e.Export=h},828:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Formatter=void 0;class i{}e.Formatter=i,i.number=t=>t?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})??"",i.date=t=>t.toLocaleDateString()},830:function(t,e,i){var s,n,a,o,h,r,l,d,c,f=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),u=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v=this&&this.__importStar||(s=function(t){return s=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},s(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),n=0;n<i.length;n++)"default"!==i[n]&&f(e,t,i[n]);return u(e,t),e}),p=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i},m=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const g=i(601),y=i(409),w=i(5),b=i(10),x=i(168),M=i(869),T=v(i(797)),P=i(283);e.Button=class{constructor(t,e){n.add(this),a.set(this,void 0),o.set(this,void 0),h.set(this,void 0),r.set(this,void 0),l.set(this,void 0),p(this,a,t,"f"),p(this,o,e,"f"),this.animations=new w.Animations,m(this,n,"m",d).call(this);const i=b.Helper.stringWidth(m(this,o,"f").text)+12;p(this,l,{x:m(this,o,"f").x+i>m(this,a,"f").width?m(this,a,"f").width-i:m(this,o,"f").x<0?m(this,a,"f").width+m(this,o,"f").x-i:m(this,o,"f").x,y:m(this,o,"f").y+20>m(this,a,"f").height?m(this,a,"f").height-20:m(this,o,"f").y<0?m(this,a,"f").height+m(this,o,"f").y-20:m(this,o,"f").y,width:i,height:20},"f")}render(t,e){m(this,r,"f")||m(this,n,"m",d).call(this);const i=x.Canvas.getContext(m(this,a,"f"));i.beginPath();const s=(t,e)=>{this.animations.reload("animation-button",e),i.fillStyle=b.Helper.adjustColor(y.Theme.canvasBackground,-Math.round(25*t))};return m(this,n,"m",c).call(this,t)?(m(this,a,"f").style.cursor=P.Styles.Cursor.Pointer,e&&m(this,n,"m",c).call(this,e)&&(m(this,o,"f").action(),e=void 0),this.animations.add("animation-button",M.AnimationType.MouseOver,{duration:300,body:t=>{s(t,M.AnimationType.MouseLeave)}})):this.animations.add("animation-button",M.AnimationType.MouseLeave,{timer:T.Dates.minDate,duration:300,backward:!0,body:t=>{s(t,M.AnimationType.MouseOver)}}),i.roundRect(m(this,l,"f").x,m(this,l,"f").y,m(this,l,"f").width,m(this,l,"f").height,4),i.fill(),g.TextStyles.regular(i),i.fillText(m(this,o,"f").text,m(this,l,"f").x+m(this,l,"f").width/2,m(this,l,"f").y+m(this,l,"f").height/2),p(this,r,!0,"f"),e}resize(){m(this,n,"m",d).call(this)}},a=new WeakMap,o=new WeakMap,h=new WeakMap,r=new WeakMap,l=new WeakMap,n=new WeakSet,d=function(){p(this,h,m(this,a,"f").getBoundingClientRect(),"f"),m(this,h,"f").x+=scrollX,m(this,h,"f").y+=scrollY},c=function(t){if(!t)return!1;let e=t.clientX-m(this,h,"f").x+scrollX,i=t.clientY-m(this,h,"f").y+scrollY;return e>=m(this,l,"f").x&&e<=m(this,l,"f").x+m(this,l,"f").width&&i>=m(this,l,"f").y&&i<=m(this,l,"f").y+m(this,l,"f").height}},869:(t,e)=>{var i,s,n,a,o,h,r,l,d,c,f,u;Object.defineProperty(e,"__esModule",{value:!0}),e.Icon=e.RenderState=e.Tag=e.PlotType=e.PlotAxisType=e.LineType=e.LegendPlace=e.Events=e.ErrorType=e.ChartType=e.Attribute=e.AnimationType=void 0,function(t){t[t.MouseOver=0]="MouseOver",t[t.MouseLeave=1]="MouseLeave",t[t.Init=2]="Init",t[t.Click=3]="Click",t[t.AnotherItemOver=4]="AnotherItemOver",t[t.AnotherItemLeave=5]="AnotherItemLeave"}(i||(e.AnimationType=i={})),function(t){t.Name="name"}(s||(e.Attribute=s={})),function(t){t[t.Plot=0]="Plot",t[t.Circular=1]="Circular",t[t.Gauge=2]="Gauge",t[t.TreeMap=3]="TreeMap"}(n||(e.ChartType=n={})),function(t){t.NullContext="Can't find context",t.ElementNotExist="Element does not exist"}(a||(e.ErrorType=a={})),function(t){t.VisibilityChanged="visibilitychange",t.Blur="blur",t.MouseMove="mousemove",t.Click="click",t.Change="change",t.ContextMenu="contextmenu"}(o||(e.Events=o={})),function(t){t[t.Bottom=0]="Bottom",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=3]="Right"}(h||(e.LegendPlace=h={})),function(t){t[t.Solid=0]="Solid",t[t.Dash=1]="Dash",t[t.Dotted=2]="Dotted"}(r||(e.LineType=r={})),function(t){t[t.Date=1]="Date"}(l||(e.PlotAxisType=l={})),function(t){t[t.Line=0]="Line",t[t.AttentionLine=1]="AttentionLine",t[t.Column=2]="Column",t[t.Bar=3]="Bar",t[t.StackingColumn=4]="StackingColumn"}(d||(e.PlotType=d={})),function(t){t.Canvas="canvas",t.A="a",t.Div="div",t.Dialog="dialog",t.Table="table",t.Script="script"}(c||(e.Tag=c={})),function(t){t[t.Idle=0]="Idle",t[t.Init=1]="Init"}(f||(e.RenderState=f={})),function(t){t.ThreeLines="☰"}(u||(e.Icon=u={}))},897:function(t,e,i){var s,n,a,o,h=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},r=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.Modal=void 0;const l=i(39),d=i(869);e.Modal=class{constructor(t,e){s.add(this),n.set(this,void 0),this.modal=document.createElement(d.Tag.Dialog),this.modal.classList.add("o-modal"),e&&(this.modal.style.width=`${e.width}px`,this.modal.style.height=`${e.height}px`),this.modal.oncancel=()=>this.close(),document.body.appendChild(this.modal),h(this,s,"m",a).call(this),h(this,s,"m",o).call(this,t)}open(){l.Errors.throwIsUndefined(this.modal,d.ErrorType.ElementNotExist),this.modal.showModal()}close(){l.Errors.throwIsUndefined(this.modal,d.ErrorType.ElementNotExist),this.modal.close(),this.modal.remove(),this.modal=void 0}},n=new WeakMap,s=new WeakSet,a=function(){l.Errors.throwIsUndefined(this.modal,d.ErrorType.ElementNotExist);let t=document.createElement("button");t.classList.add("o-modal-close"),t.innerHTML="x",this.modal.appendChild(t),t.onclick=()=>this.close()},o=function(t){null==h(this,n,"f")&&(r(this,n,document.createElement(d.Tag.Div),"f"),h(this,n,"f").classList.add("o-modal-content"),this.modal?.appendChild(h(this,n,"f"))),null!=t&&h(this,n,"f").appendChild(t)}},902:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PlotSeries=void 0;const s=i(527),n=i(869);class a extends s.Value{constructor(t){super(),this.lineType=n.LineType.Solid,Object.assign(this,t)}toggle(t){super.toggle(t)}checkCondition(){return super.checkCondition(),!0}reset(){super.reset()}}e.PlotSeries=a},927:function(t,e,i){var s,n,a,o,h,r,l,d=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,n)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),c=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),f=this&&this.__importStar||(s=function(t){return s=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},s(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),n=0;n<i.length;n++)"default"!==i[n]&&d(e,t,i[n]);return c(e,t),e}),u=this&&this.__classPrivateFieldSet||function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i},v=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Legend=void 0;const p=i(688),m=i(10),g=i(138),y=i(409),w=i(601),b=i(168),x=i(830),M=i(147),T=f(i(797)),P=i(283),S=i(869);class C extends p.Renderable{constructor(t){super(t),n.add(this),a.set(this,void 0),o.set(this,void 0),h.set(this,void 0),r.set(this,void 0),this.isDestroy=!1,u(this,h,t,"f"),this.calculateSizes(),this.settings.disableInteractions||u(this,a,new x.Button(this.canvas,{x:-10,y:12,text:M.TextResources.reset,action:()=>{for(let t of this.settings.data.values)t.reset()}}),"f"),u(this,o,{x:C.getOffsetToCenter(this.settings.data.values,this.canvas.width),y:(this.canvas.height-C.getLegendHeight(this.settings.data.values,this.canvas.width))/2},"f")}render(){super.render();const t=b.Canvas.getContext(this.canvas);let e={x:20,y:21};this.canvas.style.cursor=P.Styles.Cursor.Default,w.TextStyles.regular(t),t.textAlign="start",t.textBaseline="alphabetic",t.translate(v(this,o,"f").x,v(this,o,"f").y),u(this,r,0,"f");for(const t of this.settings.data.values.filter(t=>!t.hideInLegend))e=v(this,n,"m",l).call(this,t,e.x,e.y);t.translate(-v(this,o,"f").x,-v(this,o,"f").y),this.isDestroy||requestAnimationFrame(this.render.bind(this)),this.onClickEvent=v(this,a,"f")?.render(this.onMouseMoveEvent,this.onClickEvent),this.state=S.RenderState.Idle}destroy(){this.isDestroy=!0,this.canvas.remove()}refresh(){this.state=S.RenderState.Init}resize(){this.calculateSizes(),v(this,a,"f")?.resize(),this.initAnimations()}calculateSizes(){switch(this.settings.legendPlace){case S.LegendPlace.Bottom:default:this.canvas.width=this.settings.width,this.canvas.height=C.getLegendHeight(this.settings.data.values,this.canvas.width),this.node.style.flexDirection=P.Styles.FlexDirection.Column;break;case S.LegendPlace.Top:this.canvas.width=this.settings.width,this.canvas.height=C.getLegendHeight(this.settings.data.values,this.canvas.width),this.node.style.flexDirection=P.Styles.FlexDirection.ColumnReverse;break;case S.LegendPlace.Left:this.canvas.width=500,this.canvas.height=this.settings.height,this.node.style.flexDirection=P.Styles.FlexDirection.Row;break;case S.LegendPlace.Right:this.canvas.width=500,this.canvas.height=this.settings.height,this.node.style.flexDirection=P.Styles.FlexDirection.RowReverse}}static getOffsetToCenter(t,e){let i=20;for(const s of t.filter(t=>!t.hideInLegend)){const t=m.Helper.stringWidth(s.label);if(i+t+47>=e-100)break;i+=t+47}return e/2-i/2}static getLegendHeight(t,e){let i=1,s=20,n=C.getOffsetToCenter(t,e);for(const a of t.filter(t=>!t.hideInLegend)){const t=m.Helper.stringWidth(a.label);s+t+48>=e-32-n&&(s=20,i++),s+=t+48}return 24+20*i+6*(i-1)}}e.Legend=C,a=new WeakMap,o=new WeakMap,h=new WeakMap,r=new WeakMap,n=new WeakSet,l=function(t,e,i){var s;const n=b.Canvas.getContext(this.canvas),a=m.Helper.stringWidth(t.label);e+48+a>=this.canvas.width-40-v(this,o,"f").x&&(e=20,i+=26);let l=e-6-6,d=i-3-6,c=12+a+18;const f=t=>{if(!t)return!1;const e=t.clientX-this.canvasPosition.x+scrollX-v(this,o,"f").x,i=t.clientY-this.canvasPosition.y+scrollY-v(this,o,"f").y;return e>=l&&e<=l+c&&i>=d&&i<=d+20},p=(e,i)=>{this.animations.reload(t.id,i),n.beginPath(),n.roundRect(l,d,c,20,6),n.fillStyle=m.Helper.adjustColor(y.Theme.canvasBackground,Math.round(-25*e)),n.fill()};return this.animations.add(t.id,S.AnimationType.Click,{duration:T.Animations.legend,continuous:!0,before:()=>null!=this.onClickEvent&&(f(this.onClickEvent)||t instanceof g.Sector&&0!==t.current&&t.value!==t.current)&&t.checkCondition(),body:e=>{t.toggle(e),1==e&&(this.onClickEvent=new PointerEvent(S.Events.Click))}}),f(this.onMouseMoveEvent)?(this.animations.add(t.id,S.AnimationType.MouseOver,{duration:T.Animations.button,body:t=>{p(t,S.AnimationType.MouseLeave)}}),t.disabled||(u(this,r,(s=v(this,r,"f"),++s),"f"),v(this,h,"f").highlight(t)),this.canvas.style.cursor=P.Styles.Cursor.Pointer):(this.animations.add(t.id,S.AnimationType.MouseLeave,{timer:T.Dates.minDate,duration:T.Animations.button,backward:!0,body:t=>{p(t,S.AnimationType.MouseOver)}}),0==v(this,r,"f")&&v(this,h,"f").highlight()),n.beginPath(),n.arc(e-1,i+1,3,0,2*Math.PI),n.fillStyle=t.disabled?m.Helper.grayScale(t.color):t.color,n.fill(),n.fillStyle=y.Theme.text,t.disabled&&(n.fillStyle+="7f"),n.fillText(t.label,e+9+1,i+6),e+=20,t.disabled&&(n.moveTo(e-10,i+2),n.lineTo(e+a-10,i+2),n.strokeStyle=y.Theme.text+"7f",n.stroke()),{x:e+=a+22,y:i}}},975:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Values=void 0;class i{}e.Values=i,i.titleOffset=30}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,i),a.exports}Number.prototype.isAnyEquals=function(...t){return t.includes(this)},Date.prototype.addDays=function(t){let e=new Date(this);return e.setDate(e.getDate()+t),e},Date.prototype.addMilliseconds=function(t){let e=new Date(this);return e.setMilliseconds(e.getMilliseconds()+t),e},Map.prototype.trySet=function(t,e){this.has(t)||this.set(t,e)},(()=>{const t=i(88);function e(){}e.chart=function(e,i){return new t.Chart(e,i)},window.OCharts=e})()})();
//# sourceMappingURL=ocharts.js.map