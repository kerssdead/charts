/*
    #322 Title is not displaying
    https://github.com/kerssdead/charts/issues/322
 */

import { expect, test } from '@playwright/test'
import { Screenshot } from './utils/Screenshot'
import { BrowserResult } from './utils/BrowserResult'

test('Plot title should be rendered', async ({ page, browserName }) => {
    await page.goto('/charts/')

    const title = page.locator('#title'),
        legend = page.locator('#legend'),
        chartType = page.locator('#chart-type')

    await legend.click()
    await title.click()

    await chartType.selectOption('0')

    const frame = await Screenshot.get(page, {
        x: 440,
        y: 10,
        width: 48,
        height: 30
    })

    const result: BrowserResult = {
        chromium: '/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAeADADASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAAAAcEBQgCBv/EACwQAAEDBAEEAQIGAwAAAAAAAAECAwQABQYREgcTITFBFXEIFBYiMzhRdrP/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A1TRVVk7t4Ysr7mNRYkq6Ap7TUt0ttqHIctqAJHjZ+9KiNnvUuRmczGG8axv6nFiImObnOcO2pXEaPH3v41QOyil+nMrxZrdkU7L4VrjM2m3ol8Ic0LW4521KW3pWinZACSQOW6jRepf5+b04RCjRls5S065I09zMRSY6XeGx7IKtHYH2oGTRUCXerXCmtQ5lyhR5bv8AGw6+lC1/ZJOzU+gKVFl/szkX+vx/+tNeqlnHbWxk0nIWovG7yI6YrsjuKPJpJ2E8d8R5+QN0CRy6JGmZN14RLjsvoRj8Z1KXUBQStEV1SVDfohQBB9ggGuLFAhQJv4fBAix4wfhvvvdltKO46qA3yWrQ8qJ9k+TTs/Stl+p3m4KgoXKvLKI89S1qUl9tKSlKSkniBxUR4A3vzVRj3TLEsfVa1Wq2LaVbH3pMPlLec7K3UBtZHJZ2ClIGjsD2PJJoM94hYbplGK5fdbnjuJ3N+VNlifcrtMUiTDKfBSD2z2ggAEaI8arQvR0zT0xx4XOcxcJSYwQZTDhcQ6kEhCgogE/tCfJHv/Puol/6R4TfrvJuVxs25UpQVJ7Mh1lEgg7BcQhQSo787I2fmvbxY7MSMzGitIZjsoDbbaBpKEgaAA+ABQf/2Q==',
        firefox: '/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAeADADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6porJ8U22sXejSw+G7+30/UiylLi4g85FGeQVyM5GRXjlnqPxSufiRqHhEeKtFWW0sEvzc/2V8rBmC7du7365oA95oryS+8b6j4N07xfP4n8R6Rqd3pFjC8drDbPCy3DxsVD4zxIwUDB49qi0v4pTeIL34YyaRPbG315p4tTiRCfLljt1kMak8jaxxnvQB7BRXG6/8UPBXh/W/wCyNY8R2NrqIIDRMxPlk84cgEJ/wIiuwikSaJJInV43AZWU5DA9CD3FADq8l0X/AJOd8Rf9i9B/6NFetVUTTLCPVJNSSytV1GSMQvdCJRK6A5Cl8ZK57ZxQB4br6l/Fnx8VQWY+HYAABkk/Y5ag0m6t7qX9ns2s8UwjtZInMbhtrrYoGU46EHqK94TStPS8vLtLC0W6vFVLmYQqHnVRhQ7YywAJAB6VS07wr4e0wWo07Q9LtRaSPLb+TaRp5LuMMyYHykgAEjqOKAPmjwC2pw+CfGcGp+JfC+mA392NZtdUsTLcO54JP7wFgR93jrkDJr3v4LWhsfhX4bt/tct4iWo8qeWExM8ZJKfISSPlKgc9BWpq3gnwvrGqrqWq+HtKvNQXGLie1R3OOmSRzjtmuhACgAAADgAUAf/Z',
        webkit: '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'
    }

    expect(frame).toBe(result[browserName])
})