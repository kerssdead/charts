<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>
        Donut Example
    </title>

    <script src="/ch.min.js"></script>
</head>

<body>
    <div id="pie-example" style="text-align: center"></div>
</body>

<script>
    const labelsPool = ['test 1', 'test 2', 'some label', 'another one', 'label', 'test 3', 'chart label', 'custom']

    let values = []
    const valuesCount = Math.floor(Math.random() * 25) + 2

    for (let i = 0; i < valuesCount; i++)
        values.push({
            value: Math.random(),
            label: labelsPool[Math.floor(Math.random() * labelsPool.length)]
        })

    values.unshift({
        label: 'null'
    })

    let chart = new OChart(document.getElementById('pie-example'), {
        width: 1600,
        height: 940,
        enableLegend: true,
        enableTooltip: true,
        title: 'Donut Chart',
        data: {
            type: OCircularTypes.donut,
            values: values,
            innerRadius: 50,
            innerTitle: `Average: ${(values.filter(v => v.value !== undefined).map(v => v.value).reduce((a, b) => a + b) / values.length).toPrecision(2)}`
        },
        type: OChartTypes.circular
    })

    chart.render()
</script>
</html>