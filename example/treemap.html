<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>
        Tree Map Example
    </title>

    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="/dist/main.css">

    <script src="/dist/ocharts.js"></script>
</head>

<body>
<div id="pie-example" style="text-align: center"></div>
</body>

<template id="pie-chart-tooltip">
    <div style="display: flex; flex-direction: column; gap: 8px; padding: 8px; border: 1px solid black; border-radius: 4px; background-color: #ffffff">
        <img src="https://placecats.com/${ Id }/${ Id }" alt="cat"/>

        <span>
            ${ Id }, ${ Name }
        </span>

        <b>
            ${ Value }
        </b>
    </div>
</template>

<script>
    document.getElementById('pie-example').innerHTML = ''

    const labelsPool = ['test 1', 'test 2', 'test 3', 'another one', 'label', 'some label', 'chart label', 'custom']

    let values = []
    const valuesCount = Math.floor(Math.random() * 25) + 2

    for (let i = 0; i < valuesCount; i++)
        values.push({
            value: Math.random(),
            label: labelsPool[Math.floor(Math.random() * labelsPool.length)],
            data: {
                Id: 50,
                Name: 'First Second',
                Value: 16
            }
        })

    let chart = OCharts.chart(document.getElementById('pie-example'), {
        title: 'Tree Map',
        enableTooltip: true,
        data: {
            values: values,
            padding: 20,
            color: 'red'
        },
        type: 3,
        templateId: 'pie-chart-tooltip'
    })

    chart.render()
</script>
</html>